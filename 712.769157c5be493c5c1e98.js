(self.webpackChunkideal_app=self.webpackChunkideal_app||[]).push([[712],{2508:M=>{window,M.exports=function(f){var d={};function m(h){if(d[h])return d[h].exports;var g=d[h]={i:h,l:!1,exports:{}};return f[h].call(g.exports,g,g.exports,m),g.l=!0,g.exports}return m.m=f,m.c=d,m.d=function(h,g,x){m.o(h,g)||Object.defineProperty(h,g,{enumerable:!0,get:x})},m.r=function(h){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},m.t=function(h,g){if(1&g&&(h=m(h)),8&g||4&g&&"object"==typeof h&&h&&h.__esModule)return h;var x=Object.create(null);if(m.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:h}),2&g&&"string"!=typeof h)for(var v in h)m.d(x,v,function(p){return h[p]}.bind(null,v));return x},m.n=function(h){var g=h&&h.__esModule?function(){return h.default}:function(){return h};return m.d(g,"a",g),g},m.o=function(h,g){return Object.prototype.hasOwnProperty.call(h,g)},m.p="",m(m.s=0)}([function(f,d,m){"use strict";m.r(d);var h,g=function(t,e){var i=e.x-t.x,s=e.y-t.y;return Math.sqrt(i*i+s*s)},x=function(t){return t*(Math.PI/180)},p=function(t,e,i){for(var s,c=e.split(/[ ,]+/g),b=0;b<c.length;b+=1)s=c[b],t.addEventListener?t.addEventListener(s,i,!1):t.attachEvent&&t.attachEvent(s,i)},a=function(t,e,i){for(var s,c=e.split(/[ ,]+/g),b=0;b<c.length;b+=1)s=c[b],t.removeEventListener?t.removeEventListener(s,i):t.detachEvent&&t.detachEvent(s,i)},n=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},u=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},O=function(t,e){e.top||e.right||e.bottom||e.left?(t.style.top=e.top,t.style.right=e.right,t.style.bottom=e.bottom,t.style.left=e.left):(t.style.left=e.x+"px",t.style.top=e.y+"px")},S=function(t,e,i){var s=_(t);for(var c in s)if(s.hasOwnProperty(c))if("string"==typeof e)s[c]=e+" "+i;else{for(var b="",D=0,E=e.length;D<E;D+=1)b+=e[D]+" "+i+", ";s[c]=b.slice(0,-2)}return s},_=function(t){var e={};return e[t]="",["webkit","Moz","o"].forEach(function(i){e[i+t.charAt(0).toUpperCase()+t.slice(1)]=""}),e},w=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},T=function(t,e){if(t.length)for(var i=0,s=t.length;i<s;i+=1)e(t[i]);else e(t)},P="ontouchstart"in window,F=!!window.PointerEvent,B=!!window.MSPointerEvent,U={start:"mousedown",move:"mousemove",end:"mouseup"},r={};function Q(){}F?h={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:B?h={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:P?(h={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},r=U):h=U,Q.prototype.on=function(t,e){var i,s=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var c=0;c<s.length;c+=1)this._handlers_[i=s[c]]=this._handlers_[i]||[],this._handlers_[i].push(e);return this},Q.prototype.off=function(t,e){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===e?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(e)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(e),1),this},Q.prototype.trigger=function(t,e){var i,s=this,c=t.split(/[ ,]+/g);s._handlers_=s._handlers_||{};for(var b=0;b<c.length;b+=1)s._handlers_[i=c[b]]&&s._handlers_[i].length&&s._handlers_[i].forEach(function(D){D.call(s,{type:i,target:s},e)})},Q.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(e,i){var s={};for(var c in e)e.hasOwnProperty(c)&&i.hasOwnProperty(c)?s[c]=i[c]:e.hasOwnProperty(c)&&(s[c]=e[c]);return s}(this.options,t))},Q.prototype.bindEvt=function(t,e){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[e]=function(){"function"==typeof i["on"+e]?i["on"+e].apply(i,arguments):console.warn('[WARNING] : Missing "on'+e+'" handler.')},p(t,h[e],i._domHandlers_[e]),r[e]&&p(t,r[e],i._domHandlers_[e]),i},Q.prototype.unbindEvt=function(t,e){return this._domHandlers_=this._domHandlers_||{},a(t,h[e],this._domHandlers_[e]),r[e]&&a(t,r[e],this._domHandlers_[e]),delete this._domHandlers_[e],this};var N=Q;function j(t,e){return this.identifier=e.identifier,this.position=e.position,this.frontPosition=e.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(e),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=j.id,j.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}j.prototype=new N,j.constructor=j,j.id=0,j.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},j.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",e=function(c,b){var D=_("borderRadius");for(var E in D)D.hasOwnProperty(E)&&(D[E]="50%");return D}(),i=S("transition","opacity",t),s={};return s.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},s.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},s.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},w(s.el,i),"circle"===this.options.shape&&w(s.back,e),w(s.front,e),this.applyStyles(s),this},j.prototype.applyStyles=function(t){for(var e in this.ui)if(this.ui.hasOwnProperty(e))for(var i in t[e])this.ui[e].style[i]=t[e][i];return this},j.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},j.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},j.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},j.prototype.show=function(t){var e=this;return e.options.dataOnly||(clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.addToDom(),e.restCallback(),setTimeout(function(){e.ui.el.style.opacity=1},0),e.showTimeout=setTimeout(function(){e.trigger("shown",e.instance),"function"==typeof t&&t.call(this)},e.options.fadeTime)),e},j.prototype.hide=function(t){var e=this;return e.options.dataOnly||(e.ui.el.style.opacity=e.options.restOpacity,clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.removeTimeout=setTimeout(function(){e.ui.el.style.display="dynamic"===e.options.mode?"none":"block","function"==typeof t&&t.call(e),e.trigger("hidden",e.instance)},e.options.fadeTime),e.options.restJoystick&&e.setPosition(t,{x:0,y:0})),e},j.prototype.setPosition=function(t,e){var i=this;i.frontPosition={x:e.x,y:e.y};var c={};c.front=S("transition",["top","left"],i.options.fadeTime+"ms");var b={front:{}};b.front={left:i.frontPosition.x+"px",top:i.frontPosition.y+"px"},i.applyStyles(c),i.applyStyles(b),i.restTimeout=setTimeout(function(){"function"==typeof t&&t.call(i),i.restCallback()},i.options.fadeTime)},j.prototype.restCallback=function(){var t={};t.front=S("transition","none",""),this.applyStyles(t),this.trigger("rested",this.instance)},j.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},j.prototype.computeDirection=function(t){var e,i,s,c=t.angle.radian,b=Math.PI/4,D=Math.PI/2;if(c>b&&c<3*b&&!t.lockX?e="up":c>-b&&c<=b&&!t.lockY?e="left":c>3*-b&&c<=-b&&!t.lockX?e="down":t.lockY||(e="right"),t.lockY||(i=c>-D&&c<D?"left":"right"),t.lockX||(s=c>0?"up":"down"),t.force>this.options.threshold){var E,L={};for(E in this.direction)this.direction.hasOwnProperty(E)&&(L[E]=this.direction[E]);var I={};for(E in this.direction={x:i,y:s,angle:e},t.direction=this.direction,L)L[E]===this.direction[E]&&(I[E]=!0);if(I.x&&I.y&&I.angle)return t;I.x&&I.y||this.trigger("plain",t),I.x||this.trigger("plain:"+i,t),I.y||this.trigger("plain:"+s,t),I.angle||this.trigger("dir dir:"+e,t)}else this.resetDirection();return t};var ut=j;function C(t,e){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=C.id,C.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1},this.config(e),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}C.prototype=new N,C.constructor=C,C.id=0,C.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(e){if(void 0===e)return t[0];for(var i=0,s=t.length;i<s;i+=1)if(t[i].identifier===e)return t[i];return!1}},C.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},C.prototype.begin=function(){var t=this.options;if("static"===t.mode){var e=this.createNipple(t.position,this.manager.getIdentifier());e.add(),this.idles.push(e)}},C.prototype.createNipple=function(t,e){var i=u(),s={},c=this.options;if(t.x&&t.y)s={x:t.x-(i.x+this.box.left),y:t.y-(i.y+this.box.top)};else if(t.top||t.right||t.bottom||t.left){var b=document.createElement("DIV");b.style.display="hidden",b.style.top=t.top,b.style.right=t.right,b.style.bottom=t.bottom,b.style.left=t.left,b.style.position="absolute",c.zone.appendChild(b);var D=b.getBoundingClientRect();c.zone.removeChild(b),s=t,t={x:D.left+i.x,y:D.top+i.y}}var E=new ut(this,{color:c.color,size:c.size,threshold:c.threshold,fadeTime:c.fadeTime,dataOnly:c.dataOnly,restJoystick:c.restJoystick,restOpacity:c.restOpacity,mode:c.mode,identifier:e,position:t,zone:c.zone,frontPosition:{x:0,y:0},shape:c.shape});return c.dataOnly||(O(E.ui.el,s),O(E.ui.front,E.frontPosition)),this.nipples.push(E),this.trigger("added "+E.identifier+":added",E),this.manager.trigger("added "+E.identifier+":added",E),this.bindNipple(E),E},C.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},C.prototype.bindNipple=function(t){var i=this,s=function(c,b){i.trigger(c.type+" "+b.id+":"+c.type,b)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",s),t.on("dir:up dir:right dir:down dir:left",s),t.on("plain:up plain:right plain:down plain:left",s)},C.prototype.pressureFn=function(t,e,i){var s=this,c=0;clearInterval(s.pressureIntervals[i]),s.pressureIntervals[i]=setInterval(function(){var b=t.force||t.pressure||t.webkitForce||0;b!==c&&(e.trigger("pressure",b),s.trigger("pressure "+e.identifier+":pressure",b),c=b)}.bind(s),100)},C.prototype.onstart=function(t){var e=this,i=e.options,s=t;return t=n(t),e.updateBox(),T(t,function(c){e.actives.length<i.maxNumberOfNipples?e.processOnStart(c):s.type.match(/^touch/)&&(Object.keys(e.manager.ids).forEach(function(b){if(Object.values(s.touches).findIndex(function(E){return E.identifier===b})<0){var D=[t[0]];D.identifier=b,e.processOnEnd(D)}}),e.actives.length<i.maxNumberOfNipples&&e.processOnStart(c))}),e.manager.bindDocument(),!1},C.prototype.processOnStart=function(t){var e,i=this,s=i.options,c=i.manager.getIdentifier(t),b=t.force||t.pressure||t.webkitForce||0,D={x:t.pageX,y:t.pageY},E=i.getOrCreate(c,D);E.identifier!==c&&i.manager.removeIdentifier(E.identifier),E.identifier=c;var L=function(I){I.trigger("start",I),i.trigger("start "+I.id+":start",I),I.show(),b>0&&i.pressureFn(t,I,I.identifier),i.processOnMove(t)};if((e=i.idles.indexOf(E))>=0&&i.idles.splice(e,1),i.actives.push(E),i.ids.push(E.identifier),"semi"!==s.mode)L(E);else{if(!(g(D,E.position)<=s.catchDistance))return E.destroy(),void i.processOnStart(t);L(E)}return E},C.prototype.getOrCreate=function(t,e){var i,s=this.options;return/(semi|static)/.test(s.mode)?(i=this.idles[0])?(this.idles.splice(0,1),i):"semi"===s.mode?this.createNipple(e,t):(console.warn("Coudln't find the needed nipple."),!1):i=this.createNipple(e,t)},C.prototype.processOnMove=function(t){var k,e=this.options,i=this.manager.getIdentifier(t),s=this.nipples.get(i);if(k=t,isNaN(k.buttons)?0!==k.pressure:0!==k.buttons){if(!s)return console.error("Found zombie joystick with ID "+i),void this.manager.removeIdentifier(i);if(e.dynamicPage){var c=u();D=s.el.getBoundingClientRect(),s.position={x:c.x+D.left,y:c.y+D.top}}s.identifier=i;var b=s.options.size/2,D={x:t.pageX,y:t.pageY};e.lockX&&(D.y=s.position.y),e.lockY&&(D.x=s.position.x);var E,L,it,nt,q,tt,$=g(D,s.position),K=(E=D,L=s.position,function(t){return t*(180/Math.PI)}(Math.atan2(L.y-E.y,L.x-E.x))),vt=x(K),lt=$/b,dt={distance:$,position:D};"circle"===s.options.shape?($=Math.min($,b),it=s.position,nt=$,tt={x:0,y:0},q=x(q=K),tt.x=it.x-nt*Math.cos(q),tt.y=it.y-nt*Math.sin(q),D=tt):(D=function(k,o,y){return{x:Math.min(Math.max(k.x,o.x-y),o.x+y),y:Math.min(Math.max(k.y,o.y-y),o.y+y)}}(D,s.position,b),$=g(D,s.position));var rt=D.x-s.position.x,st=D.y-s.position.y;s.frontPosition={x:rt,y:st},e.dataOnly||O(s.ui.front,s.frontPosition);var l={identifier:s.identifier,position:D,force:lt,pressure:t.force||t.pressure||t.webkitForce||0,distance:$,angle:{radian:vt,degree:K},vector:{x:rt/b,y:-st/b},raw:dt,instance:s,lockX:e.lockX,lockY:e.lockY};(l=s.computeDirection(l)).angle={radian:x(180-K),degree:180-K},s.trigger("move",l),this.trigger("move "+s.id+":move",l)}else this.processOnEnd(t)},C.prototype.processOnEnd=function(t){var e=this,i=e.options,s=e.manager.getIdentifier(t),c=e.nipples.get(s),b=e.manager.removeIdentifier(c.identifier);c&&(i.dataOnly||c.hide(function(){"dynamic"===i.mode&&(c.trigger("removed",c),e.trigger("removed "+c.id+":removed",c),e.manager.trigger("removed "+c.id+":removed",c),c.destroy())}),clearInterval(e.pressureIntervals[c.identifier]),c.resetDirection(),c.trigger("end",c),e.trigger("end "+c.id+":end",c),e.ids.indexOf(c.identifier)>=0&&e.ids.splice(e.ids.indexOf(c.identifier),1),e.actives.indexOf(c)>=0&&e.actives.splice(e.actives.indexOf(c),1),/(semi|static)/.test(i.mode)?e.idles.push(c):e.nipples.indexOf(c)>=0&&e.nipples.splice(e.nipples.indexOf(c),1),e.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(e.manager.ids[b.id]=b.identifier))},C.prototype.onDestroyed=function(t,e){this.nipples.indexOf(e)>=0&&this.nipples.splice(this.nipples.indexOf(e),1),this.actives.indexOf(e)>=0&&this.actives.splice(this.actives.indexOf(e),1),this.idles.indexOf(e)>=0&&this.idles.splice(this.idles.indexOf(e),1),this.ids.indexOf(e.identifier)>=0&&this.ids.splice(this.ids.indexOf(e.identifier),1),this.manager.removeIdentifier(e.identifier),this.manager.unbindDocument()},C.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach(function(e){e.destroy()}),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var yt=C;function R(t){var e,i=this;return i.ids={},i.index=0,i.collections=[],i.config(t),i.prepareCollections(),p(window,"resize",function(s){clearTimeout(e),e=setTimeout(function(){var c,b=u();i.collections.forEach(function(D){D.forEach(function(E){c=E.el.getBoundingClientRect(),E.position={x:b.x+c.left,y:b.y+c.top}})})},100)}),i.collections}R.prototype=new N,R.constructor=R,R.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(e){var i;return t.collections.every(function(s){return!(i=s.get(e))}),i}},R.prototype.create=function(t){return this.createCollection(t)},R.prototype.createCollection=function(t){var e=new yt(this,t);return this.bindCollection(e),this.collections.push(e),e},R.prototype.bindCollection=function(t){var i=this,s=function(c,b){i.trigger(c.type+" "+b.id+":"+c.type,b)};t.on("destroyed",i.onDestroyed.bind(i)),t.on("shown hidden rested dir plain",s),t.on("dir:up dir:right dir:down dir:left",s),t.on("plain:up plain:right plain:down plain:left",s)},R.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},R.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},R.prototype.getIdentifier=function(t){var e;return t?void 0===(e=void 0===t.identifier?t.pointerId:t.identifier)&&(e=this.latest||0):e=this.index,void 0===this.ids[e]&&(this.ids[e]=this.index,this.index+=1),this.latest=e,this.ids[e]},R.prototype.removeIdentifier=function(t){var e={};for(var i in this.ids)if(this.ids[i]===t){e.id=i,e.identifier=this.ids[i],delete this.ids[i];break}return e},R.prototype.onmove=function(t){return this.onAny("move",t),!1},R.prototype.onend=function(t){return this.onAny("end",t),!1},R.prototype.oncancel=function(t){return this.onAny("end",t),!1},R.prototype.onAny=function(t,e){var i,s=this,c="processOn"+t.charAt(0).toUpperCase()+t.slice(1);return e=n(e),T(e,function(b){i=s.getIdentifier(b),T(s.collections,function(D,E,L){L.ids.indexOf(E)>=0&&(L[c](D),D._found_=!0)}.bind(null,b,i)),b._found_||s.removeIdentifier(i)}),!1},R.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach(function(t){t.destroy()}),this.off()},R.prototype.onDestroyed=function(t,e){if(this.collections.indexOf(e)<0)return!1;this.collections.splice(this.collections.indexOf(e),1)};var et=new R;d.default={create:function(t){return et.create(t)},factory:et}}]).default},3576:(M,f,d)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var m=d(5730),h=d(7104),g=d(6232),x=d(3915),v=d(8273),p=function(){function n(u){this._isScalar=!1,u&&(this._subscribe=u)}return n.prototype.lift=function(u){var O=new n;return O.source=this,O.operator=u,O},n.prototype.subscribe=function(u,O,S){var _=this.operator,w=h.toSubscriber(u,O,S);if(w.add(_?_.call(w,this.source):this.source||v.config.useDeprecatedSynchronousErrorHandling&&!w.syncErrorThrowable?this._subscribe(w):this._trySubscribe(w)),v.config.useDeprecatedSynchronousErrorHandling&&w.syncErrorThrowable&&(w.syncErrorThrowable=!1,w.syncErrorThrown))throw w.syncErrorValue;return w},n.prototype._trySubscribe=function(u){try{return this._subscribe(u)}catch(O){v.config.useDeprecatedSynchronousErrorHandling&&(u.syncErrorThrown=!0,u.syncErrorValue=O),m.canReportError(u)?u.error(O):console.warn(O)}},n.prototype.forEach=function(u,O){var S=this;return new(O=a(O))(function(_,w){var T;T=S.subscribe(function(P){try{u(P)}catch(F){w(F),T&&T.unsubscribe()}},w,_)})},n.prototype._subscribe=function(u){var O=this.source;return O&&O.subscribe(u)},n.prototype[g.observable]=function(){return this},n.prototype.pipe=function(){for(var u=[],O=0;O<arguments.length;O++)u[O]=arguments[O];return 0===u.length?this:x.pipeFromArray(u)(this)},n.prototype.toPromise=function(u){var O=this;return new(u=a(u))(function(S,_){var w;O.subscribe(function(T){return w=T},function(T){return _(T)},function(){return S(w)})})},n.create=function(u){return new n(u)},n}();function a(n){if(n||(n=v.config.Promise||Promise),!n)throw new Error("no Promise impl found");return n}f.Observable=p},6011:(M,f,d)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var m=d(8273),h=d(2434);f.empty={closed:!0,next:function(g){},error:function(g){if(m.config.useDeprecatedSynchronousErrorHandling)throw g;h.hostReportError(g)},complete:function(){}}},1773:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var d=function(){function m(h,g){void 0===g&&(g=m.now),this.SchedulerAction=h,this.now=g}return m.prototype.schedule=function(h,g,x){return void 0===g&&(g=0),new this.SchedulerAction(this,h).schedule(x,g)},m.now=function(){return Date.now()},m}();f.Scheduler=d},7241:function(M,f,d){"use strict";var O,m=this&&this.__extends||(O=function(S,_){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var P in T)T.hasOwnProperty(P)&&(w[P]=T[P])})(S,_)},function(S,_){function w(){this.constructor=S}O(S,_),S.prototype=null===_?Object.create(_):(w.prototype=_.prototype,new w)});Object.defineProperty(f,"__esModule",{value:!0});var h=d(7382),g=d(6011),x=d(3984),v=d(1476),p=d(8273),a=d(2434),n=function(O){function S(_,w,T){var P=O.call(this)||this;switch(P.syncErrorValue=null,P.syncErrorThrown=!1,P.syncErrorThrowable=!1,P.isStopped=!1,arguments.length){case 0:P.destination=g.empty;break;case 1:if(!_){P.destination=g.empty;break}if("object"==typeof _){_ instanceof S?(P.syncErrorThrowable=_.syncErrorThrowable,P.destination=_,_.add(P)):(P.syncErrorThrowable=!0,P.destination=new u(P,_));break}default:P.syncErrorThrowable=!0,P.destination=new u(P,_,w,T)}return P}return m(S,O),S.prototype[v.rxSubscriber]=function(){return this},S.create=function(_,w,T){var P=new S(_,w,T);return P.syncErrorThrowable=!1,P},S.prototype.next=function(_){this.isStopped||this._next(_)},S.prototype.error=function(_){this.isStopped||(this.isStopped=!0,this._error(_))},S.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},S.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,O.prototype.unsubscribe.call(this))},S.prototype._next=function(_){this.destination.next(_)},S.prototype._error=function(_){this.destination.error(_),this.unsubscribe()},S.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},S.prototype._unsubscribeAndRecycle=function(){var _=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=_,this},S}(x.Subscription);f.Subscriber=n;var u=function(O){function S(_,w,T,P){var F=O.call(this)||this;F._parentSubscriber=_;var B,U=F;return h.isFunction(w)?B=w:w&&(B=w.next,T=w.error,P=w.complete,w!==g.empty&&(U=Object.create(w),h.isFunction(U.unsubscribe)&&F.add(U.unsubscribe.bind(U)),U.unsubscribe=F.unsubscribe.bind(F))),F._context=U,F._next=B,F._error=T,F._complete=P,F}return m(S,O),S.prototype.next=function(_){if(!this.isStopped&&this._next){var w=this._parentSubscriber;p.config.useDeprecatedSynchronousErrorHandling&&w.syncErrorThrowable?this.__tryOrSetError(w,this._next,_)&&this.unsubscribe():this.__tryOrUnsub(this._next,_)}},S.prototype.error=function(_){if(!this.isStopped){var w=this._parentSubscriber,T=p.config.useDeprecatedSynchronousErrorHandling;if(this._error)T&&w.syncErrorThrowable?(this.__tryOrSetError(w,this._error,_),this.unsubscribe()):(this.__tryOrUnsub(this._error,_),this.unsubscribe());else if(w.syncErrorThrowable)T?(w.syncErrorValue=_,w.syncErrorThrown=!0):a.hostReportError(_),this.unsubscribe();else{if(this.unsubscribe(),T)throw _;a.hostReportError(_)}}},S.prototype.complete=function(){var _=this;if(!this.isStopped){var w=this._parentSubscriber;if(this._complete){var T=function(){return _._complete.call(_._context)};p.config.useDeprecatedSynchronousErrorHandling&&w.syncErrorThrowable?(this.__tryOrSetError(w,T),this.unsubscribe()):(this.__tryOrUnsub(T),this.unsubscribe())}else this.unsubscribe()}},S.prototype.__tryOrUnsub=function(_,w){try{_.call(this._context,w)}catch(T){if(this.unsubscribe(),p.config.useDeprecatedSynchronousErrorHandling)throw T;a.hostReportError(T)}},S.prototype.__tryOrSetError=function(_,w,T){if(!p.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{w.call(this._context,T)}catch(P){return p.config.useDeprecatedSynchronousErrorHandling?(_.syncErrorValue=P,_.syncErrorThrown=!0,!0):(a.hostReportError(P),!0)}return!1},S.prototype._unsubscribe=function(){var _=this._parentSubscriber;this._context=null,this._parentSubscriber=null,_.unsubscribe()},S}(n);f.SafeSubscriber=u},3984:(M,f,d)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var m=d(993),h=d(4720),g=d(7382),x=d(8574),v=function(){function a(n){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._ctorUnsubscribe=!0,this._unsubscribe=n)}return a.prototype.unsubscribe=function(){var n;if(!this.closed){var u=this,O=u._parentOrParents,S=u._ctorUnsubscribe,_=u._unsubscribe,w=u._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,O instanceof a)O.remove(this);else if(null!==O)for(var T=0;T<O.length;++T)O[T].remove(this);if(g.isFunction(_)){S&&(this._unsubscribe=void 0);try{_.call(this)}catch(U){n=U instanceof x.UnsubscriptionError?p(U.errors):[U]}}if(m.isArray(w)){T=-1;for(var F=w.length;++T<F;){var B=w[T];if(h.isObject(B))try{B.unsubscribe()}catch(r){n=n||[],r instanceof x.UnsubscriptionError?n=n.concat(p(r.errors)):n.push(r)}}}if(n)throw new x.UnsubscriptionError(n)}},a.prototype.add=function(n){var u=n;if(!n)return a.EMPTY;switch(typeof n){case"function":u=new a(n);case"object":if(u===this||u.closed||"function"!=typeof u.unsubscribe)return u;if(this.closed)return u.unsubscribe(),u;if(!(u instanceof a)){var O=u;(u=new a)._subscriptions=[O]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}var S=u._parentOrParents;if(null===S)u._parentOrParents=this;else if(S instanceof a){if(S===this)return u;u._parentOrParents=[S,this]}else{if(-1!==S.indexOf(this))return u;S.push(this)}var _=this._subscriptions;return null===_?this._subscriptions=[u]:_.push(u),u},a.prototype.remove=function(n){var u=this._subscriptions;if(u){var O=u.indexOf(n);-1!==O&&u.splice(O,1)}},a.EMPTY=((n=new a).closed=!0,n),a;var n}();function p(a){return a.reduce(function(n,u){return n.concat(u instanceof x.UnsubscriptionError?u.errors:u)},[])}f.Subscription=v},8273:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var d=!1;f.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(m){if(m){var h=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+h.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=m},get useDeprecatedSynchronousErrorHandling(){return d}}},7410:(M,f,d)=>{"use strict";var h=d(3576),g=d(8642),x=d(4004);function p(a){var n=a.subscriber,u=a.counter,O=a.period;n.next(u),this.schedule({subscriber:n,counter:u+1,period:O},O)}f.F=function(a,n){return void 0===a&&(a=0),void 0===n&&(n=g.async),(!x.isNumeric(a)||a<0)&&(a=0),(!n||"function"!=typeof n.schedule)&&(n=g.async),new h.Observable(function(u){return u.add(n.schedule(p,a,{subscriber:u,counter:0,period:a})),u})}},2126:function(M,f,d){"use strict";var x,m=this&&this.__extends||(x=function(v,p){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var u in n)n.hasOwnProperty(u)&&(a[u]=n[u])})(v,p)},function(v,p){function a(){this.constructor=v}x(v,p),v.prototype=null===p?Object.create(p):(a.prototype=p.prototype,new a)});Object.defineProperty(f,"__esModule",{value:!0});var g=function(x){function v(p,a){return x.call(this)||this}return m(v,x),v.prototype.schedule=function(p,a){return void 0===a&&(a=0),this},v}(d(3984).Subscription);f.Action=g},4592:function(M,f,d){"use strict";var x,m=this&&this.__extends||(x=function(v,p){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var u in n)n.hasOwnProperty(u)&&(a[u]=n[u])})(v,p)},function(v,p){function a(){this.constructor=v}x(v,p),v.prototype=null===p?Object.create(p):(a.prototype=p.prototype,new a)});Object.defineProperty(f,"__esModule",{value:!0});var g=function(x){function v(p,a){var n=x.call(this,p,a)||this;return n.scheduler=p,n.work=a,n.pending=!1,n}return m(v,x),v.prototype.schedule=function(p,a){if(void 0===a&&(a=0),this.closed)return this;this.state=p;var n=this.id,u=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(u,n,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(u,this.id,a),this},v.prototype.requestAsyncId=function(p,a,n){return void 0===n&&(n=0),setInterval(p.flush.bind(p,this),n)},v.prototype.recycleAsyncId=function(p,a,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return a;clearInterval(a)},v.prototype.execute=function(p,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(p,a);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},v.prototype._execute=function(p,a){var n=!1,u=void 0;try{this.work(p)}catch(O){n=!0,u=!!O&&O||new Error(O)}if(n)return this.unsubscribe(),u},v.prototype._unsubscribe=function(){var p=this.id,a=this.scheduler,n=a.actions,u=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==u&&n.splice(u,1),null!=p&&(this.id=this.recycleAsyncId(a,p,null)),this.delay=null},v}(d(2126).Action);f.AsyncAction=g},6226:function(M,f,d){"use strict";var x,m=this&&this.__extends||(x=function(v,p){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var u in n)n.hasOwnProperty(u)&&(a[u]=n[u])})(v,p)},function(v,p){function a(){this.constructor=v}x(v,p),v.prototype=null===p?Object.create(p):(a.prototype=p.prototype,new a)});Object.defineProperty(f,"__esModule",{value:!0});var h=d(1773),g=function(x){function v(p,a){void 0===a&&(a=h.Scheduler.now);var n=x.call(this,p,function(){return v.delegate&&v.delegate!==n?v.delegate.now():a()})||this;return n.actions=[],n.active=!1,n.scheduled=void 0,n}return m(v,x),v.prototype.schedule=function(p,a,n){return void 0===a&&(a=0),v.delegate&&v.delegate!==this?v.delegate.schedule(p,a,n):x.prototype.schedule.call(this,p,a,n)},v.prototype.flush=function(p){var a=this.actions;if(this.active)a.push(p);else{var n;this.active=!0;do{if(n=p.execute(p.state,p.delay))break}while(p=a.shift());if(this.active=!1,n){for(;p=a.shift();)p.unsubscribe();throw n}}},v}(h.Scheduler);f.AsyncScheduler=g},8642:(M,f,d)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var m=d(4592),h=d(6226);f.asyncScheduler=new h.AsyncScheduler(m.AsyncAction),f.async=f.asyncScheduler},6232:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},1476:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),f.$$rxSubscriber=f.rxSubscriber},8574:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var d=function(){function m(h){return Error.call(this),this.message=h?h.length+" errors occurred during unsubscription:\n"+h.map(function(g,x){return x+1+") "+g.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=h,this}return m.prototype=Object.create(Error.prototype),m}();f.UnsubscriptionError=d},5730:(M,f,d)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var m=d(7241);f.canReportError=function(g){for(;g;){var p=g.destination;if(g.closed||g.isStopped)return!1;g=p&&p instanceof m.Subscriber?p:null}return!0}},2434:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.hostReportError=function(m){setTimeout(function(){throw m},0)}},2516:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.identity=function(m){return m}},993:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.isArray=Array.isArray||function(d){return d&&"number"==typeof d.length}},7382:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.isFunction=function(m){return"function"==typeof m}},4004:(M,f,d)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var m=d(993);f.isNumeric=function(g){return!m.isArray(g)&&g-parseFloat(g)+1>=0}},4720:(M,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.isObject=function(m){return null!==m&&"object"==typeof m}},3915:(M,f,d)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var m=d(2516);function g(x){return 0===x.length?m.identity:1===x.length?x[0]:function(p){return x.reduce(function(a,n){return n(a)},p)}}f.pipe=function(){for(var x=[],v=0;v<arguments.length;v++)x[v]=arguments[v];return g(x)},f.pipeFromArray=g},7104:(M,f,d)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var m=d(7241),h=d(1476),g=d(6011);f.toSubscriber=function(v,p,a){if(v){if(v instanceof m.Subscriber)return v;if(v[h.rxSubscriber])return v[h.rxSubscriber]()}return v||p||a?new m.Subscriber(v,p,a):new m.Subscriber(g.empty)}},4712:(M,f,d)=>{"use strict";d.r(f),d.d(f,{RemoteControlModule:()=>st});var h,m=d(5987),g=new Uint8Array(16);function x(){if(!h&&!(h="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(g)}const v=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(l){return"string"==typeof l&&v.test(l)};for(var n=[],u=0;u<256;++u)n.push((u+256).toString(16).substr(1));var _,w,T=0,P=0;const B=function(l,k,o){var y=k&&o||0,A=k||new Array(16),J=(l=l||{}).node||_,Z=void 0!==l.clockseq?l.clockseq:w;if(null==J||null==Z){var z=l.random||(l.rng||x)();null==J&&(J=_=[1|z[0],z[1],z[2],z[3],z[4],z[5]]),null==Z&&(Z=w=16383&(z[6]<<8|z[7]))}var G=void 0!==l.msecs?l.msecs:Date.now(),H=void 0!==l.nsecs?l.nsecs:P+1,W=G-T+(H-P)/1e4;if(W<0&&void 0===l.clockseq&&(Z=Z+1&16383),(W<0||G>T)&&void 0===l.nsecs&&(H=0),H>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");T=G,P=H,w=Z;var Y=(1e4*(268435455&(G+=122192928e5))+H)%4294967296;A[y++]=Y>>>24&255,A[y++]=Y>>>16&255,A[y++]=Y>>>8&255,A[y++]=255&Y;var X=G/4294967296*1e4&268435455;A[y++]=X>>>8&255,A[y++]=255&X,A[y++]=X>>>24&15|16,A[y++]=X>>>16&255,A[y++]=Z>>>8|128,A[y++]=255&Z;for(var V=0;V<6;++V)A[y+V]=J[V];return k||function(l){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(n[l[k+0]]+n[l[k+1]]+n[l[k+2]]+n[l[k+3]]+"-"+n[l[k+4]]+n[l[k+5]]+"-"+n[l[k+6]]+n[l[k+7]]+"-"+n[l[k+8]]+n[l[k+9]]+"-"+n[l[k+10]]+n[l[k+11]]+n[l[k+12]]+n[l[k+13]]+n[l[k+14]]+n[l[k+15]]).toLowerCase();if(!a(o))throw TypeError("Stringified UUID is invalid");return o}(A)};var U=d(9021),r=d(7716),Q=d(3065),N=d(5618),j=d(8583),ut=d(249);const C={series:[{type:"gauge",center:["50%","50%"],radius:"75%",startAngle:"180",endAngle:"0",animation:!1,pointer:{show:!1},progress:{show:!0,width:45,itemStyle:{color:"#7772FD"}},axisLine:{lineStyle:{width:45}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},anchor:{show:!1},title:{show:!1},detail:{valueAnimation:!0,fontSize:18,offsetCenter:[0,"-25%"]},data:[{value:0,detail:{show:!0,formatter:l=>l.toFixed(0)}}]}]};d(4557);var R=d(6215),et=d(2297),t=d(3815),e=d(2721),i=d(7195);let s=(()=>{class l{constructor(o,y){this.store=o,this.websocketService=y,this.JoystickData=new R.X(null),this.subscriptions=[],this.canSendData=!1,this.store.select(e.Pi).subscribe(A=>{this.canSendData=A})}sendVirtualGamepadData(o,y){if(!this.canSendData)return;const A=(0,t.cloneDeep)(et.GH.get("send_data"));(0!==o||0!==y)&&(A.data["cmd-params"]='{"axes":[ 0, '+-o+", "+y+', 0], "deadman-button": true}'),this.websocketService.sendMessage(A)}sendAlive(o){if(!this.canSendData)return;const y=(0,t.cloneDeep)(et.GH.get("alive"));y.data["cmd-params"]=o,this.websocketService.sendMessage(y)}}return l.\u0275fac=function(o){return new(o||l)(r.LFG(Q.yh),r.LFG(i.i))},l.\u0275prov=r.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var c=d(9687),b=d(1769);function D(l,k){1&l&&(r.TgZ(0,"small",11),r._uU(1,"(Disabled)"),r.qZA())}let E=(()=>{class l{constructor(o){this.joystickGaugeLinkService=o,this.speedGaugeOptions=C,this.enabled=!1,this.subscriptions=[]}initGauge(o){this.gaugeInstance=o,this.gaugeInstance.setOption(this.speedGaugeOptions)}ngOnInit(){this.enabled&&this.subscriptions.push(this.joystickGaugeLinkService.JoystickData.subscribe(o=>{o&&this.gaugeInstance&&("up"===o.direction.Angle?C.series[0].data[0].value<100&&(C.series[0].data[0].value+=o.force,this.gaugeInstance.setOption(C,!0)):"down"===o.direction.Angle&&C.series[0].data[0].value>0&&(C.series[0].data[0].value-=o.force,this.gaugeInstance.setOption(C,!0)))}))}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}}return l.\u0275fac=function(o){return new(o||l)(r.Y36(s))},l.\u0275cmp=r.Xpm({type:l,selectors:[["app-speed-gauge"]],decls:14,vars:4,consts:[["fxLayout","column"],["fxLayoutAlign","space-between"],[1,"component-title"],["style","color:#718096;",4,"ngIf"],[2,"height","236px"],["echarts","",3,"options","theme","chartInit"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","11px"],[2,"font-size","20px"],[2,"width","50%"],[2,"background","#E4ECF7"],[2,"font-size","14px","color","#718096"],[2,"color","#718096"]],template:function(o,y){1&o&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"span",2),r._uU(3,"Velocity "),r.qZA(),r.YNc(4,D,2,0,"small",3),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.NdJ("chartInit",function(J){return y.initGauge(J)}),r.qZA(),r.qZA(),r.TgZ(7,"div",6),r.TgZ(8,"span",7),r._uU(9),r.qZA(),r.TgZ(10,"div",8),r._UZ(11,"mat-divider",9),r.qZA(),r.TgZ(12,"span",10),r._uU(13,"48mps"),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.xp6(4),r.Q6J("ngIf",!y.enabled),r.xp6(2),r.Q6J("options",y.speedGaugeOptions)("theme","light"),r.xp6(3),r.hij("",y.speedGaugeOptions.series[0].data[0].value.toFixed(0),"mps"))},directives:[N.xw,N.Wh,j.O5,c._w,N.SQ,b.d],styles:[""]}),l})();var L=d(7410),I=d(587),ot=d(2508);let it=(()=>{class l{constructor(o){this.el=o,this.move=new r.vpe,this.start=new r.vpe,this.end=new r.vpe,this.dir=new r.vpe,this.dirUp=new r.vpe,this.dirDown=new r.vpe,this.dirLeft=new r.vpe,this.dirRight=new r.vpe,this.plain=new r.vpe,this.plainUp=new r.vpe,this.plainDown=new r.vpe,this.plainLeft=new r.vpe,this.plainRight=new r.vpe}ngOnInit(){this.options?this.options.zone=this.el.nativeElement:this.options=this.getDefaultOptions(),this.manager=(0,ot.create)(this.options),this.setupEvents()}ngOnDestroy(){this.manager.destroy()}getDefaultOptions(){return{zone:this.el.nativeElement,mode:"static",position:{left:"50%",top:"50%"},color:"blue"}}emitEvent(o,y){y.emit({event:o.event,data:o.data})}setupEvents(){this.manager.on("move",(o,y)=>{this.emitEvent({event:o,data:y},this.move)}),this.manager.on("start",(o,y)=>{this.emitEvent({event:o,data:y},this.start)}),this.manager.on("end",(o,y)=>{this.emitEvent({event:o,data:y},this.end)}),this.manager.on("dir",(o,y)=>{this.emitEvent({event:o,data:y},this.dir)}),this.manager.on("dir:up",(o,y)=>{this.emitEvent({event:o,data:y},this.dirUp)}),this.manager.on("dir:down",(o,y)=>{this.emitEvent({event:o,data:y},this.dirDown)}),this.manager.on("dir:left",(o,y)=>{this.emitEvent({event:o,data:y},this.dirLeft)}),this.manager.on("dir:right",(o,y)=>{this.emitEvent({event:o,data:y},this.dirRight)}),this.manager.on("plain",(o,y)=>{this.emitEvent({event:o,data:y},this.plain)}),this.manager.on("plain:up",(o,y)=>{this.emitEvent({event:o,data:y},this.plainUp)}),this.manager.on("plain:down",(o,y)=>{this.emitEvent({event:o,data:y},this.plainDown)}),this.manager.on("plain:left",(o,y)=>{this.emitEvent({event:o,data:y},this.plainLeft)}),this.manager.on("plain:right",(o,y)=>{this.emitEvent({event:o,data:y},this.plainRight)})}}return l.\u0275fac=function(o){return new(o||l)(r.Y36(r.SBq))},l.\u0275cmp=r.Xpm({type:l,selectors:[["ngx-joystick"]],inputs:{options:"options"},outputs:{move:"move",start:"start",end:"end",dir:"dir",dirUp:"dirUp",dirDown:"dirDown",dirLeft:"dirLeft",dirRight:"dirRight",plain:"plain",plainUp:"plainUp",plainDown:"plainDown",plainLeft:"plainLeft",plainRight:"plainRight"},decls:1,vars:0,consts:[["id","static",2,"width","100%","height","100%"]],template:function(o,y){1&o&&r._UZ(0,"div",0)},encapsulation:2}),l})(),nt=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=r.oAB({type:l}),l.\u0275inj=r.cJS({imports:[[]]}),l})();const q=["semiJoystick"];function tt(l,k){if(1&l){const o=r.EpF();r.TgZ(0,"i",8),r.NdJ("click",function(){return r.CHM(o),r.oxw().reconnect()}),r.qZA()}}let $=(()=>{class l{constructor(o,y){this.joystickDataLinkService=o,this.store=y,this.id=new r.IIB,this.subscriptions=[],this.aliveInterval=(0,L.F)(500),this.dataInterval=(0,L.F)(100),this.semiOptions={mode:"semi",catchDistance:50,color:"black"},this.isJoystickVisible=!1,this.canSendData=!1,this.status=!1}joystickStart(o){this.isJoystickVisible=!0}onMoveSemi(o){var y,A,J,Z,z,G,H,W,Y,X,V;this.semiOutputData&&this.joystickDataLinkService.JoystickData.next({force:null===(y=null==o?void 0:o.data)||void 0===y?void 0:y.force,angle:{DegreeAngle:null===(J=null===(A=null==o?void 0:o.data)||void 0===A?void 0:A.angle)||void 0===J?void 0:J.degree,RadianAngle:null===(z=null===(Z=null==o?void 0:o.data)||void 0===Z?void 0:Z.angle)||void 0===z?void 0:z.radian},direction:{Angle:null===(H=null===(G=null==o?void 0:o.data)||void 0===G?void 0:G.direction)||void 0===H?void 0:H.angle,X:null===(Y=null===(W=null==o?void 0:o.data)||void 0===W?void 0:W.direction)||void 0===Y?void 0:Y.x,Y:null===(V=null===(X=null==o?void 0:o.data)||void 0===X?void 0:X.direction)||void 0===V?void 0:V.y}}),this.semiOutputData=null==o?void 0:o.data}joystickEnd(o){this.joystickDataLinkService.JoystickData.next({force:0,angle:{DegreeAngle:null,RadianAngle:null},direction:{Angle:null,X:null,Y:null}})}reconnect(){this.store.dispatch((0,I.AE)({virtualGamepadConnectId:this.id}))}ngOnInit(){this.subscriptions.push(this.store.select(e.Pi).subscribe(o=>this.status=o)),this.store.dispatch((0,I.AE)({virtualGamepadConnectId:this.id})),this.subscriptions.push(this.aliveInterval.subscribe(()=>{this.joystickDataLinkService.sendAlive(this.id)}),this.dataInterval.subscribe(()=>{var o,y,A,J,Z,z,G,H,W,Y,X,V,ht,pt,ft;let ct=0,at=0;(null===(A=null===(y=null===(o=this.joystickDataLinkService.JoystickData)||void 0===o?void 0:o.value)||void 0===y?void 0:y.angle)||void 0===A?void 0:A.RadianAngle)&&(ct=Math.sin(null===(z=null===(Z=null===(J=this.joystickDataLinkService.JoystickData)||void 0===J?void 0:J.value)||void 0===Z?void 0:Z.angle)||void 0===z?void 0:z.RadianAngle),at=Math.cos(null===(W=null===(H=null===(G=this.joystickDataLinkService.JoystickData)||void 0===G?void 0:G.value)||void 0===H?void 0:H.angle)||void 0===W?void 0:W.RadianAngle),(null===(X=null===(Y=this.joystickDataLinkService.JoystickData)||void 0===Y?void 0:Y.value)||void 0===X?void 0:X.force)<1&&(ct*=null===(ht=null===(V=this.joystickDataLinkService.JoystickData)||void 0===V?void 0:V.value)||void 0===ht?void 0:ht.force,at*=null===(ft=null===(pt=this.joystickDataLinkService.JoystickData)||void 0===pt?void 0:pt.value)||void 0===ft?void 0:ft.force)),this.joystickDataLinkService.sendVirtualGamepadData(ct,at)}))}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}}return l.\u0275fac=function(o){return new(o||l)(r.Y36(s),r.Y36(Q.yh))},l.\u0275cmp=r.Xpm({type:l,selectors:[["app-remote-control-joystick"]],viewQuery:function(o,y){if(1&o&&r.Gf(q,5),2&o){let A;r.iGM(A=r.CRH())&&(y.semiJoystick=A.first)}},inputs:{id:"id"},decls:10,vars:3,consts:[["fxLayout","column","fxFlexFill","",1,"disabled-touch"],["fxLayoutAlign","space-between",2,"width","100%"],[1,"component-title"],["fxFlexAlign","center end",2,"color","#718096"],["class","bi bi-arrow-clockwise","style","cursor: pointer;",3,"click",4,"ngIf"],["fxFlexFill","",1,"zone"],[3,"options","start","move","end"],["semiJoystick",""],[1,"bi","bi-arrow-clockwise",2,"cursor","pointer",3,"click"]],template:function(o,y){1&o&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"span",2),r._uU(3,"Joystick"),r.qZA(),r.TgZ(4,"small",3),r._uU(5),r.YNc(6,tt,1,0,"i",4),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.TgZ(8,"ngx-joystick",6,7),r.NdJ("start",function(J){return y.joystickStart(J)})("move",function(J){return y.onMoveSemi(J)})("end",function(J){return y.joystickEnd(J)}),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.xp6(5),r.hij("",y.status?"(Connected)":"(Disonnected)"," "),r.xp6(1),r.Q6J("ngIf",!y.status),r.xp6(2),r.Q6J("options",y.semiOptions))},directives:[N.xw,N.s9,N.Wh,N.XD,j.O5,it],styles:[".zone[_ngcontent-%COMP%]{position:relative;background:#FFFFFF!important}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.disabled-touch[_ngcontent-%COMP%]{touch-action:none}"]}),l})();const K=function(l){return{"velocity-mobile":l}},lt=[{path:"",component:(()=>{class l{constructor(o){this.store=o,this.id=B()}ngOnInit(){}checkIfMobile(){return U.b.checkIfMobile()}}return l.\u0275fac=function(o){return new(o||l)(r.Y36(Q.yh))},l.\u0275cmp=r.Xpm({type:l,selectors:[["app-remote-control"]],decls:8,vars:4,consts:[[1,"page-style","remote-control",2,"overflow","auto"],["fxLayout","column","fxLayoutGap","16px",1,"outer-div-padding",2,"height","100%"],["fxLayout","row wrap","fxLayoutGap","16px",2,"width","100%"],["fxFlex.sm","100",1,"page-components","unselectable","full-width-mobile",2,"min-width","300px",3,"ngClass"],[1,"page-components","unselectable","joystick-parent-div",2,"z-index","10"],[3,"id"],["fxFlex",""]],template:function(o,y){1&o&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r._UZ(4,"app-speed-gauge"),r.qZA(),r.TgZ(5,"div",4),r._UZ(6,"app-remote-control-joystick",5),r.qZA(),r.qZA(),r._UZ(7,"div",6),r.qZA(),r.qZA()),2&o&&(r.xp6(3),r.Q6J("ngClass",r.VKq(2,K,y.checkIfMobile())),r.xp6(3),r.Q6J("id",y.id))},directives:[N.xw,N.SQ,N.yH,j.mk,ut.oO,E,$],styles:[".remote-control[_ngcontent-%COMP%]  .mat-tab-body-wrapper{height:100%}.joystick-parent-div[_ngcontent-%COMP%]{min-width:850px!important;min-height:350px!important}.velocity-mobile[_ngcontent-%COMP%]{margin-right:0!important;min-width:200px!important}@media screen and (min-width: 0px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:340px!important}}@media screen and (min-width: 1400px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:600px!important}}@media screen and (min-width: 1600px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:700px!important}}@media screen and (min-width: 1700px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:1000px!important}}@media screen and (max-width: 475px){.joystick-parent-div[_ngcontent-%COMP%]{max-width:300px!important;min-width:200px!important;width:100%}}"]}),l})(),data:{animation:"LandingPageAnimation"}},{path:"**",redirectTo:""}];let dt=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=r.oAB({type:l}),l.\u0275inj=r.cJS({imports:[[m.Bz.forChild(lt)],m.Bz]}),l})();var rt=d(500);let st=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=r.oAB({type:l}),l.\u0275inj=r.cJS({imports:[[rt.L,dt,c.Ns.forChild(),nt]]}),l})()}}]);