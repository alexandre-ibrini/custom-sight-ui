"use strict";(self.webpackChunkros_fe_poc=self.webpackChunkros_fe_poc||[]).push([[427],{1427:(ct,q,l)=>{l.r(q),l.d(q,{OverviewTabModule:()=>lt});var d=l(8583),N=l(6983),g=(()=>{return(r=g||(g={})).FATAL="FATAL",r.RECOVERABLE="RECOVERABLE",r.WARNING="WARNING",g;var r})(),e=l(7716),o=l(3065);const Y=(0,o.PH)("[Disk] Update Disk",(0,o.Ky)()),ue=(0,o.Lq)({loading:!1,disk:0},(0,o.on)(Y,(r,i)=>{let t=i.disk;return Object.assign(Object.assign({},r),{disk:t})})),X=(0,o.Tz)({name:"disk",reducer:ue}),me=(0,o.P1)(X.selectDisk,r=>r);var b=l(3898),y=l(992);let j=(()=>{class r{constructor(t,n,s){this.store=t,this.channelsMW=n,this.responseMW=s,this.responseMW.diskUsageStatistics.subscribe(a=>{a&&this.setDisk(a.v)})}get disk(){return this.store.select(me)}setDisk(t){this.store.dispatch(Y({disk:t}))}toggleDisk(t){this.channelsMW.toggleChannel("DiskUsageStatistics",t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(o.yh),e.LFG(b.$),e.LFG(y.B))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const $=(0,o.PH)("[Ssd] Update Ssd",(0,o.Ky)()),fe=(0,o.Lq)({loading:!1,ssd:0},(0,o.on)($,(r,i)=>{let t=i.ssd;return Object.assign(Object.assign({},r),{ssd:t})})),K=(0,o.Tz)({name:"ssd",reducer:fe}),he=(0,o.P1)(K.selectSsd,r=>r);let H=(()=>{class r{constructor(t,n,s){this.store=t,this.channelsMW=n,this.responseMW=s,this.responseMW.ssdDiskUsageStatistics.subscribe(a=>{a&&this.setSsd(a.v)})}get ssd(){return this.store.select(he)}setSsd(t){this.store.dispatch($({ssd:t}))}toggleSsd(t){this.channelsMW.toggleChannel("SsdDiskUsageStatistics",t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(o.yh),e.LFG(b.$),e.LFG(y.B))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var _=l(3815);const ee=(0,o.PH)("[Batterys] Update Voltage",(0,o.Ky)()),te=(0,o.PH)("[Batterys] Update Current",(0,o.Ky)()),re=(0,o.PH)("[Batterys] Update SOC",(0,o.Ky)()),_e=(0,o.Lq)({loading:!1,battery:{current:0,voltage:0,soc:0}},(0,o.on)(ee,(r,i)=>{let t=(0,_.cloneDeep)(r);return t.battery.voltage=i.voltage,t}),(0,o.on)(te,(r,i)=>{let t=(0,_.cloneDeep)(r);return t.battery.current=i.current,t}),(0,o.on)(re,(r,i)=>{let t=(0,_.cloneDeep)(r);return t.battery.soc=i.soc,t})),ne=(0,o.Tz)({name:"battery",reducer:_e}),S=(0,o.P1)(ne.selectBattery,r=>r),Se=(0,o.P1)(S,r=>r.voltage),we=(0,o.P1)(S,r=>r.current),Me=(0,o.P1)(S,r=>r.soc);let ie=(()=>{class r{constructor(t,n,s){this.store=t,this.channelsMW=n,this.responseMW=s,this.responseMW.voltageStatistics.subscribe(a=>{a&&this.setVoltage(a.v)}),this.responseMW.currentStatistics.subscribe(a=>{a&&this.setCurrent(a.v)}),this.responseMW.stateOfChargeStatistics.subscribe(a=>{a&&this.setSOC(a.v)})}get voltage(){return this.store.select(Se)}get current(){return this.store.select(we)}get soc(){return this.store.select(Me)}setVoltage(t){this.store.dispatch(ee({voltage:t}))}setCurrent(t){this.store.dispatch(te({current:t}))}setSOC(t){this.store.dispatch(re({soc:t}))}toggleVoltage(t){this.channelsMW.toggleChannel("VoltageStatistics",t)}toggleCurrent(t){this.channelsMW.toggleChannel("CurrentStatistics",t)}toggleSOC(t){this.channelsMW.toggleChannel("StateOfChargeStatistics",t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(o.yh),e.LFG(b.$),e.LFG(y.B))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const se=(0,o.PH)("[Events] Update Events",(0,o.Ky)()),Ae=(0,o.Lq)({loading:!1,events:[]},(0,o.on)(se,(r,i)=>{let t=(0,_.cloneDeep)(r);return t.events=i.events,t})),ae=(0,o.Tz)({name:"events",reducer:Ae}),xe=(0,o.P1)(ae.selectEvents,r=>{var i;let t=[];for(let n in r)"brake_test_checker"!==(null===(i=r[n])||void 0===i?void 0:i.component)&&(t[n]=r[n]);return t});let oe=(()=>{class r{constructor(t,n,s){this.store=t,this.channelsMS=n,this.responseMS=s,this.responseMS.eventWarnings.subscribe(a=>{a&&this.setEvents(a)})}get events(){return this.store.select(xe)}setEvents(t){let n=class{static fromSopToArrayEventWarningsModel(i){let t=[],n=[];return i.d.forEach(s=>{let a=s;for(;"sop"===a.t;)a=a.d[0];n.push(a)}),n.forEach((s,a)=>{if(0!==a){let m=s.l[1];t[m]={component:s.l[0],event:{code:m,description:s.l[2],proposed_solution:s.l[3],severity:s.l[4]}}}}),t}}.fromSopToArrayEventWarningsModel(t.v);this.store.dispatch(se({events:n}))}toggleEvents(t){this.channelsMS.toggleChannel("EventWarnings",t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(o.yh),e.LFG(b.$),e.LFG(y.B))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var c=l(7093),w=l(2458),Te=l(9490),Ze=l(6237),Fe=l(5319),Be=l(2759),Le=l(5435);const Ee=["primaryValueBar"],Ie=(0,w.pj)(class{constructor(r){this._elementRef=r}},"primary"),De=new e.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const r=(0,e.f3M)(d.K0),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let We=0,Ge=(()=>{class r extends Ie{constructor(t,n,s,a){super(t),this._ngZone=n,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new e.vpe,this._animationEndSubscription=Fe.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+We++;const p=a?a.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===s}get value(){return this._value}set value(t){this._value=le((0,Te.su)(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=le(t||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,Be.R)(t,"transitionend").pipe((0,Le.h)(n=>n.target===t)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(Ze.Qb,8),e.Y36(De,8))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ee,5),2&t){let s;e.iGM(s=e.CRH())&&(n._primaryValueBar=s.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,n){2&t&&(e.uIk("aria-valuenow","indeterminate"===n.mode||"query"===n.mode?null:n.value)("mode",n.mode),e.ekj("_mat-animation-noopable",n._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[e.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e.TgZ(2,"defs"),e.TgZ(3,"pattern",2),e._UZ(4,"circle",3),e.qZA(),e.qZA(),e._UZ(5,"rect",4),e.qZA(),e.kcU(),e._UZ(6,"div",5),e._UZ(7,"div",6,7),e._UZ(9,"div",8),e.qZA()),2&t&&(e.xp6(3),e.Q6J("id",n.progressbarId),e.xp6(2),e.uIk("fill",n._rectangleFillValue),e.xp6(1),e.Q6J("ngStyle",n._bufferTransform()),e.xp6(1),e.Q6J("ngStyle",n._primaryTransform()))},directives:[d.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),r})();function le(r,i=0,t=100){return Math.max(i,Math.min(t,r))}let Ue=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[d.ez,w.BQ],w.BQ]}),r})(),ze=(()=>{class r{constructor(){this.value=new e.IIB,this.title=new e.IIB}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-disk-graph"]],inputs:{value:"value",title:"title"},decls:8,vars:3,consts:[["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","16px",1,"disk-usage-graph"],["fxLayoutAlign","start center",2,"white-space","nowrap","width","100%","font-weight","700","font-size","18px"],["fxLayoutAlign","space-between center","fxLayout","row",2,"width","100%"],[2,"font-size","14px","color","#84859E"],["color","accent","mode","determinate",3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"span",3),e._uU(6),e.qZA(),e.qZA(),e._UZ(7,"mat-progress-bar",4),e.qZA()),2&t&&(e.xp6(3),e.Oqu(n.title),e.xp6(3),e.hij("",null==n.value?null:n.value.toFixed(2),"%"),e.xp6(1),e.Q6J("value",n.value))},directives:[c.xw,c.Wh,c.SQ,Ge],styles:[".mat-progress-bar[_ngcontent-%COMP%]{border-radius:20px;height:8px}.disk-usage-graph[_ngcontent-%COMP%]  .mat-progress-bar.mat-accent .mat-progress-bar-fill:after{border-radius:20px!important}"]}),r})();var ce=l(4466);let Ve=(()=>{class r{constructor(){this.title=new e.IIB,this.id=new e.IIB,this.subscriptions=[]}initChart(t){var n;this.chartInstance=t,null===(n=this.chartInstance)||void 0===n||n.setOption(this.PieChartOption)}ngOnInit(){this.PieChartOption={tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},xAxis:{type:"time",show:!0,splitLine:{show:!1},axisLabel:{formatter:"{ss}"}},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1}},max:100,series:[{name:this.getMeasurementName(),type:"line",smooth:!1,symbol:"none",areaStyle:{color:"#6E6AF4"},lineStyle:{color:"#6E6AF4"},itemStyle:{color:"#6E6AF4"},data:[[]]}]}}getMeasurementName(){switch(this.id){case"SOC":return"SOC";case"V":return"volts";case"C":return"amps"}}setDataAndUpdateChart(t){var n;let s=[Date.now(),Number(t.toFixed(0))];this.PieChartOption.series[0].data.length>10&&this.PieChartOption.series[0].data.shift(),this.PieChartOption.series[0].data.push(s),null===(n=this.chartInstance)||void 0===n||n.setOption({series:[{data:this.PieChartOption.series[0].data}]})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-overview-graph"]],inputs:{title:"title",id:"id"},decls:5,vars:4,consts:[["fxLayout","column",2,"height","286px"],["fxLayoutAlign","start center"],[1,"component-title"],["echarts","",3,"options","theme","autoResize","chartInit"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span",2),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.NdJ("chartInit",function(a){return n.initChart(a)}),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(n.title),e.xp6(1),e.Q6J("options",n.PieChartOption)("theme","light")("autoResize",!0))},directives:[c.xw,c.Wh,ce._w],styles:[""]}),r})();var Qe=l(7965),Re=l(1436);function Je(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"i",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().openMoreInfoDialog()}),e.qZA()}}function qe(r,i){1&r&&e._UZ(0,"i",10)}function Ne(r,i){1&r&&e._UZ(0,"i",11)}function Ye(r,i){1&r&&e._UZ(0,"i",12)}let Xe=(()=>{class r{constructor(t){this.alertService=t,this.description="",this.title="Warning!",this.component="",this.proposedSolution=""}openMoreInfoDialog(){var t,n;this.alertService.openAlert(this.title,"Component : "+this.component,["Description : "+this.description,"Proposed Solution : "+this.proposedSolution],null===(n=null===(t=this.event)||void 0===t?void 0:t.event)||void 0===n?void 0:n.severity)}ngOnInit(){var t,n,s,a,p,m,v;this.event&&(this.title=null===(n=null===(t=this.event)||void 0===t?void 0:t.event)||void 0===n?void 0:n.severity,this.description=null===(a=null===(s=this.event)||void 0===s?void 0:s.event)||void 0===a?void 0:a.description,this.component=null===(p=this.event)||void 0===p?void 0:p.component,this.proposedSolution=null===(v=null===(m=this.event)||void 0===m?void 0:m.event)||void 0===v?void 0:v.proposed_solution)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Qe.Q))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-warning-card"]],inputs:{description:"description",event:"event"},decls:11,vars:7,consts:[["class","bi bi-info-circle-fill","matTooltip","More Info","style","cursor: pointer;",3,"click",4,"ngIf"],["fxLayout","column","fxLayoutGap","18px",2,"cursor","pointer",3,"click"],["fxLayoutAlign","center center","fxLayout","column",2,"width","100%"],["class","bi bi-asterisk asterisk-icon","style","color: #A6B7D4",4,"ngIf"],["class","bi bi-exclamation-lg asterisk-icon","style","color:#ffba7d",4,"ngIf"],["class","bi bi-x-lg state-icon asterisk-icon","style","color: #ff7d7d",4,"ngIf"],["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","5px",3,"matTooltip"],[2,"font-weight","700","font-size","18px","color","#425466"],[2,"font-weight","400","font-size","12px","color","#425466","text-align","center","max-width","360px","text-overflow","ellipsis","overflow","hidden","white-space","nowrap"],["matTooltip","More Info",1,"bi","bi-info-circle-fill",2,"cursor","pointer",3,"click"],[1,"bi","bi-asterisk","asterisk-icon",2,"color","#A6B7D4"],[1,"bi","bi-exclamation-lg","asterisk-icon",2,"color","#ffba7d"],[1,"bi","bi-x-lg","state-icon","asterisk-icon",2,"color","#ff7d7d"]],template:function(t,n){1&t&&(e.YNc(0,Je,1,0,"i",0),e.TgZ(1,"div",1),e.NdJ("click",function(){return n.openMoreInfoDialog()}),e.TgZ(2,"div",2),e.YNc(3,qe,1,0,"i",3),e.YNc(4,Ne,1,0,"i",4),e.YNc(5,Ye,1,0,"i",5),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"span",7),e._uU(8),e.qZA(),e.TgZ(9,"span",8),e._uU(10),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("ngIf",n.event),e.xp6(3),e.Q6J("ngIf","warning"!==n.title.toLocaleLowerCase()&&"error"!==n.title.toLocaleLowerCase()),e.xp6(1),e.Q6J("ngIf","warning"===n.title.toLocaleLowerCase()),e.xp6(1),e.Q6J("ngIf","error"===n.title.toLocaleLowerCase()),e.xp6(1),e.Q6J("matTooltip",n.description),e.xp6(2),e.Oqu(n.title.toLocaleUpperCase()),e.xp6(2),e.Oqu(n.description))},directives:[d.O5,c.xw,c.SQ,c.Wh,Re.gM],styles:[".asterisk-icon[_ngcontent-%COMP%]{background:#FFFFFF;font-size:25px;padding:17px;color:#a6b7d4;border-radius:50%}"]}),r})(),je=(()=>{class r{constructor(){this.event=new e.IIB}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-event-warnings"]],inputs:{event:"event"},decls:2,vars:1,consts:[["fxLayoutAlign","center center",2,"background","transparent !important"],[2,"width","100% !important",3,"event"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-warning-card",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("event",null==n.event?null:n.event.value))},directives:[c.Wh,Xe],styles:[""]}),r})();const $e=["batteryGraphs"];function Ke(r,i){if(1&r&&(e.TgZ(0,"div",7),e._UZ(1,"app-overview-graph",8,9),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.Q6J("title",t.title)("id",t.id)}}function He(r,i){if(1&r&&(e.TgZ(0,"div",10),e._UZ(1,"app-event-warnings",11),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.Q6J("event",t)}}const et=[{path:"",component:(()=>{class r{constructor(t,n,s,a){this.diskMS=t,this.ssdMS=n,this.batteryMS=s,this.eventsMS=a,this.subscriptions=[],this.graphs=[{id:"SOC",title:"State of charge"},{id:"V",title:"Voltage"},{id:"C",title:"Current"}]}checkForChangeInEvents(t){var n,s,a,p,m,v,f,h,M,C,k,A,x,O,T,Z,F,B,L,E,I,D,P,W,G,U,z,V,Q,R,J;if((!this.events||0===(null===(n=Object.keys(this.events))||void 0===n?void 0:n.length))&&t||(null===(s=Object.keys(this.events))||void 0===s?void 0:s.length)!=(null===(a=Object.keys(t))||void 0===a?void 0:a.length))return!0;for(let u in this.events)return!t[u]||(null===(m=null===(p=this.events[u])||void 0===p?void 0:p.event)||void 0===m?void 0:m.component)!==(null===(f=null===(v=t[u])||void 0===v?void 0:v.event)||void 0===f?void 0:f.component)||(null===(C=null===(M=null===(h=this.events[u])||void 0===h?void 0:h.event)||void 0===M?void 0:M.event)||void 0===C?void 0:C.code)!==(null===(x=null===(A=null===(k=t[u])||void 0===k?void 0:k.event)||void 0===A?void 0:A.event)||void 0===x?void 0:x.code)||(null===(Z=null===(T=null===(O=this.events[u])||void 0===O?void 0:O.event)||void 0===T?void 0:T.event)||void 0===Z?void 0:Z.description)!==(null===(L=null===(B=null===(F=t[u])||void 0===F?void 0:F.event)||void 0===B?void 0:B.event)||void 0===L?void 0:L.description)||(null===(D=null===(I=null===(E=this.events[u])||void 0===E?void 0:E.event)||void 0===I?void 0:I.event)||void 0===D?void 0:D.proposed_solution)!==(null===(G=null===(W=null===(P=t[u])||void 0===P?void 0:P.event)||void 0===W?void 0:W.event)||void 0===G?void 0:G.proposed_solution)||(null===(V=null===(z=null===(U=this.events[u])||void 0===U?void 0:U.event)||void 0===z?void 0:z.event)||void 0===V?void 0:V.severity)!==(null===(J=null===(R=null===(Q=t[u])||void 0===Q?void 0:Q.event)||void 0===R?void 0:R.event)||void 0===J?void 0:J.severity)}getSeverityPriority(t){switch(t){case g.FATAL:return 0;case g.RECOVERABLE:return 1;case g.WARNING:return 2;default:return 100}}ngOnInit(){this.subscriptions.push(this.eventsMS.events.subscribe(t=>{var n;(null===(n=Object.keys(t))||void 0===n?void 0:n.length)>0&&this.checkForChangeInEvents(t)&&(this.events=t)})),this.diskMS.toggleDisk(!0),this.ssdMS.toggleSsd(!0),this.batteryMS.toggleSOC(!0),this.batteryMS.toggleCurrent(!0),this.batteryMS.toggleVoltage(!0),this.eventsMS.toggleEvents(!0)}ngAfterViewInit(){this.subscriptions.push(this.batteryMS.current.subscribe(t=>{var n,s;null===(s=null===(n=this.batteryGraphs)||void 0===n?void 0:n.find(a=>"C"===a.id))||void 0===s||s.setDataAndUpdateChart(t)}),this.batteryMS.soc.subscribe(t=>{var n,s;null===(s=null===(n=this.batteryGraphs)||void 0===n?void 0:n.find(a=>"SOC"===a.id))||void 0===s||s.setDataAndUpdateChart(t)}),this.batteryMS.voltage.subscribe(t=>{var n,s;null===(s=null===(n=this.batteryGraphs)||void 0===n?void 0:n.find(a=>"V"===a.id))||void 0===s||s.setDataAndUpdateChart(t)}))}ngOnDestroy(){this.diskMS.toggleDisk(!1),this.ssdMS.toggleSsd(!1),this.batteryMS.toggleVoltage(!1),this.batteryMS.toggleSOC(!1),this.batteryMS.toggleCurrent(!1),this.eventsMS.toggleEvents(!1),this.subscriptions.forEach(t=>t.unsubscribe())}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(j),e.Y36(H),e.Y36(ie),e.Y36(oe))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-overview-tab"]],viewQuery:function(t,n){if(1&t&&e.Gf($e,5),2&t){let s;e.iGM(s=e.CRH())&&(n.batteryGraphs=s)}},decls:13,vars:12,consts:[[1,"outer-div-padding"],["fxLayout","row wrap","fxLayoutGap.lt-md","7px","fxLayoutGap","16px"],["class","page-components unselectable full-width-mobile","style","height: fit-content; min-width: 260px;",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","space-between"],[1,"page-components","unselectable","full-width-mobile",2,"min-width","260px"],[3,"title","value"],["class","page-components unselectable full-width-mobile","style","height: 100%; min-width: 260px; background-color: #E4ECF7 !important;","fxLayoutAlign","center center",4,"ngFor","ngForOf"],[1,"page-components","unselectable","full-width-mobile",2,"height","fit-content","min-width","260px"],[3,"title","id"],["batteryGraphs",""],["fxLayoutAlign","center center",1,"page-components","unselectable","full-width-mobile",2,"height","100%","min-width","260px","background-color","#E4ECF7 !important"],[2,"width","100% !important",3,"event"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,Ke,3,2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"app-disk-graph",5),e.ALo(6,"async"),e.qZA(),e.TgZ(7,"div",4),e._UZ(8,"app-disk-graph",5),e.ALo(9,"async"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",1),e.YNc(11,He,2,1,"div",6),e.ALo(12,"keyvalue"),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",n.graphs),e.xp6(3),e.Q6J("title","Disk usage")("value",e.lcZ(6,6,n.diskMS.disk)),e.xp6(3),e.Q6J("title","SSD storage")("value",e.lcZ(9,8,n.ssdMS.ssd)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(12,10,n.events)))},directives:[c.xw,c.SQ,d.sg,c.Wh,ze,Ve,je],pipes:[d.Ov,d.Nd],styles:[""]}),r})()},{path:"**",redirectTo:""}];let tt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[N.Bz.forChild(et)],N.Bz]}),r})();var rt=l(7909),nt=l(4124);let it=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[j,H],imports:[[d.ez,o.Aw.forFeature(X),o.Aw.forFeature(K)]]}),r})(),st=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[oe],imports:[[d.ez,o.Aw.forFeature(ae)]]}),r})();var at=l(4217);let ot=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[ie],imports:[[d.ez,o.Aw.forFeature(ne),at.j]]}),r})(),lt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[ce.Ns.forChild(),d.ez,tt,Ue,rt.o9,nt.M,it,st,ot]]}),r})()}}]);