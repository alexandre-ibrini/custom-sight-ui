(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"1pIY":function(t,e,i){"use strict";var n=i("2tF/");e.asyncScheduler=new(i("NTcF").AsyncScheduler)(n.AsyncAction),e.async=e.asyncScheduler},"2tF/":function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.scheduler=e,n.work=i,n.pending=!1,n}return n(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,e,i){if(void 0===i&&(i=0),null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var i=!1,n=void 0;try{this.work(t)}catch(o){i=!0,n=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(i("Dz+M").Action);e.AsyncAction=o},"9AGB":function(t,e,i){"use strict";var n=i("yoF8");function o(t){return 0===t.length?n.identity:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)},e.pipeFromArray=o},CIkO:function(t,e,i){"use strict";var n=i("Q1FS"),o=i("1pIY"),r=i("p0+S");function s(t){var e=t.subscriber,i=t.counter,n=t.period;e.next(i),this.schedule({subscriber:e,counter:i+1,period:n},n)}e.interval=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=o.async),(!r.isNumeric(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=o.async),new n.Observable(function(i){return i.add(e.schedule(s,t,{subscriber:i,counter:0,period:t})),i})}},"Dz+M":function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function e(e,i){return t.call(this)||this}return n(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(i("zB/H").Subscription);e.Action=o},FWf1:function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=i("pshJ"),r=i("GiSu"),s=i("zB/H"),c=i("p//D"),a=i("n3uD"),u=i("MkmW"),d=function(t){function e(i,n,o){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=r.empty;break;case 1:if(!i){s.destination=r.empty;break}if("object"==typeof i){i instanceof e?(s.syncErrorThrowable=i.syncErrorThrowable,s.destination=i,i.add(s)):(s.syncErrorThrowable=!0,s.destination=new l(s,i));break}default:s.syncErrorThrowable=!0,s.destination=new l(s,i,n,o)}return s}return n(e,t),e.prototype[c.rxSubscriber]=function(){return this},e.create=function(t,i,n){var o=new e(t,i,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.Subscription);e.Subscriber=d;var l=function(t){function e(e,i,n,s){var c,a=t.call(this)||this;a._parentSubscriber=e;var u=a;return o.isFunction(i)?c=i:i&&(c=i.next,n=i.error,s=i.complete,i!==r.empty&&(u=Object.create(i),o.isFunction(u.unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(a))),a._context=u,a._next=c,a._error=n,a._complete=s,a}return n(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,i=a.config.useDeprecatedSynchronousErrorHandling;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):u.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;u.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};a.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),a.config.useDeprecatedSynchronousErrorHandling)throw i;u.hostReportError(i)}},e.prototype.__tryOrSetError=function(t,e,i){if(!a.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(n){return a.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(u.hostReportError(n),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(d);e.SafeSubscriber=l},GMZp:function(t,e,i){"use strict";e.isObject=function(t){return null!==t&&"object"==typeof t}},GiSu:function(t,e,i){"use strict";var n=i("n3uD"),o=i("MkmW");e.empty={closed:!0,next:function(t){},error:function(t){if(n.config.useDeprecatedSynchronousErrorHandling)throw t;o.hostReportError(t)},complete:function(){}}},KW9n:function(t,e,i){"use strict";i.r(e),i.d(e,"RemoteControlModule",function(){return H});var n,o=i("tyNb"),r=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}for(var c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(t){return"string"==typeof t&&c.test(t)},u=[],d=0;d<256;++d)u.push((d+256).toString(16).substr(1));var l,p,h=0,f=0,y=function(t,e,i){var n=e&&i||0,o=e||new Array(16),r=(t=t||{}).node||l,c=void 0!==t.clockseq?t.clockseq:p;if(null==r||null==c){var d=t.random||(t.rng||s)();null==r&&(r=l=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==c&&(c=p=16383&(d[6]<<8|d[7]))}var y=void 0!==t.msecs?t.msecs:Date.now(),b=void 0!==t.nsecs?t.nsecs:f+1,v=y-h+(b-f)/1e4;if(v<0&&void 0===t.clockseq&&(c=c+1&16383),(v<0||y>h)&&void 0===t.nsecs&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=y,f=b,p=c;var m=(1e4*(268435455&(y+=122192928e5))+b)%4294967296;o[n++]=m>>>24&255,o[n++]=m>>>16&255,o[n++]=m>>>8&255,o[n++]=255&m;var g=y/4294967296*1e4&268435455;o[n++]=g>>>8&255,o[n++]=255&g,o[n++]=g>>>24&15|16,o[n++]=g>>>16&255,o[n++]=c>>>8|128,o[n++]=255&c;for(var w=0;w<6;++w)o[n+w]=r[w];return e||function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!a(i))throw TypeError("Stringified UUID is invalid");return i}(o)},b=i("kv2i"),v=i("fXoL"),m=i("l7P3"),g=i("XiUz"),w=i("ofXK"),_=i("znSr");const x={series:[{type:"gauge",center:["50%","50%"],radius:"75%",startAngle:"180",endAngle:"0",animation:!1,pointer:{show:!1},progress:{show:!0,width:45,itemStyle:{color:"#7772FD"}},axisLine:{lineStyle:{width:45}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},anchor:{show:!1},title:{show:!1},detail:{valueAnimation:!0,fontSize:18,offsetCenter:[0,"-25%"]},data:[{value:0,detail:{show:!0,formatter:t=>t.toFixed(0)}}]}]};i("Axip");var O=i("2Vo4"),E=i("ItwG"),k=i("LvDl"),S=i("p41o"),D=i("rB/b");let P=(()=>{class t{constructor(t,e){this.store=t,this.websocketService=e,this.JoystickData=new O.a(null),this.subscriptions=[],this.canSendData=!1,this.store.select(S.b).subscribe(t=>{this.canSendData=t})}sendVirtualGamepadData(t,e){if(!this.canSendData)return;const i=Object(k.cloneDeep)(E.f.get("send_data"));0===t&&0===e||(i.data["cmd-params"]='{"axes":[ 0, '+t+", "+e+', 0], "deadman-button": true}'),this.websocketService.sendMessage(i)}sendAlive(t){if(!this.canSendData)return;const e=Object(k.cloneDeep)(E.f.get("alive"));e.data["cmd-params"]=t,this.websocketService.sendMessage(e)}}return t.\u0275fac=function(e){return new(e||t)(v.ac(m.h),v.ac(D.a))},t.\u0275prov=v.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=i("DKVz"),I=i("f0Cb");function j(t,e){1&t&&(v.Wb(0,"small",11),v.Ec(1,"(Disabled)"),v.Vb())}let A=(()=>{class t{constructor(t){this.joystickGaugeLinkService=t,this.speedGaugeOptions=x,this.enabled=!1,this.subscriptions=[]}initGauge(t){this.gaugeInstance=t,this.gaugeInstance.setOption(this.speedGaugeOptions)}ngOnInit(){this.enabled&&this.subscriptions.push(this.joystickGaugeLinkService.JoystickData.subscribe(t=>{t&&this.gaugeInstance&&("up"===t.direction.Angle?x.series[0].data[0].value<100&&(x.series[0].data[0].value+=t.force,this.gaugeInstance.setOption(x,!0)):"down"===t.direction.Angle&&x.series[0].data[0].value>0&&(x.series[0].data[0].value-=t.force,this.gaugeInstance.setOption(x,!0)))}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(v.Qb(P))},t.\u0275cmp=v.Kb({type:t,selectors:[["app-speed-gauge"]],decls:14,vars:4,consts:[["fxLayout","column"],["fxLayoutAlign","space-between"],[1,"component-title"],["style","color:#718096;",4,"ngIf"],[2,"height","236px"],["echarts","",3,"options","theme","chartInit"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","11px"],[2,"font-size","20px"],[2,"width","50%"],[2,"background","#E4ECF7"],[2,"font-size","14px","color","#718096"],[2,"color","#718096"]],template:function(t,e){1&t&&(v.Wb(0,"div",0),v.Wb(1,"div",1),v.Wb(2,"span",2),v.Ec(3,"Velocity "),v.Vb(),v.Dc(4,j,2,0,"small",3),v.Vb(),v.Wb(5,"div",4),v.Wb(6,"div",5),v.ec("chartInit",function(t){return e.initGauge(t)}),v.Vb(),v.Vb(),v.Wb(7,"div",6),v.Wb(8,"span",7),v.Ec(9),v.Vb(),v.Wb(10,"div",8),v.Rb(11,"mat-divider",9),v.Vb(),v.Wb(12,"span",10),v.Ec(13,"48mps"),v.Vb(),v.Vb(),v.Vb()),2&t&&(v.Eb(4),v.nc("ngIf",!e.enabled),v.Eb(2),v.nc("options",e.speedGaugeOptions)("theme","light"),v.Eb(3),v.Gc("",e.speedGaugeOptions.series[0].data[0].value.toFixed(0),"mps"))},directives:[g.d,g.c,w.l,T.a,g.e,I.a],styles:[""]}),t})();var M=i("CIkO"),C=i("sVg/"),z=i("yq9P");let L=(()=>{class t{constructor(t){this.el=t,this.move=new v.o,this.start=new v.o,this.end=new v.o,this.dir=new v.o,this.dirUp=new v.o,this.dirDown=new v.o,this.dirLeft=new v.o,this.dirRight=new v.o,this.plain=new v.o,this.plainUp=new v.o,this.plainDown=new v.o,this.plainLeft=new v.o,this.plainRight=new v.o}ngOnInit(){this.options?this.options.zone=this.el.nativeElement:this.options=this.getDefaultOptions(),this.manager=Object(z.create)(this.options),this.setupEvents()}ngOnDestroy(){this.manager.destroy()}getDefaultOptions(){return{zone:this.el.nativeElement,mode:"static",position:{left:"50%",top:"50%"},color:"blue"}}emitEvent(t,e){e.emit({event:t.event,data:t.data})}setupEvents(){this.manager.on("move",(t,e)=>{this.emitEvent({event:t,data:e},this.move)}),this.manager.on("start",(t,e)=>{this.emitEvent({event:t,data:e},this.start)}),this.manager.on("end",(t,e)=>{this.emitEvent({event:t,data:e},this.end)}),this.manager.on("dir",(t,e)=>{this.emitEvent({event:t,data:e},this.dir)}),this.manager.on("dir:up",(t,e)=>{this.emitEvent({event:t,data:e},this.dirUp)}),this.manager.on("dir:down",(t,e)=>{this.emitEvent({event:t,data:e},this.dirDown)}),this.manager.on("dir:left",(t,e)=>{this.emitEvent({event:t,data:e},this.dirLeft)}),this.manager.on("dir:right",(t,e)=>{this.emitEvent({event:t,data:e},this.dirRight)}),this.manager.on("plain",(t,e)=>{this.emitEvent({event:t,data:e},this.plain)}),this.manager.on("plain:up",(t,e)=>{this.emitEvent({event:t,data:e},this.plainUp)}),this.manager.on("plain:down",(t,e)=>{this.emitEvent({event:t,data:e},this.plainDown)}),this.manager.on("plain:left",(t,e)=>{this.emitEvent({event:t,data:e},this.plainLeft)}),this.manager.on("plain:right",(t,e)=>{this.emitEvent({event:t,data:e},this.plainRight)})}}return t.\u0275fac=function(e){return new(e||t)(v.Qb(v.l))},t.\u0275cmp=v.Kb({type:t,selectors:[["ngx-joystick"]],inputs:{options:"options"},outputs:{move:"move",start:"start",end:"end",dir:"dir",dirUp:"dirUp",dirDown:"dirDown",dirLeft:"dirLeft",dirRight:"dirRight",plain:"plain",plainUp:"plainUp",plainDown:"plainDown",plainLeft:"plainLeft",plainRight:"plainRight"},decls:1,vars:0,consts:[["id","static",2,"width","100%","height","100%"]],template:function(t,e){1&t&&v.Rb(0,"div",0)},encapsulation:2}),t})(),R=(()=>{class t{}return t.\u0275mod=v.Ob({type:t}),t.\u0275inj=v.Nb({factory:function(e){return new(e||t)},imports:[[]]}),t})();const F=["semiJoystick"];let V=(()=>{class t{constructor(t,e){this.joystickDataLinkService=t,this.store=e,this.id=new v.u,this.subscriptions=[],this.aliveInterval=Object(M.interval)(500),this.dataInterval=Object(M.interval)(100),this.semiOptions={mode:"semi",catchDistance:50,color:"black"},this.isJoystickVisible=!1,this.canSendData=!1,this.status=!1}joystickStart(t){this.isJoystickVisible=!0}onMoveSemi(t){var e,i,n,o,r,s,c,a,u,d,l;this.semiOutputData&&this.joystickDataLinkService.JoystickData.next({force:null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.force,angle:{DegreeAngle:null===(n=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.angle)||void 0===n?void 0:n.degree,RadianAngle:null===(r=null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.angle)||void 0===r?void 0:r.radian},direction:{Angle:null===(c=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.direction)||void 0===c?void 0:c.angle,X:null===(u=null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.direction)||void 0===u?void 0:u.x,Y:null===(l=null===(d=null==t?void 0:t.data)||void 0===d?void 0:d.direction)||void 0===l?void 0:l.y}}),this.semiOutputData=null==t?void 0:t.data}joystickEnd(t){this.joystickDataLinkService.JoystickData.next({force:0,angle:{DegreeAngle:null,RadianAngle:null},direction:{Angle:null,X:null,Y:null}})}ngOnInit(){this.subscriptions.push(this.store.select(S.b).subscribe(t=>this.status=t)),this.store.dispatch(Object(C.a)({virtualGamepadConnectId:this.id})),this.subscriptions.push(this.aliveInterval.subscribe(()=>{this.joystickDataLinkService.sendAlive(this.id)}),this.dataInterval.subscribe(()=>{var t,e,i,n,o,r,s,c,a,u,d,l,p,h,f;let y=0,b=0;(null===(i=null===(e=null===(t=this.joystickDataLinkService.JoystickData)||void 0===t?void 0:t.value)||void 0===e?void 0:e.angle)||void 0===i?void 0:i.RadianAngle)&&(y=Math.cos(null===(r=null===(o=null===(n=this.joystickDataLinkService.JoystickData)||void 0===n?void 0:n.value)||void 0===o?void 0:o.angle)||void 0===r?void 0:r.RadianAngle),b=Math.sin(null===(a=null===(c=null===(s=this.joystickDataLinkService.JoystickData)||void 0===s?void 0:s.value)||void 0===c?void 0:c.angle)||void 0===a?void 0:a.RadianAngle),(null===(d=null===(u=this.joystickDataLinkService.JoystickData)||void 0===u?void 0:u.value)||void 0===d?void 0:d.force)<1&&(y*=null===(p=null===(l=this.joystickDataLinkService.JoystickData)||void 0===l?void 0:l.value)||void 0===p?void 0:p.force,b*=null===(f=null===(h=this.joystickDataLinkService.JoystickData)||void 0===h?void 0:h.value)||void 0===f?void 0:f.force)),this.joystickDataLinkService.sendVirtualGamepadData(y,b)}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(v.Qb(P),v.Qb(m.h))},t.\u0275cmp=v.Kb({type:t,selectors:[["app-remote-control-joystick"]],viewQuery:function(t,e){if(1&t&&v.Hc(F,1),2&t){let t;v.tc(t=v.fc())&&(e.semiJoystick=t.first)}},inputs:{id:"id"},decls:9,vars:2,consts:[["fxLayout","column","fxFlexFill","",1,"disabled-touch"],["fxLayoutAlign","space-between",2,"width","100%"],[1,"component-title"],["fxFlexAlign","center end",2,"color","#718096"],["fxFlexFill","",1,"zone"],[3,"options","start","move","end"],["semiJoystick",""]],template:function(t,e){1&t&&(v.Wb(0,"div",0),v.Wb(1,"div",1),v.Wb(2,"span",2),v.Ec(3,"Joystick"),v.Vb(),v.Wb(4,"small",3),v.Ec(5),v.Vb(),v.Vb(),v.Wb(6,"div",4),v.Wb(7,"ngx-joystick",5,6),v.ec("start",function(t){return e.joystickStart(t)})("move",function(t){return e.onMoveSemi(t)})("end",function(t){return e.joystickEnd(t)}),v.Vb(),v.Vb(),v.Vb()),2&t&&(v.Eb(5),v.Fc(e.status?"(Connected)":"(Disonnected)"),v.Eb(2),v.nc("options",e.semiOptions))},directives:[g.d,g.f,g.c,g.a,L],styles:[".zone[_ngcontent-%COMP%]{position:relative;background:#fff!important}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.disabled-touch[_ngcontent-%COMP%]{touch-action:none}"]}),t})();const N=function(t){return{"velocity-mobile":t}},W=[{path:"",component:(()=>{class t{constructor(t){this.store=t,this.id=y()}ngOnInit(){}checkIfMobile(){return b.a.checkIfMobile()}}return t.\u0275fac=function(e){return new(e||t)(v.Qb(m.h))},t.\u0275cmp=v.Kb({type:t,selectors:[["app-remote-control"]],decls:8,vars:4,consts:[[1,"page-style",2,"overflow","auto"],["fxLayout","column","fxLayoutGap","16px",1,"outer-div-padding",2,"height","100%"],["fxLayout","row wrap","fxLayoutGap","16px",2,"width","100%"],["fxFlex.sm","100",1,"page-components","unselectable","full-width-mobile",2,"min-width","300px",3,"ngClass"],[1,"page-components","unselectable","joystick-parent-div"],[3,"id"],["fxFlex",""]],template:function(t,e){1&t&&(v.Wb(0,"div",0),v.Wb(1,"div",1),v.Wb(2,"div",2),v.Wb(3,"div",3),v.Rb(4,"app-speed-gauge"),v.Vb(),v.Wb(5,"div",4),v.Rb(6,"app-remote-control-joystick",5),v.Vb(),v.Vb(),v.Rb(7,"div",6),v.Vb(),v.Vb()),2&t&&(v.Eb(3),v.nc("ngClass",v.pc(2,N,e.checkIfMobile())),v.Eb(3),v.nc("id",e.id))},directives:[g.d,g.e,g.b,w.j,_.a,A,V],styles:[".mat-tab-body-wrapper{height:100%}.joystick-parent-div[_ngcontent-%COMP%]{min-width:850px!important;min-height:350px!important}.velocity-mobile[_ngcontent-%COMP%]{margin-right:0!important;min-width:200px!important}@media screen and (min-width:0px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:340px!important}}@media screen and (min-width:1400px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:600px!important}}@media screen and (min-width:1600px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:700px!important}}@media screen and (min-width:1700px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:1000px!important}}@media screen and (max-width:475px){.joystick-parent-div[_ngcontent-%COMP%]{max-width:300px!important;min-width:200px!important;width:100%}}"]}),t})(),data:{animation:"LandingPageAnimation"}},{path:"**",redirectTo:""}];let J=(()=>{class t{}return t.\u0275mod=v.Ob({type:t}),t.\u0275inj=v.Nb({factory:function(e){return new(e||t)},imports:[[o.e.forChild(W)],o.e]}),t})();var U=i("+XFo");let H=(()=>{class t{}return t.\u0275mod=v.Ob({type:t}),t.\u0275inj=v.Nb({factory:function(e){return new(e||t)},imports:[[U.a,J,T.b.forChild(),R]]}),t})()},LBXl:function(t,e,i){"use strict";e.UnsubscriptionError=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},MkmW:function(t,e,i){"use strict";e.hostReportError=function(t){setTimeout(function(){throw t},0)}},NTcF:function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=i("ffpz"),r=function(t){function e(i,n){void 0===n&&(n=o.Scheduler.now);var r=t.call(this,i,function(){return e.delegate&&e.delegate!==r?e.delegate.now():n()})||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return n(e,t),e.prototype.schedule=function(i,n,o){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(i,n,o):t.prototype.schedule.call(this,i,n,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}},e}(o.Scheduler);e.AsyncScheduler=r},Q1FS:function(t,e,i){"use strict";var n=i("yx2s"),o=i("Xwq/"),r=i("zfKp"),s=i("9AGB"),c=i("n3uD");function a(t){if(t||(t=c.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var i=new t;return i.source=this,i.operator=e,i},t.prototype.subscribe=function(t,e,i){var n=this.operator,r=o.toSubscriber(t,e,i);if(r.add(n?n.call(r,this.source):this.source||c.config.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),c.config.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){c.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),n.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var i=this;return new(e=a(e))(function(e,n){var o;o=i.subscribe(function(e){try{t(e)}catch(i){n(i),o&&o.unsubscribe()}},n,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[r.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=a(t))(function(t,i){var n;e.subscribe(function(t){return n=t},function(t){return i(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}()},"Xwq/":function(t,e,i){"use strict";var n=i("FWf1"),o=i("p//D"),r=i("GiSu");e.toSubscriber=function(t,e,i){if(t){if(t instanceof n.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||i?new n.Subscriber(t,e,i):new n.Subscriber(r.empty)}},ffpz:function(t,e,i){"use strict";e.Scheduler=function(){function t(e,i){void 0===i&&(i=t.now),this.SchedulerAction=e,this.now=i}return t.prototype.schedule=function(t,e,i){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(i,e)},t.now=function(){return Date.now()},t}()},mbIT:function(t,e,i){"use strict";e.isArray=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},n3uD:function(t,e,i){"use strict";var n=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},"p//D":function(t,e,i){"use strict";e.rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),e.$$rxSubscriber=e.rxSubscriber},"p0+S":function(t,e,i){"use strict";var n=i("mbIT");e.isNumeric=function(t){return!n.isArray(t)&&t-parseFloat(t)+1>=0}},pshJ:function(t,e,i){"use strict";e.isFunction=function(t){return"function"==typeof t}},yoF8:function(t,e,i){"use strict";e.identity=function(t){return t}},yq9P:function(t,e,i){window,t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,(function(e){return t[e]}).bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n,o=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},r=function(t){return t*(Math.PI/180)},s=function(t,e,i){for(var n,o=e.split(/[ ,]+/g),r=0;r<o.length;r+=1)n=o[r],t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&t.attachEvent(n,i)},c=function(t,e,i){for(var n,o=e.split(/[ ,]+/g),r=0;r<o.length;r+=1)n=o[r],t.removeEventListener?t.removeEventListener(n,i):t.detachEvent&&t.detachEvent(n,i)},a=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},u=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},d=function(t,e){e.top||e.right||e.bottom||e.left?(t.style.top=e.top,t.style.right=e.right,t.style.bottom=e.bottom,t.style.left=e.left):(t.style.left=e.x+"px",t.style.top=e.y+"px")},l=function(t,e,i){var n=p(t);for(var o in n)if(n.hasOwnProperty(o))if("string"==typeof e)n[o]=e+" "+i;else{for(var r="",s=0,c=e.length;s<c;s+=1)r+=e[s]+" "+i+", ";n[o]=r.slice(0,-2)}return n},p=function(t){var e={};return e[t]="",["webkit","Moz","o"].forEach(function(i){e[i+t.charAt(0).toUpperCase()+t.slice(1)]=""}),e},h=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},f=function(t,e){if(t.length)for(var i=0,n=t.length;i<n;i+=1)e(t[i]);else e(t)},y=!!("ontouchstart"in window),b=!!window.PointerEvent,v=!!window.MSPointerEvent,m={start:"mousedown",move:"mousemove",end:"mouseup"},g={};function w(){}b?n={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:v?n={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:y?(n={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},g=m):n=m,w.prototype.on=function(t,e){var i,n=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var o=0;o<n.length;o+=1)this._handlers_[i=n[o]]=this._handlers_[i]||[],this._handlers_[i].push(e);return this},w.prototype.off=function(t,e){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===e?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(e)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(e),1),this},w.prototype.trigger=function(t,e){var i,n=this,o=t.split(/[ ,]+/g);n._handlers_=n._handlers_||{};for(var r=0;r<o.length;r+=1)n._handlers_[i=o[r]]&&n._handlers_[i].length&&n._handlers_[i].forEach(function(t){t.call(n,{type:i,target:n},e)})},w.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(t,e){var i={};for(var n in t)t.hasOwnProperty(n)&&e.hasOwnProperty(n)?i[n]=e[n]:t.hasOwnProperty(n)&&(i[n]=t[n]);return i}(this.options,t))},w.prototype.bindEvt=function(t,e){var i=this;return i._domHandlers_=i._domHandlers_||{},i._domHandlers_[e]=function(){"function"==typeof i["on"+e]?i["on"+e].apply(i,arguments):console.warn('[WARNING] : Missing "on'+e+'" handler.')},s(t,n[e],i._domHandlers_[e]),g[e]&&s(t,g[e],i._domHandlers_[e]),i},w.prototype.unbindEvt=function(t,e){return this._domHandlers_=this._domHandlers_||{},c(t,n[e],this._domHandlers_[e]),g[e]&&c(t,g[e],this._domHandlers_[e]),delete this._domHandlers_[e],this};var _=w;function x(t,e){return this.identifier=e.identifier,this.position=e.position,this.frontPosition=e.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(e),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=x.id,x.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}x.prototype=new _,x.constructor=x,x.id=0,x.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},x.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+"ms",e=function(t,e){var i=p("borderRadius");for(var n in i)i.hasOwnProperty(n)&&(i[n]="50%");return i}(),i=l("transition","opacity",t),n={};return n.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},n.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},n.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},h(n.el,i),"circle"===this.options.shape&&h(n.back,e),h(n.front,e),this.applyStyles(n),this},x.prototype.applyStyles=function(t){for(var e in this.ui)if(this.ui.hasOwnProperty(e))for(var i in t[e])this.ui[e].style[i]=t[e][i];return this},x.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},x.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},x.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},x.prototype.show=function(t){var e=this;return e.options.dataOnly||(clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.addToDom(),e.restCallback(),setTimeout(function(){e.ui.el.style.opacity=1},0),e.showTimeout=setTimeout(function(){e.trigger("shown",e.instance),"function"==typeof t&&t.call(this)},e.options.fadeTime)),e},x.prototype.hide=function(t){var e=this;return e.options.dataOnly||(e.ui.el.style.opacity=e.options.restOpacity,clearTimeout(e.removeTimeout),clearTimeout(e.showTimeout),clearTimeout(e.restTimeout),e.removeTimeout=setTimeout(function(){e.ui.el.style.display="dynamic"===e.options.mode?"none":"block","function"==typeof t&&t.call(e),e.trigger("hidden",e.instance)},e.options.fadeTime),e.options.restJoystick&&e.setPosition(t,{x:0,y:0})),e},x.prototype.setPosition=function(t,e){var i=this;i.frontPosition={x:e.x,y:e.y};var n={};n.front=l("transition",["top","left"],i.options.fadeTime+"ms");var o={front:{}};o.front={left:i.frontPosition.x+"px",top:i.frontPosition.y+"px"},i.applyStyles(n),i.applyStyles(o),i.restTimeout=setTimeout(function(){"function"==typeof t&&t.call(i),i.restCallback()},i.options.fadeTime)},x.prototype.restCallback=function(){var t={};t.front=l("transition","none",""),this.applyStyles(t),this.trigger("rested",this.instance)},x.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},x.prototype.computeDirection=function(t){var e,i,n,o=t.angle.radian,r=Math.PI/4,s=Math.PI/2;if(o>r&&o<3*r&&!t.lockX?e="up":o>-r&&o<=r&&!t.lockY?e="left":o>3*-r&&o<=-r&&!t.lockX?e="down":t.lockY||(e="right"),t.lockY||(i=o>-s&&o<s?"left":"right"),t.lockX||(n=o>0?"up":"down"),t.force>this.options.threshold){var c,a={};for(c in this.direction)this.direction.hasOwnProperty(c)&&(a[c]=this.direction[c]);var u={};for(c in this.direction={x:i,y:n,angle:e},t.direction=this.direction,a)a[c]===this.direction[c]&&(u[c]=!0);if(u.x&&u.y&&u.angle)return t;u.x&&u.y||this.trigger("plain",t),u.x||this.trigger("plain:"+i,t),u.y||this.trigger("plain:"+n,t),u.angle||this.trigger("dir dir:"+e,t)}else this.resetDirection();return t};var O=x;function E(t,e){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=E.id,E.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1},this.config(e),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}E.prototype=new _,E.constructor=E,E.id=0,E.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(e){if(void 0===e)return t[0];for(var i=0,n=t.length;i<n;i+=1)if(t[i].identifier===e)return t[i];return!1}},E.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},E.prototype.begin=function(){var t=this.options;if("static"===t.mode){var e=this.createNipple(t.position,this.manager.getIdentifier());e.add(),this.idles.push(e)}},E.prototype.createNipple=function(t,e){var i=u(),n={},o=this.options;if(t.x&&t.y)n={x:t.x-(i.x+this.box.left),y:t.y-(i.y+this.box.top)};else if(t.top||t.right||t.bottom||t.left){var r=document.createElement("DIV");r.style.display="hidden",r.style.top=t.top,r.style.right=t.right,r.style.bottom=t.bottom,r.style.left=t.left,r.style.position="absolute",o.zone.appendChild(r);var s=r.getBoundingClientRect();o.zone.removeChild(r),n=t,t={x:s.left+i.x,y:s.top+i.y}}var c=new O(this,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:e,position:t,zone:o.zone,frontPosition:{x:0,y:0},shape:o.shape});return o.dataOnly||(d(c.ui.el,n),d(c.ui.front,c.frontPosition)),this.nipples.push(c),this.trigger("added "+c.identifier+":added",c),this.manager.trigger("added "+c.identifier+":added",c),this.bindNipple(c),c},E.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},E.prototype.bindNipple=function(t){var e=this,i=function(t,i){e.trigger(t.type+" "+i.id+":"+t.type,i)};t.on("destroyed",e.onDestroyed.bind(e)),t.on("shown hidden rested dir plain",i),t.on("dir:up dir:right dir:down dir:left",i),t.on("plain:up plain:right plain:down plain:left",i)},E.prototype.pressureFn=function(t,e,i){var n=this,o=0;clearInterval(n.pressureIntervals[i]),n.pressureIntervals[i]=setInterval((function(){var i=t.force||t.pressure||t.webkitForce||0;i!==o&&(e.trigger("pressure",i),n.trigger("pressure "+e.identifier+":pressure",i),o=i)}).bind(n),100)},E.prototype.onstart=function(t){var e=this,i=e.options,n=t;return t=a(t),e.updateBox(),f(t,function(o){e.actives.length<i.maxNumberOfNipples?e.processOnStart(o):n.type.match(/^touch/)&&(Object.keys(e.manager.ids).forEach(function(i){if(Object.values(n.touches).findIndex(function(t){return t.identifier===i})<0){var o=[t[0]];o.identifier=i,e.processOnEnd(o)}}),e.actives.length<i.maxNumberOfNipples&&e.processOnStart(o))}),e.manager.bindDocument(),!1},E.prototype.processOnStart=function(t){var e,i=this,n=i.options,r=i.manager.getIdentifier(t),s=t.force||t.pressure||t.webkitForce||0,c={x:t.pageX,y:t.pageY},a=i.getOrCreate(r,c);a.identifier!==r&&i.manager.removeIdentifier(a.identifier),a.identifier=r;var u=function(e){e.trigger("start",e),i.trigger("start "+e.id+":start",e),e.show(),s>0&&i.pressureFn(t,e,e.identifier),i.processOnMove(t)};if((e=i.idles.indexOf(a))>=0&&i.idles.splice(e,1),i.actives.push(a),i.ids.push(a.identifier),"semi"!==n.mode)u(a);else{if(!(o(c,a.position)<=n.catchDistance))return a.destroy(),void i.processOnStart(t);u(a)}return a},E.prototype.getOrCreate=function(t,e){var i,n=this.options;return/(semi|static)/.test(n.mode)?(i=this.idles[0])?(this.idles.splice(0,1),i):"semi"===n.mode?this.createNipple(e,t):(console.warn("Coudln't find the needed nipple."),!1):i=this.createNipple(e,t)},E.prototype.processOnMove=function(t){var e=this.options,i=this.manager.getIdentifier(t),n=this.nipples.get(i);if(function(t){return isNaN(t.buttons)?0!==t.pressure:0!==t.buttons}(t)){if(!n)return console.error("Found zombie joystick with ID "+i),void this.manager.removeIdentifier(i);if(e.dynamicPage){var s=u();a=n.el.getBoundingClientRect(),n.position={x:s.x+a.left,y:s.y+a.top}}n.identifier=i;var c=n.options.size/2,a={x:t.pageX,y:t.pageY};e.lockX&&(a.y=n.position.y),e.lockY&&(a.x=n.position.x);var l,p,h,f,y,b,v=o(a,n.position),m=(l=a,p=n.position,function(t){return t*(180/Math.PI)}(Math.atan2(p.y-l.y,p.x-l.x))),g=r(m),w=v/c,_={distance:v,position:a};"circle"===n.options.shape?(v=Math.min(v,c),h=n.position,f=v,b={x:0,y:0},y=r(y=m),b.x=h.x-f*Math.cos(y),b.y=h.y-f*Math.sin(y),a=b):(a=function(t,e,i){return{x:Math.min(Math.max(t.x,e.x-i),e.x+i),y:Math.min(Math.max(t.y,e.y-i),e.y+i)}}(a,n.position,c),v=o(a,n.position));var x=a.x-n.position.x,O=a.y-n.position.y;n.frontPosition={x:x,y:O},e.dataOnly||d(n.ui.front,n.frontPosition);var E={identifier:n.identifier,position:a,force:w,pressure:t.force||t.pressure||t.webkitForce||0,distance:v,angle:{radian:g,degree:m},vector:{x:x/c,y:-O/c},raw:_,instance:n,lockX:e.lockX,lockY:e.lockY};(E=n.computeDirection(E)).angle={radian:r(180-m),degree:180-m},n.trigger("move",E),this.trigger("move "+n.id+":move",E)}else this.processOnEnd(t)},E.prototype.processOnEnd=function(t){var e=this,i=e.options,n=e.manager.getIdentifier(t),o=e.nipples.get(n),r=e.manager.removeIdentifier(o.identifier);o&&(i.dataOnly||o.hide(function(){"dynamic"===i.mode&&(o.trigger("removed",o),e.trigger("removed "+o.id+":removed",o),e.manager.trigger("removed "+o.id+":removed",o),o.destroy())}),clearInterval(e.pressureIntervals[o.identifier]),o.resetDirection(),o.trigger("end",o),e.trigger("end "+o.id+":end",o),e.ids.indexOf(o.identifier)>=0&&e.ids.splice(e.ids.indexOf(o.identifier),1),e.actives.indexOf(o)>=0&&e.actives.splice(e.actives.indexOf(o),1),/(semi|static)/.test(i.mode)?e.idles.push(o):e.nipples.indexOf(o)>=0&&e.nipples.splice(e.nipples.indexOf(o),1),e.manager.unbindDocument(),/(semi|static)/.test(i.mode)&&(e.manager.ids[r.id]=r.identifier))},E.prototype.onDestroyed=function(t,e){this.nipples.indexOf(e)>=0&&this.nipples.splice(this.nipples.indexOf(e),1),this.actives.indexOf(e)>=0&&this.actives.splice(this.actives.indexOf(e),1),this.idles.indexOf(e)>=0&&this.idles.splice(this.idles.indexOf(e),1),this.ids.indexOf(e.identifier)>=0&&this.ids.splice(this.ids.indexOf(e.identifier),1),this.manager.removeIdentifier(e.identifier),this.manager.unbindDocument()},E.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach(function(t){t.destroy()}),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var k=E;function S(t){var e,i=this;return i.ids={},i.index=0,i.collections=[],i.config(t),i.prepareCollections(),s(window,"resize",function(t){clearTimeout(e),e=setTimeout(function(){var t,e=u();i.collections.forEach(function(i){i.forEach(function(i){t=i.el.getBoundingClientRect(),i.position={x:e.x+t.left,y:e.y+t.top}})})},100)}),i.collections}S.prototype=new _,S.constructor=S,S.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(e){var i;return t.collections.every(function(t){return!(i=t.get(e))}),i}},S.prototype.create=function(t){return this.createCollection(t)},S.prototype.createCollection=function(t){var e=new k(this,t);return this.bindCollection(e),this.collections.push(e),e},S.prototype.bindCollection=function(t){var e=this,i=function(t,i){e.trigger(t.type+" "+i.id+":"+t.type,i)};t.on("destroyed",e.onDestroyed.bind(e)),t.on("shown hidden rested dir plain",i),t.on("dir:up dir:right dir:down dir:left",i),t.on("plain:up plain:right plain:down plain:left",i)},S.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},S.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},S.prototype.getIdentifier=function(t){var e;return t?void 0===(e=void 0===t.identifier?t.pointerId:t.identifier)&&(e=this.latest||0):e=this.index,void 0===this.ids[e]&&(this.ids[e]=this.index,this.index+=1),this.latest=e,this.ids[e]},S.prototype.removeIdentifier=function(t){var e={};for(var i in this.ids)if(this.ids[i]===t){e.id=i,e.identifier=this.ids[i],delete this.ids[i];break}return e},S.prototype.onmove=function(t){return this.onAny("move",t),!1},S.prototype.onend=function(t){return this.onAny("end",t),!1},S.prototype.oncancel=function(t){return this.onAny("end",t),!1},S.prototype.onAny=function(t,e){var i,n=this,o="processOn"+t.charAt(0).toUpperCase()+t.slice(1);return e=a(e),f(e,function(t){i=n.getIdentifier(t),f(n.collections,(function(t,e,i){i.ids.indexOf(e)>=0&&(i[o](t),t._found_=!0)}).bind(null,t,i)),t._found_||n.removeIdentifier(i)}),!1},S.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach(function(t){t.destroy()}),this.off()},S.prototype.onDestroyed=function(t,e){if(this.collections.indexOf(e)<0)return!1;this.collections.splice(this.collections.indexOf(e),1)};var D=new S;e.default={create:function(t){return D.create(t)},factory:D}}]).default},yx2s:function(t,e,i){"use strict";var n=i("FWf1");e.canReportError=function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof n.Subscriber?e:null}return!0}},"zB/H":function(t,e,i){"use strict";var n=i("mbIT"),o=i("GMZp"),r=i("pshJ"),s=i("LBXl");function c(t){return t.reduce(function(t,e){return t.concat(e instanceof s.UnsubscriptionError?e.errors:e)},[])}e.Subscription=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var i=this,a=i._parentOrParents,u=i._ctorUnsubscribe,d=i._unsubscribe,l=i._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof t)a.remove(this);else if(null!==a)for(var p=0;p<a.length;++p)a[p].remove(this);if(r.isFunction(d)){u&&(this._unsubscribe=void 0);try{d.call(this)}catch(y){e=y instanceof s.UnsubscriptionError?c(y.errors):[y]}}if(n.isArray(l)){p=-1;for(var h=l.length;++p<h;){var f=l[p];if(o.isObject(f))try{f.unsubscribe()}catch(y){e=e||[],y instanceof s.UnsubscriptionError?e=e.concat(c(y.errors)):e.push(y)}}}if(e)throw new s.UnsubscriptionError(e)}},t.prototype.add=function(e){var i=e;if(!e)return t.EMPTY;switch(typeof e){case"function":i=new t(e);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof t)){var n=i;(i=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=i._parentOrParents;if(null===o)i._parentOrParents=this;else if(o instanceof t){if(o===this)return i;i._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return i;o.push(this)}var r=this._subscriptions;return null===r?this._subscriptions=[i]:r.push(i),i},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var i=e.indexOf(t);-1!==i&&e.splice(i,1)}},t.EMPTY=((e=new t).closed=!0,e),t}()},zfKp:function(t,e,i){"use strict";e.observable=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()}}]);