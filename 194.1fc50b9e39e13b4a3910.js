(self.webpackChunkros_fe_poc=self.webpackChunkros_fe_poc||[]).push([[194],{49457:function(k,F){var a,v;void 0!==(v="function"==typeof(a=function(){"use strict";function x(c,l,m){var s=new XMLHttpRequest;s.open("GET",c),s.responseType="blob",s.onload=function(){L(s.response,l,m)},s.onerror=function(){console.error("could not download file")},s.send()}function e(c){var l=new XMLHttpRequest;l.open("HEAD",c,!1);try{l.send()}catch(m){}return 200<=l.status&&299>=l.status}function y(c){try{c.dispatchEvent(new MouseEvent("click"))}catch(m){var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(l)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,T=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),L=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!T?function(c,l,m){var s=f.URL||f.webkitURL,u=document.createElement("a");u.download=l=l||c.name||"download",u.rel="noopener","string"==typeof c?(u.href=c,u.origin===location.origin?y(u):e(u.href)?x(c,l,m):y(u,u.target="_blank")):(u.href=s.createObjectURL(c),setTimeout(function(){s.revokeObjectURL(u.href)},4e4),setTimeout(function(){y(u)},0))}:"msSaveOrOpenBlob"in navigator?function(c,l,m){if(l=l||c.name||"download","string"!=typeof c)navigator.msSaveOrOpenBlob(function(c,l){return void 0===l?l={autoBom:!1}:"object"!=typeof l&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\ufeff",c],{type:c.type}):c}(c,m),l);else if(e(c))x(c,l,m);else{var s=document.createElement("a");s.href=c,s.target="_blank",setTimeout(function(){y(s)})}}:function(c,l,m,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof c)return x(c,l,m);var u="application/octet-stream"===c.type,M=/constructor/i.test(f.HTMLElement)||f.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||u&&M||T)&&"undefined"!=typeof FileReader){var w=new FileReader;w.onloadend=function(){var h=w.result;h=_?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=h:location=h,s=null},w.readAsDataURL(c)}else{var p=f.URL||f.webkitURL,b=p.createObjectURL(c);s?s.location=b:location.href=b,s=null,setTimeout(function(){p.revokeObjectURL(b)},4e4)}});f.saveAs=L.saveAs=L,k.exports=L})?a.apply(F,[]):a)&&(k.exports=v)},81647:(k,F,a)=>{"use strict";a.d(F,{h:()=>v});var g=a(37716);let v=(()=>{class C{constructor(){}mapFromViewModelToDtoModel(){}mapFromDtoModelArrayToViewModelArray(e){let y=[];return e.forEach(f=>{y.push(this.mapFromDtoModelToViewModel(f))}),y}mapFromDtoModelToViewModel(e){return{fullPath:e.path,name:e.name,createdDate:new Date(e.createdDate),lastModifiedDate:new Date(e.lastModifiedDate),isDir:e.isDir,children:e.isDir?[]:null}}}return C.\u0275fac=function(e){return new(e||C)},C.\u0275prov=g.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},71013:(k,F,a)=>{"use strict";a.d(F,{T:()=>w});var g=a(91841),v=a(23815),C=a(26215),x=a(92340),e=a(84365),y=a(57788),f=a(23065),T=a(38223);const L=(0,f.P1)(T.N.selectLoading,p=>p),c=(0,f.P1)(T.N.selectRequestedPath,p=>p),l=(0,f.P1)(T.N.selectLogs,p=>p);var m=a(49457),s=a(37716),u=a(81647),M=a(70992),_=a(67736);let w=(()=>{class p{constructor(h,A,O,S,I){this.logsMapperService=h,this.store=A,this.responseMS=O,this.linkService=S,this.http=I,this.newRequest=new C.X(null),this.responseMS.get_logs.subscribe(Z=>{var P;Z&&this.receiveLogs(null===(P=null==Z?void 0:Z.data)||void 0===P?void 0:P.logs)}),this.responseMS.get_compressed_files.subscribe(Z=>{var P;this.handleCompressedFilesResponse(null===(P=null==Z?void 0:Z.data)||void 0===P?void 0:P.name)})}get requestedPath(){return this.store.select(c)}get logs(){return this.store.select(l)}get loading(){return this.store.select(L)}receiveLogs(h){let A=this.logsMapperService.mapFromDtoModelArrayToViewModelArray(h);this.store.dispatch((0,y.iS)({logs:A})),this.store.dispatch((0,y.EX)({loading:!1}))}downloadLogs(h){let A=(0,v.cloneDeep)(e.L);A.data.files=h,this.linkService.sendMessage(A)}handleCompressedFilesResponse(h){let A=new g.WM({Token:localStorage.getItem("access_token"),"Access-Control-Allow-Origin":"*"});this.http.get(x.N.APIEndpoint.slice(0,-1)+h,{headers:A,responseType:"blob"}).subscribe(O=>{let S=null==h?void 0:h.split("/");S=S[S.length-1],(0,m.saveAs)(O,S)})}clearLogs(){this.store.dispatch((0,y.Cs)())}requestLogs(h){let A=(0,v.cloneDeep)(e.p);A.data.directory=h,this.linkService.sendMessage(A),this.store.dispatch((0,y.xA)({requestedPath:h})),this.store.dispatch((0,y.EX)({loading:!0}))}}return p.\u0275fac=function(h){return new(h||p)(s.LFG(u.h),s.LFG(f.yh),s.LFG(M.B),s.LFG(_.X),s.LFG(g.eN))},p.\u0275prov=s.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},84365:(k,F,a)=>{"use strict";a.d(F,{p:()=>g,L:()=>v});const g={type:"get_logs",data:{directory:""}},v={type:"get_compressed_files",data:{files:[],compressed_files:""}}},57788:(k,F,a)=>{"use strict";a.d(F,{iS:()=>v,EX:()=>C,xA:()=>x,Cs:()=>e});var g=a(23065);const v=(0,g.PH)("[Logs] Update Logs",(0,g.Ky)()),C=(0,g.PH)("[Logs] Toggle Logs Loading Status",(0,g.Ky)()),x=(0,g.PH)("[Logs] Update Logs Requested Path",(0,g.Ky)()),e=(0,g.PH)("[Logs] Clear Logs")},38223:(k,F,a)=>{"use strict";a.d(F,{N:()=>c});var g=a(23065),v=a(57788),C=a(23815),x=a(19083),e=a(37716);let y=(()=>{class l{constructor(){}static updateLogsTree(s,u,M){var _,w;let p=M?null==M?void 0:M.split("/"):null===(w=null===(_=null==u?void 0:u[0])||void 0===_?void 0:_.fullPath)||void 0===w?void 0:w.split("/");null==p||p.pop(),this.accessChildrenAndAppend(s,u,p,(null==p?void 0:p.length)>0?0:null)}static accessChildrenAndAppend(s,u,M,_){if(null!=_&&_>=0){let w=s.findIndex(p=>p.name===M[_]);-1===w&&(s.push({name:M[_],isDir:!0,fullPath:M.slice(0,_).join("/"),children:[]}),w=s.findIndex(p=>p.name===M[_])),this.accessChildrenAndAppend(s[w].children,u,M,_=M.length-1>_?_+1:null)}else(0,x.diff)(s,u)&&s.push(...u)}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const L=(0,g.Lq)({loading:!1,logs:[],requestedPath:"/"},(0,g.on)(v.iS,(l,m)=>{let s=(0,C.cloneDeep)(l.logs);return y.updateLogsTree(s,m.logs,s.length>0?null:l.requestedPath),Object.assign(Object.assign({},l),{logs:s})}),(0,g.on)(v.EX,(l,m)=>Object.assign(Object.assign({},l),{loading:m.loading})),(0,g.on)(v.xA,(l,m)=>Object.assign(Object.assign({},l),{requestedPath:m.requestedPath})),(0,g.on)(v.Cs,(l,m)=>Object.assign(Object.assign({},l),{logs:[]}))),c=(0,g.Tz)({name:"logs",reducer:L})},6194:(k,F,a)=>{"use strict";a.r(F),a.d(F,{LogsTabModule:()=>pe});var g=a(38583),v=a(95987),C=a(19083),x=a(23815),e=a(37716),y=a(86305),f=a(71013),T=a(77093),L=a(72458),c=a(98295),l=a(67441);function m(o,d){1&o&&(e.TgZ(0,"span"),e._uU(1,"/"),e.qZA())}function s(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"span",6),e.NdJ("click",function(){const r=e.CHM(t).index,D=e.oxw();return D.onDirectoryChange(D.fullPathToDir(r),!0)}),e._uU(2),e.qZA(),e.YNc(3,m,2,0,"span",11),e.qZA()}if(2&o){const t=d.$implicit,n=d.index,i=e.oxw();e.xp6(2),e.Oqu(t),e.xp6(1),e.Q6J("ngIf",n!==i.fullPathAsArray.length-1)}}let u=(()=>{class o{constructor(){this.displayMode="list",this.directoryChanged=new e.vpe,this.displayModeChanged=new e.vpe,this.fullPath_=[]}set fullPathFromString(t){this.fullPath_=t?null==t?void 0:t.split("/"):[]}get fullPathAsArray(){return this.fullPath_}fullPathToDir(t){var n;return null!=t?null===(n=this.fullPath_.splice(0,t+1))||void 0===n?void 0:n.join("/"):""}onDisplayModeChange(t){this.displayModeChanged.emit(t)}onDirectoryChange(t,n){var i;let r;null!=t?(r=t,this.fullPathFromString=r):r=(null===(i=this.fullPath_)||void 0===i?void 0:i.length)>0&&!n?this.fullPath_.join("/"):"",this.directoryChanged.emit(r)}backPressed(){var t;let n=(null===(t=this.fullPath_)||void 0===t?void 0:t.length)>1?this.fullPath_.splice(this.fullPath_.length-2,1).join("/"):"";this.directoryChanged.emit(n)}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-file-manager-header"]],inputs:{displayMode:"displayMode"},outputs:{directoryChanged:"directoryChanged",displayModeChanged:"displayModeChanged"},decls:19,vars:5,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"fileManager"],["fxLayoutGap","24px","fxLayout","row"],["matRipple","","fxLayoutAlign","center center",1,"bi","bi-chevron-left","backIcon",3,"matRippleCentered","click"],["fxLayoutGap","16px","fxLayout","row wrap",1,"currentDirDiv"],[1,"bi","bi-folder2-open",2,"color","#6E6AF4"],["fxLayout","row wrap"],[1,"pathListNavigationSpan",3,"click"],["fxLayoutGap","5px",4,"ngFor","ngForOf"],[3,"value","valueChange"],[3,"value"],["fxLayoutGap","5px"],[4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"i",2),e.NdJ("click",function(){return n.backPressed()}),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div"),e._UZ(5,"i",4),e.TgZ(6,"span"),e._uU(7," : "),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"span",6),e.NdJ("click",function(){return n.onDirectoryChange("")}),e._uU(10,"/"),e.qZA(),e.YNc(11,s,4,2,"div",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div"),e.TgZ(13,"mat-form-field"),e.TgZ(14,"mat-select",8),e.NdJ("valueChange",function(r){return n.displayMode=r})("valueChange",function(r){return n.onDisplayModeChange(r)}),e.TgZ(15,"mat-option",9),e._uU(16,"Icons view"),e.qZA(),e.TgZ(17,"mat-option",9),e._uU(18,"List view"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("matRippleCentered",!0),e.xp6(9),e.Q6J("ngForOf",n.fullPathAsArray),e.xp6(3),e.Q6J("value",n.displayMode),e.xp6(1),e.Q6J("value","icons"),e.xp6(2),e.Q6J("value","list"))},directives:[T.xw,T.Wh,T.SQ,L.wG,g.sg,c.KE,l.gD,L.ey,g.O5],styles:[".pathListNavigationSpan[_ngcontent-%COMP%]{color:#8492a6;font-size:small;cursor:pointer}.pathListNavigationSpan[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--accent-color)}.fileManager[_ngcontent-%COMP%]  .mat-paginator-page-size .mat-select-trigger{padding:0 8px;line-height:17px;height:17px}.fileManager[_ngcontent-%COMP%]  .mat-select-value-text, .fileManager[_ngcontent-%COMP%]  .mat-select-arrow{color:var(--accent-color)}.backIcon[_ngcontent-%COMP%]{cursor:pointer;color:var(--accent-color)}.currentDirDiv[_ngcontent-%COMP%]{background-color:#edf2f7;padding:5px;border-radius:5px}"]}),o})();var M=a(77746),_=a(23322);let w=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-folder-icon"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","64 64 896 896","focusable","false","fill","currentColor","width","1em","height","1em","data-icon","folder","aria-hidden","true"],["d","M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"]],template:function(t,n){1&t&&(e.O4$(),e.TgZ(0,"svg",0),e._UZ(1,"path",1),e.qZA())},styles:[""]}),o})();var p=a(11436),b=a(93273);function h(o,d){1&o&&e._UZ(0,"app-folder-icon",12)}function A(o,d){1&o&&e._UZ(0,"i",13)}function O(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw(3).onDoubleClick(i)}),e.qZA()}}const S=function(o){return{selectedContainer:o}};function I(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"mat-list-item",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(3).onSelect(r)})("dblclick",function(){const r=e.CHM(t).$implicit;return e.oxw(3).onDoubleClick(r)}),e.TgZ(1,"div",5),e.TgZ(2,"div",6),e.YNc(3,h,1,0,"app-folder-icon",7),e.YNc(4,A,1,0,"i",8),e.TgZ(5,"div"),e.TgZ(6,"div",9),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"div",9),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"i",10),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(3).onDownloadClicked(r)}),e.qZA(),e.YNc(15,O,1,0,"i",11),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=d.$implicit,n=e.oxw(3);e.Q6J("ngClass",e.VKq(8,S,n.isSelected(t))),e.xp6(3),e.Q6J("ngIf",t.isDir),e.xp6(1),e.Q6J("ngIf",!t.isDir),e.xp6(4),e.Oqu(t.name),e.xp6(3),e.hij(" ",e.lcZ(12,6,t.lastModifiedDate),""),e.xp6(4),e.Q6J("ngIf",t.isDir)}}function Z(o,d){if(1&o&&(e.TgZ(0,"mat-list"),e.YNc(1,I,16,10,"mat-list-item",3),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.displayedItems)}}function P(o,d){if(1&o&&e._UZ(0,"i",25),2&o){e.oxw();const t=e.MAs(3);e.Q6J("matMenuTriggerFor",t)}}function z(o,d){1&o&&e._UZ(0,"app-folder-icon",26)}function H(o,d){1&o&&e._UZ(0,"i",27)}function J(o,d){if(1&o){const t=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(3).onSelect(r)})("dblclick",function(){const r=e.CHM(t).$implicit;return e.oxw(3).onDoubleClick(r)}),e.YNc(1,P,1,1,"i",18),e.TgZ(2,"mat-menu",null,19),e.TgZ(4,"button",20),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(3).onDownloadClicked(r)}),e._UZ(5,"i",21),e.TgZ(6,"span"),e._uU(7,"Download"),e.qZA(),e.qZA(),e.qZA(),e.YNc(8,z,1,0,"app-folder-icon",22),e.YNc(9,H,1,0,"i",23),e.TgZ(10,"div",24),e.TgZ(11,"span"),e._uU(12),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=d.$implicit,n=e.oxw(3);e.Q6J("ngClass",e.VKq(6,S,n.isSelected(t)))("matTooltip",t.name),e.xp6(1),e.Q6J("ngIf",n.isSelected(t)),e.xp6(7),e.Q6J("ngIf",t.isDir),e.xp6(1),e.Q6J("ngIf",!t.isDir),e.xp6(3),e.Oqu(t.name)}}function N(o,d){if(1&o&&(e.TgZ(0,"div",15),e.YNc(1,J,13,8,"div",16),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.displayedItems)}}function R(o,d){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Z,2,1,"mat-list",0),e.YNc(2,N,2,1,"div",2),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","list"===t.displayMode),e.xp6(1),e.Q6J("ngIf","icons"===t.displayMode)}}function U(o,d){1&o&&(e.TgZ(0,"div",28),e.TgZ(1,"span",29),e._uU(2,"Directory is empty !"),e.qZA(),e.qZA())}let q=(()=>{class o{constructor(){this.displayMode="list",this.dirItems_=[],this.displayedItems_=[],this.take=5,this.skip_=0,this.selectedItem=null,this.folderDoubleClicked=new e.vpe,this.downloadClicked=new e.vpe}ngOnInit(){}handleKeyDown(t){this.onSelect(null)}get isDirItemsEmpty(){var t;return(null===(t=this.dirItems_)||void 0===t?void 0:t.length)<=0}isSelected(t){var n;return(null===(n=this.selectedItem)||void 0===n?void 0:n.fullPath)===(null==t?void 0:t.fullPath)}onSelect(t){this.selectedItem=t}onDoubleClick(t){this.folderDoubleClicked.emit(t)}onDownloadClicked(t){let n=[];n.push(t),this.downloadClicked.emit(n)}get displayedItems(){return this.displayedItems_}get dirItems(){return this.dirItems_}changeDirItems(t){this.dirItems_=t,(null==t?void 0:t.length)>0&&(this.skip_=0,this.updateDisplayedData())}updateDisplayedData(){var t,n,i,r;this.skip_<=(null===(t=this.dirItems)||void 0===t?void 0:t.length)-1&&(this.take>(null===(n=this.dirItems)||void 0===n?void 0:n.length)-this.skip_&&(this.take=(null===(i=this.dirItems)||void 0===i?void 0:i.length)-this.skip_),this.displayedItems_=null===(r=this.dirItems)||void 0===r?void 0:r.slice(this.skip_,this.skip_+this.take))}paginationChanged(t,n){this.take=n,this.skip_=t*n,this.updateDisplayedData()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-file-manager-content"]],hostBindings:function(t,n){1&t&&e.NdJ("keydown.escape",function(r){return n.handleKeyDown(r)},!1,e.Jf7)},inputs:{displayMode:"displayMode",take:"take"},outputs:{folderDoubleClicked:"folderDoubleClicked",downloadClicked:"downloadClicked"},decls:2,vars:2,consts:[[4,"ngIf"],["fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","100px","fxLayoutAlign"," center  center",4,"ngIf"],["class","itemContainer itemContainerList",3,"ngClass","click","dblclick",4,"ngFor","ngForOf"],[1,"itemContainer","itemContainerList",3,"ngClass","click","dblclick"],["fxLayout","row","fxLayoutGap","16px","fxLayoutAlign","space-between center",2,"width","100%"],["fxLayout","row","fxLayoutGap","16px"],["style","font-size: 48px; color: #8492A6",4,"ngIf"],["class","bi bi-file-bar-graph","style","font-size: 48px; color: #8492A6",4,"ngIf"],["mat-line",""],[1,"bi","bi-download",3,"click"],["class","bi bi-box-arrow-in-right",3,"click",4,"ngIf"],[2,"font-size","48px","color","#8492A6"],[1,"bi","bi-file-bar-graph",2,"font-size","48px","color","#8492A6"],[1,"bi","bi-box-arrow-in-right",3,"click"],["fxLayout","row wrap","fxLayoutGap","100px","fxLayoutAlign"," center  center"],["class","itemContainer itemContainerIcons","fxLayoutAlign","center center","fxLayout","column",3,"ngClass","matTooltip","click","dblclick",4,"ngFor","ngForOf"],["fxLayoutAlign","center center","fxLayout","column",1,"itemContainer","itemContainerIcons",3,"ngClass","matTooltip","click","dblclick"],["class","bi bi-three-dots-vertical","fxFlexAlign","end","style","margin-right: 10px; right: 0; height:0",3,"matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","","fxLayoutGap","16px",3,"click"],[1,"bi","bi-download"],["style","font-size: 80px; color: #8492A6",4,"ngIf"],["class","bi bi-file-bar-graph","style","font-size: 80px; color: #8492A6",4,"ngIf"],[2,"text-overflow","ellipsis !important","width","inherit","overflow","hidden","width","80px"],["fxFlexAlign","end",1,"bi","bi-three-dots-vertical",2,"margin-right","10px","right","0","height","0",3,"matMenuTriggerFor"],[2,"font-size","80px","color","#8492A6"],[1,"bi","bi-file-bar-graph",2,"font-size","80px","color","#8492A6"],["fxLayoutAlign","start center"],[2,"margin","30px"]],template:function(t,n){1&t&&(e.YNc(0,R,3,2,"div",0),e.YNc(1,U,3,0,"div",1)),2&t&&(e.Q6J("ngIf",!n.isDirItemsEmpty),e.xp6(1),e.Q6J("ngIf",n.isDirItemsEmpty))},directives:[g.O5,M.i$,g.sg,M.Tg,g.mk,_.oO,T.xw,T.SQ,T.Wh,L.X2,w,p.gM,b.VK,b.OP,T.XD,b.p6],pipes:[g.uU],styles:[".itemIcon[_ngcontent-%COMP%]{font-size:300px;margin:10px}.itemContainerList[_ngcontent-%COMP%]{width:100%;height:45px}.itemContainerIcons[_ngcontent-%COMP%]{height:150px;width:150px}.selectedContainer[_ngcontent-%COMP%]{background-color:#e1e8ff;border-radius:16px}.unselectedContainer[_ngcontent-%COMP%]{background-color:#fff}.itemContainer[_ngcontent-%COMP%]{cursor:pointer}.itemContainer[_ngcontent-%COMP%]:hover{transition:background-color .1s ease-in-out;background-color:#e1e8ff;border-radius:16px}"]}),o})();var Q=a(99692);const G=["paginator"];let B=(()=>{class o{constructor(){this.pageSize=10,this.length=0,this.pageSizeOptions=[5,10,20],this.pageEventChanged=new e.vpe,this.pageIndex=0}gotoFirstPage(){var t;null===(t=this.paginator)||void 0===t||t.firstPage()}onPageEventChange(t){this.pageEventChanged.emit(t)}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-file-manager-footer"]],viewQuery:function(t,n){if(1&t&&e.Gf(G,5),2&t){let i;e.iGM(i=e.CRH())&&(n.paginator=i.first)}},inputs:{pageSize:"pageSize",length:"length",pageSizeOptions:"pageSizeOptions"},outputs:{pageEventChanged:"pageEventChanged"},decls:3,vars:4,consts:[[1,"file-manager-footer-container"],[3,"pageSize","length","pageSizeOptions","showFirstLastButtons","page"],["paginator",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-paginator",1,2),e.NdJ("page",function(r){return n.onPageEventChange(r)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("pageSize",n.pageSize)("length",n.length)("pageSizeOptions",n.pageSizeOptions)("showFirstLastButtons",!0))},directives:[Q.NW],styles:[".file-manager-footer-container[_ngcontent-%COMP%]  .mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-paginator-page-size{margin-left:14px!important;margin-right:auto!important;line-height:56px}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-paginator-range-actions{display:flex;align-items:center}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-paginator-range-label{position:absolute;left:225px}.file-manager-footer-container[_ngcontent-%COMP%]{position:relative}.file-manager-footer-container[_ngcontent-%COMP%]  mat-paginator, .mat-paginator-page-size[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{color:#1f2d3d}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-infix{border:1px solid #EDF2F7;border-radius:4px;box-shadow:1px 1px 2px #32324733}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-form-field-appearance-legacy .mat-form-field-underline{display:none}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-paginator-page-size .mat-select-trigger{padding:0 8px;line-height:17px;height:17px}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-select-value-text{color:#b5b5bd}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-select-arrow{color:#b5b5bd}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-paginator-page-size-select{margin-left:28px!important}"]}),o})();const Y=["content"],j=["header"],X=["footer"];let K=(()=>{class o{constructor(){this.data_=[],this.currentDirData_=[],this.displayMode="list",this.defaultPageSize=10,this.dirChanged=new e.vpe,this.downloadClicked=new e.vpe,this.currentDir="",this.latestPageEvent=null}set data(t){null!=t&&(0,C.diff)(this.data_,t)&&(this.data_=t,this.loadCurrentDirData(this.currentDir))}get data(){return this.data_}get currentDirData(){return this.currentDirData_}onDownloadClicked(t){this.downloadClicked.emit(t)}updateCurrentDir(t,n){var i,r;n&&(t=n.fullPath),this.currentDir=t,this.loadCurrentDirData(t),0===(null===(i=this.currentDirData_)||void 0===i?void 0:i.length)&&this.refreshCurrentDirData(t),this.header.fullPathFromString=t,null===(r=this.footer)||void 0===r||r.gotoFirstPage()}loadCurrentDirData(t){let n=t?t.split("/"):[],i=(0,x.cloneDeep)(this.data_);this.accessChildrenAndSetCurrentDirData(i,n,(null==n?void 0:n.length)>0?0:null)}displayModeChanged(t){this.displayMode=t,this.content.changeDiritems(this.currentDirData_)}accessChildrenAndSetCurrentDirData(t,n,i){var r;if(null!=i&&i>=0){let D=t.findIndex(E=>E.name===n[i]);-1===D&&(t.push({name:n[i],isDir:!0,fullPath:n.slice(0,i).join("/"),children:[]}),D=t.findIndex(E=>E.name===n[i])),this.accessChildrenAndSetCurrentDirData(t[D].children,n,i=n.length-1>i?i+1:null)}else this.currentDirData_=t,null===(r=this.content)||void 0===r||r.changeDirItems(t),this.pageEventChanged(this.latestPageEvent)}refreshCurrentDirData(t){this.dirChanged.emit(t)}pageEventChanged(t){var n;(0,C.diff)(this.latestPageEvent,t)&&(this.latestPageEvent=t),t?null===(n=this.content)||void 0===n||n.paginationChanged(null==t?void 0:t.pageIndex,null==t?void 0:t.pageSize):this.content.paginationChanged(0,this.defaultPageSize)}ngOnInit(){}ngAfterViewInit(){this.loadCurrentDirData("")}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-file-manager"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Y,5),e.Gf(j,5),e.Gf(X,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.content=i.first),e.iGM(i=e.CRH())&&(n.header=i.first),e.iGM(i=e.CRH())&&(n.footer=i.first)}},outputs:{dirChanged:"dirChanged",downloadClicked:"downloadClicked"},decls:10,vars:5,consts:[["fxLayout","column",1,"navigatorLayout"],[1,"navigatorHeader"],[3,"displayMode","displayModeChanged","directoryChanged"],["header",""],[1,"navigatorContent"],[3,"displayMode","take","folderDoubleClicked","downloadClicked"],["content",""],[1,"navigatorFooter"],[3,"length","pageSize","pageEventChanged"],["footer",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"app-file-manager-header",2,3),e.NdJ("displayModeChanged",function(r){return n.displayModeChanged(r)})("directoryChanged",function(r){return n.updateCurrentDir(r)}),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"app-file-manager-content",5,6),e.NdJ("folderDoubleClicked",function(r){return n.updateCurrentDir(null,r)})("downloadClicked",function(r){return n.onDownloadClicked(r)}),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"app-file-manager-footer",8,9),e.NdJ("pageEventChanged",function(r){return n.pageEventChanged(r)}),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("displayMode",n.displayMode),e.xp6(3),e.Q6J("displayMode",n.displayMode)("take",n.defaultPageSize),e.xp6(3),e.Q6J("length",n.currentDirData.length)("pageSize",n.defaultPageSize))},directives:[T.xw,u,q,B],styles:[".navigatorLayout[_ngcontent-%COMP%]{height:100%}.navigatorContent[_ngcontent-%COMP%]{height:100%}"]}),o})();const V=["fileManager"],$=[{path:"",component:(()=>{class o{constructor(t,n){this.tabsMS=t,this.logsMS=n,this.tableData=[],this.subscriptions=[],this.dataSource=[]}downloadClicked(t){this.logsMS.downloadLogs([t])}nodeClicked(){}fetchNewDirData(t){this.logsMS.requestLogs(t)}onDownloadClicked(t){this.logsMS.downloadLogs(t.map(n=>n.fullPath))}ngOnInit(){this.subscriptions.push()}ngAfterViewInit(){this.logsMS.logs.subscribe(t=>{var n;t&&this.fileManager&&(0,C.diff)(null===(n=this.fileManager)||void 0===n?void 0:n.data,t)&&(this.fileManager.data=(0,x.cloneDeep)(t))}),this.logsMS.requestLogs("")}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.logsMS.clearLogs()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.l),e.Y36(f.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-logs-tab"]],viewQuery:function(t,n){if(1&t&&e.Gf(V,5),2&t){let i;e.iGM(i=e.CRH())&&(n.fileManager=i.first)}},decls:5,vars:0,consts:[[1,"page-style",2,"overflow-y","auto","height","100%"],[1,"outer-div-padding"],[1,"page-components","unselectable","full-width-mobile",2,"height","100%","overflow","auto"],[3,"dirChanged","downloadClicked"],["fileManager",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"app-file-manager",3,4),e.NdJ("dirChanged",function(r){return n.fetchNewDirData(r)})("downloadClicked",function(r){return n.onDownloadClicked(r)}),e.qZA(),e.qZA(),e.qZA(),e.qZA())},directives:[K],styles:[""]}),o})()},{path:"**",redirectTo:""}];let W=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[v.Bz.forChild($)],v.Bz]}),o})();var ee=a(69904),te=a(27909),ne=a(60980),oe=a(65939),ie=a(2674),ae=a(84365),re=a(67736);let le=(()=>{class o{constructor(t,n){this.linkService=t,this.logsMiddlewareService=n,this.logsMiddlewareService.newRequest.subscribe(i=>{null!=i&&null!=i&&this.RequestLogs(i)})}RequestLogs(t){let n=(0,x.cloneDeep)(ae.p);n.data.directory=t,this.linkService.sendMessage(n)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(re.X),e.LFG(f.T))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var se=a(81647),de=a(23065),ce=a(38223);let ge=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[f.T,le,se.h],imports:[[g.ez,de.Aw.forFeature(ce.N)]]}),o})(),pe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.ez,W,ee.A,te.o9,M.ie,ne.G,l.LD,oe.Nh,ie.z,ge]]}),o})()}}]);