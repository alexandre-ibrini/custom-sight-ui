"use strict";(self.webpackChunkideal_app=self.webpackChunkideal_app||[]).push([[105],{5720:(N,T,r)=>{r.d(T,{B:()=>e});var n=r(7238);const e=(0,n.X$)("simpleFadeAnimation",[(0,n.SB)("in",(0,n.oB)({opacity:1})),(0,n.eR)(":enter",[(0,n.oB)({opacity:0}),(0,n.jt)(600)]),(0,n.eR)(":leave",(0,n.jt)(600,(0,n.oB)({opacity:0})))])},1356:(N,T,r)=>{r.d(T,{F:()=>Z});var n=r(5720),e=r(4699),u=r(7716),A=r(2558),y=r(6986),g=r(5618),M=r(8583),B=r(249);function E(h,x){if(1&h){const _=u.EpF();u.TgZ(0,"div",3),u.NdJ("click",function(){u.CHM(_);const D=u.oxw();return D.closeClicked(D.notificationBar.id)}),u._UZ(1,"i",4),u.qZA()}}const w=function(h){return[h]};let Z=(()=>{class h{constructor(_,P){this.notificationBarMiddleware=_,this.appShellService=P,this.notificationBar={closable:!1,id:"",content:"",timer:null,severity:-1},this.iconClass="bi-info",this.outerDivSeverityClass="outerDivInfo",this.severityEnum=e.l,this.isSideNavOpened=!1}setClassesFromSeverity(){switch(this.notificationBar.severity){case e.l.INFO:this.iconClass="bi-info-circle",this.outerDivSeverityClass="outerDivInfo";break;case e.l.WARNING:this.iconClass="bi-exclamation-circle",this.outerDivSeverityClass="outerDivWarning";break;case e.l.FATAL:this.iconClass="bi-x-circle fatal-icon",this.outerDivSeverityClass="outerDivFatal"}}closeClicked(_){this.notificationBarMiddleware.removeNotificationBar(_)}ngOnInit(){this.appShellService.sideNavOpenedStatus.subscribe(_=>{this.isSideNavOpened=_}),this.setClassesFromSeverity(),this.notificationBar.timer&&this.notificationBar.timer>0&&setTimeout(()=>this.notificationBarMiddleware.removeNotificationBar(this.notificationBar.id),this.notificationBar.timer)}}return h.\u0275fac=function(_){return new(_||h)(u.Y36(A.Y),u.Y36(y.c))},h.\u0275cmp=u.Xpm({type:h,selectors:[["app-notification-bar"]],inputs:{notificationBar:"notificationBar"},decls:6,vars:10,consts:[["fxLayout","row","fxLayoutAlign","space-between center",3,"ngClass"],["fxLayoutAlign","start center","fxLayoutGap","20px"],["style","cursor:pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"bi","bi-x"]],template:function(_,P){1&_&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._UZ(2,"i"),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.qZA(),u.YNc(5,E,2,0,"div",2),u.qZA()),2&_&&(u.Tol("notificationBarOuterDiv "+P.outerDivSeverityClass),u.Q6J("@simpleFadeAnimation","in")("ngClass",u.VKq(8,w,P.isSideNavOpened?"outerDivWidthOpened":"outerDivWidthClosed")),u.xp6(2),u.Tol("bi "+P.iconClass),u.xp6(2),u.Oqu(P.notificationBar.content),u.xp6(1),u.Q6J("ngIf",P.notificationBar.closable))},directives:[g.xw,g.Wh,M.mk,B.oO,g.SQ,M.O5],styles:[".notificationBarOuterDiv[_ngcontent-%COMP%]{background-color:#ededed;min-height:32px;padding:0 16px;position:sticky;z-index:100;color:#fff;width:100%}.fatal-icon[_ngcontent-%COMP%]{color:#fff}.warning-icon[_ngcontent-%COMP%]{color:#fff}.info-icon[_ngcontent-%COMP%]{color:#fff}.outerDivInfo[_ngcontent-%COMP%]{background-color:#e4ecf7!important;color:#000}.outerDivWarning[_ngcontent-%COMP%]{background-color:#ffba7d!important;color:#fff}.outerDivFatal[_ngcontent-%COMP%]{background-color:#ff7d7d!important;color:#fff}"],data:{animation:[n.B]}}),h})()},3398:(N,T,r)=>{r.d(T,{U:()=>L});var n=r(7716),e=r(3815),A=r(1295),y=r(8583),g=r(5618),M=r(8295),B=r(9983),E=r(3679),w=r(1095);function Z(m,C){if(1&m){const t=n.EpF();n.TgZ(0,"mat-form-field"),n.TgZ(1,"input",9),n.NdJ("ngModelChange",function(c){n.CHM(t);const d=n.oxw(2).$implicit;return n.oxw(2).ngModelChanged(d,c)}),n.qZA(),n.qZA()}if(2&m){const t=n.oxw(2).$implicit;n.xp6(1),n.Q6J("type",t.data.displayType)("placeholder",t.data.name)("ngModel",t.data.value)}}function h(m,C){if(1&m&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&m){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t.data.value)}}function x(m,C){if(1&m&&(n.TgZ(0,"div",7),n.YNc(1,Z,2,3,"mat-form-field",8),n.YNc(2,h,2,1,"span",8),n.qZA()),2&m){const t=n.oxw(3);n.xp6(1),n.Q6J("ngIf",t.areValuesEditable),n.xp6(1),n.Q6J("ngIf",!t.areValuesEditable)}}function _(m,C){if(1&m&&(n.TgZ(0,"div",5),n.TgZ(1,"span"),n._uU(2),n.qZA(),n.YNc(3,x,3,2,"div",6),n.qZA()),2&m){const t=C.$implicit;n.xp6(2),n.Oqu(t.data.name),n.xp6(1),n.Q6J("ngIf",null!==t.data.value&&(null==t.data||null==t.data.children?null:t.data.children.length)<=0)}}function P(m,C){if(1&m&&(n.TgZ(0,"div",2),n.TgZ(1,"tree-root",3),n.YNc(2,_,4,2,"ng-template",null,4,n.W1O),n.qZA(),n.qZA()),2&m){const t=n.oxw();n.xp6(1),n.Q6J("nodes",t.dataSource)("options",t.treeOptions)}}function D(m,C){if(1&m){const t=n.EpF();n.TgZ(0,"div",10),n.TgZ(1,"button",11),n.NdJ("click",function(){return n.CHM(t),n.oxw().submit()}),n._uU(2,"Submit"),n.qZA(),n.qZA()}}let L=(()=>{class m{constructor(){this.data=new n.IIB,this.areValuesEditable=new n.IIB,this.submitPressed=new n.vpe,this.dataSource=new Array,this.hasChild=(t,i)=>!!i.children&&i.children.length>0,this.treeOptions={animateExpand:!0,displayField:"name",allowDragoverStyling:!1,allowDrag:!1,allowDrop:!1,actionMapping:{mouse:{click:A.iM.TOGGLE_EXPANDED}}}}setData(t){this.data=t,this.dataSource=(0,e.cloneDeep)(t),this.changedValues=!1}ngModelChanged(t,i){t.data.value="number"===t.data.displayType?Number(i):i,this.onValueChange(t)}ngOnInit(){this.dataSource=(0,e.cloneDeep)(this.data)}onValueChange(t){this.changedValues||(this.changedValues={});let i=this.getNodePathsList(t),c=i[i.length-2].isArray,d=c?i[i.length-2].id:null,s=c?Number(i[i.length-1].name):null;this.setNestedKeys(this.changedValues,i,t.data.value,d,s)}setNestedKeys(t,i,c,d,s){d&&s>=0&&i.splice(i.length-1,1),i.forEach((l,p)=>{if(d&&s>=0)p===i.length-1?(t[l.name]||(t[l.name]=this.findArrayValues(d)),t[l.name][s]=c):t[l.name]||(t[l.name]=t[l.name]?t[l.name]:{});else if(p===i.length-1)t[l.name]=c||t[l.name];else if(t[l.name])t[l.name]=t[l.name];else if(l.isArray){t[l.name]=[];let a=this.getMidObjectArrayValues(l.id);t[l.name].push(...a),i[p+1]=Number(i[p+1])}else t[l.name]={};t=t[l.name]})}getMidObjectArrayValues(t){var i;let c=this.getCurrentObjectById(t),d=[];return null===(i=null==c?void 0:c.children)||void 0===i||i.forEach((s,l)=>{var p;d[l]={},null===(p=null==s?void 0:s.children)||void 0===p||p.forEach(a=>{this.getNestedKeysfromDataObject(a,d[l])})}),d}getNestedKeysfromDataObject(t,i){var c;if(t.isArray){let d=[];null===(c=null==t?void 0:t.children)||void 0===c||c.forEach((s,l)=>{var p;s.value?d[l]=s.value:(d[l]={},null===(p=null==s?void 0:s.children)||void 0===p||p.forEach(a=>{this.getNestedKeysfromDataObject(a,d[l])}))}),i||(i={}),i[t.name]=d}else i||(i={}),t.children?t.children.forEach((d,s)=>i[t.name]=this.getNestedKeysfromDataObject(d,i[t.name])):i[t.name]=t.value;return i}getCurrentObjectById(t){var i;let c=t.split("."),d=this.dataSource.find(l=>(null==l?void 0:l.id)===c[0]),s=1;for(;s<c.length;){let l=c.slice(0,s+1).join(".");d=null===(i=null==d?void 0:d.children)||void 0===i?void 0:i.find(p=>(null==p?void 0:p.id)===l),s++}return d}findArrayValues(t){var i;let c=this.getCurrentObjectById(t),d=[];return d=null===(i=null==c?void 0:c.children)||void 0===i?void 0:i.map(s=>null==s?void 0:s.value),d}getObjectNestedPathsList(t){var i,c;let d=[];return d.push([{id:t.id,name:t.name,isArray:t.isArray}]),(null===(i=null==t?void 0:t.children)||void 0===i?void 0:i.length)>0&&(null===(c=null==t?void 0:t.children)||void 0===c||c.forEach((s,l)=>{d.push(this.getObjectNestedPathsList(s))})),d}getNodePathsList(t){var i,c,d;let s=t,l=[];for(;s&&!s.data.virtual;){let p={id:null===(i=s.data)||void 0===i?void 0:i.id,name:null===(c=null==s?void 0:s.data)||void 0===c?void 0:c.name,isArray:null===(d=null==s?void 0:s.data)||void 0===d?void 0:d.isArray};l.splice(0,0,p),s=s.parent}return l}submit(){this.submitPressed.emit(this.changedValues)}reset(){this.dataSource=(0,e.cloneDeep)(this.data),this.changedValues={}}}return m.\u0275fac=function(t){return new(t||m)},m.\u0275cmp=n.Xpm({type:m,selectors:[["app-nested-tree"]],inputs:{data:"data",areValuesEditable:"areValuesEditable"},outputs:{submitPressed:"submitPressed"},decls:2,vars:2,consts:[["style","height:100%; overflow: auto;",4,"ngIf"],["class","submit-button-div","fxLayout","row","fxLayoutGap","16px",4,"ngIf"],[2,"height","100%","overflow","auto"],[1,"tree",3,"nodes","options"],["treeNodeTemplate",""],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","64px",2,"width","100%"],["fxLayoutGap","16px",4,"ngIf"],["fxLayoutGap","16px"],[4,"ngIf"],["matInput","",3,"type","placeholder","ngModel","ngModelChange"],["fxLayout","row","fxLayoutGap","16px",1,"submit-button-div"],["mat-flat-button","","color","accent",3,"click"]],template:function(t,i){1&t&&(n.YNc(0,P,4,2,"div",0),n.YNc(1,D,3,0,"div",1)),2&t&&(n.Q6J("ngIf",(null==i.dataSource?null:i.dataSource.length)>0),n.xp6(1),n.Q6J("ngIf",i.changedValues))},directives:[y.O5,A.qr,g.xw,g.Wh,g.SQ,M.KE,B.Nt,E.Fj,E.JJ,E.On,w.lW],styles:[".submit-button-div[_ngcontent-%COMP%]{position:fixed;bottom:5%;right:5%;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.tree[_ngcontent-%COMP%]  .node-content-wrapper-active, .node-content-wrapper.node-content-wrapper-active[_ngcontent-%COMP%]:hover, .node-content-wrapper-active.node-content-wrapper-focused[_ngcontent-%COMP%]{background:transparent!important}.tree[_ngcontent-%COMP%]  .node-content-wrapper-active, .node-content-wrapper-focused[_ngcontent-%COMP%], .node-content-wrapper[_ngcontent-%COMP%]:hover{box-shadow:none!important}.tree[_ngcontent-%COMP%]::ngdeep   .node-content-wrapper-focused[_ngcontent-%COMP%]{background:transparent!important}"]}),m})()},7105:(N,T,r)=>{r.r(T),r.d(T,{PersistentParametersModule:()=>p});var n=r(5987),e=r(7716),u=r(2558),A=r(5939),y=r(5618),g=r(8583),M=r(5418),B=r(1095),E=r(3398);const w=["tree"];function Z(a,f){if(1&a){const o=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"button",5),e.NdJ("click",function(){return e.CHM(o),e.oxw().reloadParams()}),e.TgZ(3,"div",6),e._UZ(4,"i",7),e.TgZ(5,"span",8),e._uU(6,"Reload Params"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"app-nested-tree",9,10),e.NdJ("submitPressed",function(O){return e.CHM(o),e.oxw().submitPressed(O)}),e.qZA(),e.qZA()}if(2&a){const o=e.oxw();e.xp6(7),e.Q6J("data",o.data)}}let h=(()=>{class a{constructor(o){this.middleware=o,this.subscriptions=[],this.data=[]}submitPressed(o){}ngOnInit(){this.subscriptions.push(this.middleware.PersistentParams.subscribe(o=>{var v;o&&(this.data=o,null===(v=this.tree)||void 0===v||v.setData(o))})),this.middleware.sendRequestPersistentParams()}reloadParams(){this.middleware.sendRequestPersistentParams()}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(M.G))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-parameters-tab"]],viewQuery:function(o,v){if(1&o&&e.Gf(w,5),2&o){let O;e.iGM(O=e.CRH())&&(v.tree=O.first)}},decls:3,vars:1,consts:[[1,"outer-div-padding"],["fxLayout","row wrap","fxLayoutGap.lt-md","7px","fxLayoutGap","16px",2,"height","100%"],["class","page-components unselectable full-width-mobile","style"," min-width: 260px; width: 100%; height:100%;",4,"ngIf"],[1,"page-components","unselectable","full-width-mobile",2,"min-width","260px","width","100%","height","100%"],["fxLayoutAlign","center center",1,"reloadButtonDiv"],["mat-flat-button","","color","accent",3,"click"],["fxLayoutAlign","center center","fxLayoutGap","8px"],["fxFlexAlign","end",1,"bi","bi-arrow-clockwise"],[2,"vertical-align","center"],[3,"data","submitPressed"],["tree",""]],template:function(o,v){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,Z,9,1,"div",2),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("ngIf",(null==v.data?null:v.data.length)>0))},directives:[y.xw,y.SQ,g.O5,y.Wh,B.lW,y.XD,E.U],styles:[".reloadButtonDiv[_ngcontent-%COMP%]{width:100;position:fixed;bottom:10%;right:5%;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;z-index:100}"]}),a})();var x=r(1356);function _(a,f){if(1&a&&(e.ynx(0),e._UZ(1,"app-notification-bar",6),e.BQk()),2&a){const o=f.$implicit;e.xp6(1),e.Q6J("notificationBar",o)}}const D=[{path:"",component:(()=>{class a{constructor(o){this.notificationBarMiddleware=o,this.notificationBars=[]}ngOnInit(){this.notificationBarMiddleware.notificationBars.subscribe(o=>{this.notificationBars=o})}}return a.\u0275fac=function(o){return new(o||a)(e.Y36(u.Y))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-persistent-parameters"]],decls:7,vars:1,consts:[[1,"page-style","persisten-params"],["color","primary","mat-align-tabs","start",2,"height","100%"],["label","Params"],["fxLayout","column",2,"width","100%"],[4,"ngFor","ngForOf"],[2,"overflow","auto"],[2,"width","100%",3,"notificationBar"]],template:function(o,v){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-tab-group",1),e.TgZ(2,"mat-tab",2),e.TgZ(3,"div",3),e.YNc(4,_,2,1,"ng-container",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"app-parameters-tab"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(4),e.Q6J("ngForOf",v.notificationBars))},directives:[A.SP,A.uX,y.xw,g.sg,h,x.F],styles:[""]}),a})(),data:{animation:"LandingPageAnimation"}},{path:"**",redirectTo:""}];let L=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[n.Bz.forChild(D)],n.Bz]}),a})();var m=r(9958);const C={type:"get_persistent_params",data:{}};var t=r(3065),i=r(7195);let c=(()=>{class a{constructor(o,v,O){this.store=o,this.websocket=v,this.middleware=O,O.requestPersistentParams.subscribe(I=>{I&&this.requestPersistentParams()})}requestPersistentParams(){this.websocket.sendMessage(C)}}return a.\u0275fac=function(o){return new(o||a)(e.LFG(t.yh),e.LFG(i.i),e.LFG(M.G))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var d=r(2986),s=r(1172);let l=(()=>{class a{constructor(o){this.persistentParamsApiService=o}}return a.\u0275fac=function(o){return new(o||a)(e.LFG(c))},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[M.G,c,s.T],imports:[[g.ez,t.Aw.forFeature(d.O)]]}),a})(),p=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[m.L,L,l]]}),a})()}}]);