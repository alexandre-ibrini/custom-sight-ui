"use strict";(self.webpackChunkideal_app=self.webpackChunkideal_app||[]).push([[938],{4938:(P,u,r)=>{r.r(u),r.d(u,{UsersModule:()=>B});var g=r(5987),m=r(9021),c=r(9860),b=r(5285),p=r(4286),v=r(5351),h=r(5063),n=r(7716),f=r(3065),C=r(5592),R=r(1530),M=r(1802);const D=["table"],N=[{path:"",component:(()=>{class o{constructor(a,e,l){this.store=a,this.editUserDialogService=e,this.jwtService=l,this.subscriptions=[],this.columns=[{id:"username",name:"Username",badge:{badgeCell:!0,badgeColorRule:t=>"#425466",badgeValueRule:t=>t,badgeBackgroundColorRule:t=>"transparent"}},{id:"firstName",name:"First Name",badge:{badgeCell:!0,badgeColorRule:t=>"#425466",badgeValueRule:t=>t,badgeBackgroundColorRule:t=>"transparent"}},{id:"lastName",name:"Last Name",badge:{badgeCell:!0,badgeColorRule:t=>"#425466",badgeValueRule:t=>t,badgeBackgroundColorRule:t=>"transparent"}},{id:"email",name:"Email",badge:{badgeCell:!0,badgeColorRule:t=>"#425466",badgeValueRule:t=>t,badgeBackgroundColorRule:t=>"transparent"}},{id:"address",name:"Address",badge:{badgeCell:!0,badgeColorRule:t=>"#425466",badgeValueRule:t=>t,badgeBackgroundColorRule:t=>"transparent"}},{id:"phoneNumber",name:"Phone Number",badge:{badgeCell:!0,badgeColorRule:t=>"#425466",badgeValueRule:t=>t,badgeBackgroundColorRule:t=>"transparent"}},{id:"dateCreated",name:"Date Created",badge:{badgeCell:!0,badgeColorRule:t=>"#425466",badgeValueRule:t=>t,badgeBackgroundColorRule:t=>"transparent"}},{id:"dateModified",name:"Date Modified",badge:{badgeCell:!0,badgeColorRule:t=>"#425466",badgeValueRule:t=>t,badgeBackgroundColorRule:t=>"transparent"}},{id:"role",name:"Role",badge:{badgeCell:!0,badgeColorRule:t=>"#425466",badgeValueRule:t=>t,badgeBackgroundColorRule:t=>"transparent"}},{id:"edit",name:"",button:!0},{id:"delete",name:"",button:!0}],this.buttonTriggers={edit:{buttonName:"Edit",trigger:t=>{let s=this.tableData.find(d=>d.id===t);this.editUserDialogService.openDialog(s,!0,d=>{this.store.dispatch((0,p.o)({updateUserByIdRequest:{id:d.id,email:d.email,firstName:d.firstName,lastName:d.lastName,phoneNumber:d.phoneNumber,address:d.address,role:d.role}}))})}},delete:{buttonName:"Delete",trigger:t=>{this.store.dispatch((0,c.a)({deleteUserRequest:t}))}}},this.tableData=[]}ngOnInit(){this.subscriptions.push(this.store.select(h.Rv).subscribe(a=>{a&&((a=a.filter(e=>parseInt(e.id)!==this.jwtService.getId())).forEach(e=>{let l=this.tableData.findIndex(t=>t.id===e.id);-1===l?this.tableData.push({id:e.id,username:null==e?void 0:e.username,firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,email:null==e?void 0:e.email,address:null==e?void 0:e.address,phoneNumber:null==e?void 0:e.phoneNumber,dateCreated:null==e?void 0:e.dateCreated.toLocaleDateString(),dateModified:null==e?void 0:e.dateModified.toLocaleDateString(),role:null==e?void 0:e.role,edit:!0}):this.tableData[l]=Object.assign(Object.assign({},e),{dateCreated:null==e?void 0:e.dateCreated.toLocaleDateString(),dateModified:null==e?void 0:e.dateModified.toLocaleDateString()})}),this.tableData.forEach((e,l)=>{-1===a.findIndex(s=>s.id===e.id)&&this.tableData.splice(l,1)}),this.table&&this.table.setTableData(this.tableData))}),this.store.select(v.PW).subscribe(a=>{this.store.dispatch((0,b.I)())})),this.store.dispatch((0,b.I)())}checkIfMobile(){return m.b.checkIfMobile()}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}}return o.\u0275fac=function(a){return new(a||o)(n.Y36(f.yh),n.Y36(C.i),n.Y36(R.T))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-users-page"]],viewQuery:function(a,e){if(1&a&&n.Gf(D,5),2&a){let l;n.iGM(l=n.CRH())&&(e.table=l.first)}},decls:4,vars:4,consts:[[1,"page-style","users-page",2,"overflow-y","auto","height","100%"],[1,"outer-div-padding"],["title","Users Table",3,"columns","ELEMENT_DATA","buttonTriggers","showAddUserButton"],["table",""]],template:function(a,e){1&a&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n._UZ(2,"app-data-table",2,3),n.qZA(),n.qZA()),2&a&&(n.xp6(2),n.Q6J("columns",e.columns)("ELEMENT_DATA",e.tableData)("buttonTriggers",e.buttonTriggers)("showAddUserButton",!0))},directives:[M.Q],styles:['.users-page[_ngcontent-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline-start, .users-page[_ngcontent-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline-end{background-color:#fff}.save-btn-mobile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.save-btn-mobile[_ngcontent-%COMP%]{margin:20px auto;padding:0!important}.dark-mode-mobile[_ngcontent-%COMP%]{padding:0!important}@keyframes spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #ffffff;border-top-color:#000;animation:spinner .8s linear infinite}']}),o})(),data:{animation:"LandingPageAnimation"}},{path:"**",redirectTo:""}];let U=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[g.Bz.forChild(N)],g.Bz]}),o})();var y=r(500);let B=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[y.L,U]]}),o})()}}]);