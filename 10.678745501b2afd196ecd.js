(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{e3zW:function(e,t,i){"use strict";i.r(t),i.d(t,"AccountModule",function(){return k});var n=i("ofXK"),a=i("tyNb"),o=i("3Pt+"),l=i("kv2i"),s=i("e/9a"),r=i("nr2S"),c=i("fXoL"),d=i("l7P3"),f=i("64jX"),u=i("XiUz"),m=i("kmnG"),b=i("znSr"),p=i("FuBT"),g=i("qFsG"),h=i("bTqV");function x(e,t){if(1&e&&c.Rb(0,"span",17),2&e){const e=c.ic(2);c.nc("innerHTML",e.username,c.xc)}}function v(e,t){if(1&e&&(c.Wb(0,"mat-form-field",18),c.Rb(1,"input",19),c.Vb()),2&e){const e=c.ic(2);c.Eb(1),c.nc("placeholder",e.username)}}function F(e,t){if(1&e&&c.Rb(0,"span",17),2&e){const e=c.ic().$implicit,t=c.ic(2);c.nc("innerHTML",t.accountForm.controls[e.fieldName].value,c.xc)}}function N(e,t){if(1&e&&(c.Wb(0,"mat-form-field",18),c.Rb(1,"input",21),c.Vb()),2&e){const e=c.ic().$implicit,t=c.ic(2);c.Eb(1),c.nc("placeholder",t.findPlaceholder(e.fieldName))("formControlName",e.fieldName)}}function V(e,t){if(1&e&&(c.Wb(0,"div",20),c.Wb(1,"mat-label",8),c.Ec(2),c.Vb(),c.Dc(3,F,1,1,"span",9),c.Dc(4,N,2,2,"mat-form-field",10),c.Vb()),2&e){const e=t.$implicit,i=c.ic(2);c.nc("fxFlex","address"===e.fieldName?100:50),c.Eb(2),c.Fc(e.displayName),c.Eb(1),c.nc("ngIf",!i.editingMode),c.Eb(1),c.nc("ngIf",i.editingMode)}}function y(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",22),c.Wb(1,"button",23),c.ec("click",function(){return c.wc(e),c.ic(2).saveChanges()}),c.Ec(2," Save Changes "),c.Vb(),c.Wb(3,"button",23),c.ec("click",function(){return c.wc(e),c.ic(2).cancelChanges()}),c.Ec(4," Cancel Changes "),c.Vb(),c.Vb()}if(2&e){const e=c.ic(2);c.Eb(1),c.Ib("spinner",e.isUpdating),c.nc("disabled",e.isUpdating),c.Eb(2),c.Ib("spinner",e.isUpdating),c.nc("disabled",e.isUpdating)}}function w(e,t){if(1&e){const e=c.Xb();c.Wb(0,"div",22),c.Wb(1,"button",24),c.ec("click",function(){return c.wc(e),c.ic(2).startEditing()}),c.Ec(2," Edit "),c.Vb(),c.Vb()}}const E=function(e){return{"save-btn-mobile":e}},M=function(e){return{"dark-mode-mobile":e}};function I(e,t){if(1&e&&(c.Wb(0,"div",6),c.Wb(1,"div",7),c.Wb(2,"mat-label",8),c.Ec(3,"Username"),c.Vb(),c.Dc(4,x,1,1,"span",9),c.Dc(5,v,2,1,"mat-form-field",10),c.Vb(),c.Dc(6,V,5,4,"div",11),c.Wb(7,"div",12),c.Dc(8,y,5,6,"div",13),c.Dc(9,w,3,0,"div",13),c.Vb(),c.Wb(10,"div",14),c.Wb(11,"div",15),c.Rb(12,"app-switch-tile",16),c.Vb(),c.Vb(),c.Vb()),2&e){const e=c.ic();c.Eb(4),c.nc("ngIf",!e.editingMode),c.Eb(1),c.nc("ngIf",e.editingMode),c.Eb(1),c.nc("ngForOf",e.formFields),c.Eb(1),c.nc("ngClass",c.pc(8,E,e.checkIfMobile())),c.Eb(1),c.nc("ngIf",e.editingMode),c.Eb(1),c.nc("ngIf",!e.editingMode),c.Eb(1),c.nc("ngClass",c.pc(10,M,e.checkIfMobile())),c.Eb(2),c.nc("disabled",!0)}}const C=[{path:"",component:(()=>{class e{constructor(e,t){this.store=e,this.jwtService=t,this.accountForm=new o.g({}),this.formFields=[{displayName:"First Name",fieldName:"firstName",placeholder:"placeholder",fieldState:"value 1",validators:null},{displayName:"Last name",fieldName:"lastName",placeholder:"placeholder last name",fieldState:"value",validators:null},{fieldName:"email",displayName:"Email",placeholder:"placeholder",fieldState:"value 1",validators:null},{displayName:"Phone Number",fieldName:"phoneNumber",placeholder:"placeholder last name",fieldState:"value",validators:null},{displayName:"Address",fieldName:"address",placeholder:"placeholder address",fieldState:"value address",validators:null}],this.subscriptions=[]}ngOnInit(){this.username=this.jwtService.getFullUsername(),this.subscriptions.push(this.store.select(r.a).subscribe(e=>{this.isUpdating=e,this.toggleEditMode(!1)})),this.isUpdating=!1,this.editingMode=!1,this.formFields.forEach(e=>{this.accountForm.addControl(e.fieldName,new o.e(e.fieldState,e.validators))}),this.setFormGroupValueFromUserModel(this.jwtService.getUserInfoModel())}saveChanges(){!0===this.editingMode&&this.store.dispatch(Object(s.a)({updateUserRequest:{email:this.getFieldValue("email"),firstName:this.getFieldValue("firstName"),lastName:this.getFieldValue("lastName"),phoneNumber:this.getFieldValue("phoneNumber"),address:this.getFieldValue("address")}}))}toggleEditMode(e){this.editingMode=e}startEditing(){this.toggleEditMode(!0),this.unsavedValues={email:this.getFieldValue("email"),firstName:this.getFieldValue("firstName"),lastName:this.getFieldValue("lastName"),phoneNumber:this.getFieldValue("phoneNumber"),address:this.getFieldValue("address")}}cancelChanges(){this.unsavedValues&&this.setFormGroupValueFromUserModel(this.unsavedValues),this.toggleEditMode(!1)}findPlaceholder(e){return this.formFields.find(t=>t.fieldName===e).placeholder}getFieldValue(e){var t,i;return null===(i=null===(t=this.accountForm)||void 0===t?void 0:t.controls[e])||void 0===i?void 0:i.value}setFormGroupValueFromUserModel(e){this.accountForm.patchValue({email:e.email,firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,address:e.address})}checkIfMobile(){return l.a.checkIfMobile()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(d.h),c.Qb(f.a))},e.\u0275cmp=c.Kb({type:e,selectors:[["app-account-page"]],decls:7,vars:2,consts:[[1,"page-style",2,"overflow-y","auto","height","100%"],["fxLayout","row","fxLayoutAlign","center center",1,"outer-div-padding"],["fxLayout","column","fxFlex","70"],[2,"width","100%",3,"formGroup"],[2,"font-size","18px","font-weight","700","margin-bottom","30px"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","row wrap"],["fxLayout","column","fxFlex.lt-sm","100","fxFlex","100",2,"padding-right","30px"],[2,"color","#425466","font-size","14px"],["style","margin-bottom: 25px;font-size: 13px",3,"innerHTML",4,"ngIf"],["style","font-size: 13px","fxFlex","","class","grey-input","appearance","outline","color","accent",4,"ngIf"],["fxLayout","column","fxFlex.lt-sm","100","style","padding-right: 30px",3,"fxFlex",4,"ngFor","ngForOf"],["fxFlex","100","fxLayout","row","fxLayoutAlign","end end",2,"padding","30px 30px 0 0",3,"ngClass"],["fxLayout","row","fxLayoutGap","20px",4,"ngIf"],["fxLayout","column","fxFlex.lt-sm","100","fxFlex","50",2,"padding-right","30px",3,"ngClass"],["fxFlex.sm","100",1,"page-components","card-max-360"],["title","Dark mode","slideText","Disabled",3,"disabled"],[2,"margin-bottom","25px","font-size","13px",3,"innerHTML"],["fxFlex","","appearance","outline","color","accent",1,"grey-input",2,"font-size","13px"],["matInput","","disabled","",3,"placeholder"],["fxLayout","column","fxFlex.lt-sm","100",2,"padding-right","30px",3,"fxFlex"],["matInput","",3,"placeholder","formControlName"],["fxLayout","row","fxLayoutGap","20px"],["mat-flat-button","","color","accent",2,"font-size","13px","font-weight","bold",3,"disabled","click"],["mat-flat-button","","color","accent",2,"font-size","13px","font-weight","bold",3,"click"]],template:function(e,t){1&e&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"div",2),c.Wb(3,"form",3),c.Wb(4,"div",4),c.Ec(5," Account Information "),c.Vb(),c.Dc(6,I,13,12,"div",5),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&e&&(c.Eb(3),c.nc("formGroup",t.accountForm),c.Eb(3),c.nc("ngIf",t.accountForm))},directives:[u.d,u.c,u.b,o.s,o.n,o.h,n.l,m.e,n.k,n.j,b.a,p.a,m.b,g.b,o.c,o.m,o.f,u.e,h.a],styles:['.save-btn-mobile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.save-btn-mobile[_ngcontent-%COMP%]{margin:20px auto}.dark-mode-mobile[_ngcontent-%COMP%], .save-btn-mobile[_ngcontent-%COMP%]{padding:0!important}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;animation:spinner .8s linear infinite}']}),e})()}];let L=(()=>{class e{}return e.\u0275mod=c.Ob({type:e}),e.\u0275inj=c.Nb({factory:function(t){return new(t||e)},imports:[[a.e.forChild(C)],a.e]}),e})();var W=i("+XFo");let k=(()=>{class e{}return e.\u0275mod=c.Ob({type:e}),e.\u0275inj=c.Nb({factory:function(t){return new(t||e)},imports:[[n.c,L,W.a,o.i,o.q]]}),e})()}}]);