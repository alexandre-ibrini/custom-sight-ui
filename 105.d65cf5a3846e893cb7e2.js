"use strict";(self.webpackChunkideal_app=self.webpackChunkideal_app||[]).push([[105],{5720:(I,M,s)=>{s.d(M,{B:()=>e});var n=s(7238);const e=(0,n.X$)("simpleFadeAnimation",[(0,n.SB)("in",(0,n.oB)({opacity:1})),(0,n.eR)(":enter",[(0,n.oB)({opacity:0}),(0,n.jt)(600)]),(0,n.eR)(":leave",(0,n.jt)(600,(0,n.oB)({opacity:0})))])},1356:(I,M,s)=>{s.d(M,{F:()=>N});var n=s(5720),e=s(4699),u=s(7716),A=s(2558),y=s(6986),g=s(5618),O=s(8583),w=s(249);function E(h,D){if(1&h){const v=u.EpF();u.TgZ(0,"div",3),u.NdJ("click",function(){u.CHM(v);const B=u.oxw();return B.closeClicked(B.notificationBar.id)}),u._UZ(1,"i",4),u.qZA()}}const Z=function(h){return[h]};let N=(()=>{class h{constructor(v,P){this.notificationBarMiddleware=v,this.appShellService=P,this.notificationBar={closable:!1,id:"",content:"",timer:null,severity:-1},this.iconClass="bi-info",this.outerDivSeverityClass="outerDivInfo",this.severityEnum=e.l,this.isSideNavOpened=!1}setClassesFromSeverity(){switch(this.notificationBar.severity){case e.l.INFO:this.iconClass="bi-info-circle",this.outerDivSeverityClass="outerDivInfo";break;case e.l.WARNING:this.iconClass="bi-exclamation-circle",this.outerDivSeverityClass="outerDivWarning";break;case e.l.FATAL:this.iconClass="bi-x-circle fatal-icon",this.outerDivSeverityClass="outerDivFatal"}}closeClicked(v){this.notificationBarMiddleware.removeNotificationBar(v)}ngOnInit(){this.appShellService.sideNavOpenedStatus.subscribe(v=>{this.isSideNavOpened=v}),this.setClassesFromSeverity(),this.notificationBar.timer&&this.notificationBar.timer>0&&setTimeout(()=>this.notificationBarMiddleware.removeNotificationBar(this.notificationBar.id),this.notificationBar.timer)}}return h.\u0275fac=function(v){return new(v||h)(u.Y36(A.Y),u.Y36(y.c))},h.\u0275cmp=u.Xpm({type:h,selectors:[["app-notification-bar"]],inputs:{notificationBar:"notificationBar"},decls:6,vars:10,consts:[["fxLayout","row","fxLayoutAlign","space-between center",3,"ngClass"],["fxLayoutAlign","start center","fxLayoutGap","20px"],["style","cursor:pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"bi","bi-x"]],template:function(v,P){1&v&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._UZ(2,"i"),u.TgZ(3,"span"),u._uU(4),u.qZA(),u.qZA(),u.YNc(5,E,2,0,"div",2),u.qZA()),2&v&&(u.Tol("notificationBarOuterDiv "+P.outerDivSeverityClass),u.Q6J("@simpleFadeAnimation","in")("ngClass",u.VKq(8,Z,P.isSideNavOpened?"outerDivWidthOpened":"outerDivWidthClosed")),u.xp6(2),u.Tol("bi "+P.iconClass),u.xp6(2),u.Oqu(P.notificationBar.content),u.xp6(1),u.Q6J("ngIf",P.notificationBar.closable))},directives:[g.xw,g.Wh,O.mk,w.oO,g.SQ,O.O5],styles:[".notificationBarOuterDiv[_ngcontent-%COMP%]{background-color:#ededed;min-height:32px;padding:0 16px;position:sticky;z-index:100;color:#fff;width:100%}.fatal-icon[_ngcontent-%COMP%]{color:#fff}.warning-icon[_ngcontent-%COMP%]{color:#fff}.info-icon[_ngcontent-%COMP%]{color:#fff}.outerDivInfo[_ngcontent-%COMP%]{background-color:#e4ecf7!important;color:#000}.outerDivWarning[_ngcontent-%COMP%]{background-color:#ffba7d!important;color:#fff}.outerDivFatal[_ngcontent-%COMP%]{background-color:#ff7d7d!important;color:#fff}"],data:{animation:[n.B]}}),h})()},3398:(I,M,s)=>{s.d(M,{U:()=>b});var n=s(7716),e=s(3815),A=s(1295),y=s(8583),g=s(5618),O=s(8295),w=s(9983),E=s(3679),Z=s(1095);function N(m,C){if(1&m){const t=n.EpF();n.TgZ(0,"mat-form-field"),n.TgZ(1,"input",9),n.NdJ("ngModelChange",function(c){n.CHM(t);const d=n.oxw(2).$implicit;return n.oxw(2).ngModelChanged(d,c)}),n.qZA(),n.qZA()}if(2&m){const t=n.oxw(2).$implicit;n.xp6(1),n.Q6J("type",t.data.displayType)("placeholder",t.data.name)("ngModel",t.data.value)}}function h(m,C){if(1&m&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&m){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t.data.value)}}function D(m,C){if(1&m&&(n.TgZ(0,"div",7),n.YNc(1,N,2,3,"mat-form-field",8),n.YNc(2,h,2,1,"span",8),n.qZA()),2&m){const t=n.oxw(3);n.xp6(1),n.Q6J("ngIf",t.areValuesEditable),n.xp6(1),n.Q6J("ngIf",!t.areValuesEditable)}}function v(m,C){if(1&m&&(n.TgZ(0,"div",5),n.TgZ(1,"span"),n._uU(2),n.qZA(),n.YNc(3,D,3,2,"div",6),n.qZA()),2&m){const t=C.$implicit;n.xp6(2),n.Oqu(t.data.name),n.xp6(1),n.Q6J("ngIf",null!==t.data.value&&(null==t.data||null==t.data.children?null:t.data.children.length)<=0)}}function P(m,C){if(1&m&&(n.TgZ(0,"div",2),n.TgZ(1,"tree-root",3),n.YNc(2,v,4,2,"ng-template",null,4,n.W1O),n.qZA(),n.qZA()),2&m){const t=n.oxw();n.xp6(1),n.Q6J("nodes",t.dataSource)("options",t.treeOptions)}}function B(m,C){if(1&m){const t=n.EpF();n.TgZ(0,"div",10),n.TgZ(1,"button",11),n.NdJ("click",function(){return n.CHM(t),n.oxw().submit()}),n._uU(2,"Submit"),n.qZA(),n.qZA()}}let b=(()=>{class m{constructor(){this.data=new n.IIB,this.areValuesEditable=new n.IIB,this.submitPressed=new n.vpe,this.dataSource=new Array,this.hasChild=(t,i)=>!!i.children&&i.children.length>0,this.treeOptions={animateExpand:!0,displayField:"name",allowDragoverStyling:!1,allowDrag:!1,allowDrop:!1,actionMapping:{mouse:{click:A.iM.TOGGLE_EXPANDED}}}}setData(t){this.data=t,this.dataSource=(0,e.cloneDeep)(t),this.changedValues=!1}ngModelChanged(t,i){t.data.value="number"===t.data.displayType?Number(i):i,this.onValueChange(t)}ngOnInit(){this.dataSource=(0,e.cloneDeep)(this.data)}onValueChange(t){this.changedValues||(this.changedValues={});let i=this.getNodePathsList(t),c=i[i.length-2].isArray,d=c?i[i.length-2].id:null,r=c?Number(i[i.length-1].name):null;this.setNestedKeys(this.changedValues,i,t.data.value,d,r)}setNestedKeys(t,i,c,d,r){d&&r>=0&&i.splice(i.length-1,1),i.forEach((l,p)=>{if(d&&r>=0)p===i.length-1?(t[l.name]||(t[l.name]=this.findArrayValues(d)),t[l.name][r]=c):t[l.name]||(t[l.name]=t[l.name]?t[l.name]:{});else if(p===i.length-1)t[l.name]=c||t[l.name];else if(t[l.name])t[l.name]=t[l.name];else if(l.isArray){t[l.name]=[];let x=this.getMidObjectArrayValues(l.id);t[l.name].push(...x),i[p+1]=Number(i[p+1])}else t[l.name]={};t=t[l.name]})}getMidObjectArrayValues(t){var i;let c=this.getCurrentObjectById(t),d=[];return null===(i=null==c?void 0:c.children)||void 0===i||i.forEach((r,l)=>{var p;d[l]={},null===(p=null==r?void 0:r.children)||void 0===p||p.forEach(x=>{this.getNestedKeysfromDataObject(x,d[l])})}),d}getNestedKeysfromDataObject(t,i){var c;if(t.isArray){let d=[];null===(c=null==t?void 0:t.children)||void 0===c||c.forEach((r,l)=>{var p;r.value?d[l]=r.value:(d[l]={},null===(p=null==r?void 0:r.children)||void 0===p||p.forEach(x=>{this.getNestedKeysfromDataObject(x,d[l])}))}),i||(i={}),i[t.name]=d}else i||(i={}),t.children?t.children.forEach((d,r)=>i[t.name]=this.getNestedKeysfromDataObject(d,i[t.name])):i[t.name]=t.value;return i}getCurrentObjectById(t){var i;let c=t.split("."),d=this.dataSource.find(l=>(null==l?void 0:l.id)===c[0]),r=1;for(;r<c.length;){let l=c.slice(0,r+1).join(".");d=null===(i=null==d?void 0:d.children)||void 0===i?void 0:i.find(p=>(null==p?void 0:p.id)===l),r++}return d}findArrayValues(t){var i;let c=this.getCurrentObjectById(t),d=[];return d=null===(i=null==c?void 0:c.children)||void 0===i?void 0:i.map(r=>null==r?void 0:r.value),d}getObjectNestedPathsList(t){var i,c;let d=[];return d.push([{id:t.id,name:t.name,isArray:t.isArray}]),(null===(i=null==t?void 0:t.children)||void 0===i?void 0:i.length)>0&&(null===(c=null==t?void 0:t.children)||void 0===c||c.forEach((r,l)=>{d.push(this.getObjectNestedPathsList(r))})),d}getNodePathsList(t){var i,c,d;let r=t,l=[];for(;r&&!r.data.virtual;){let p={id:null===(i=r.data)||void 0===i?void 0:i.id,name:null===(c=null==r?void 0:r.data)||void 0===c?void 0:c.name,isArray:null===(d=null==r?void 0:r.data)||void 0===d?void 0:d.isArray};l.splice(0,0,p),r=r.parent}return l}submit(){this.submitPressed.emit(this.changedValues)}reset(){this.dataSource=(0,e.cloneDeep)(this.data),this.changedValues={}}}return m.\u0275fac=function(t){return new(t||m)},m.\u0275cmp=n.Xpm({type:m,selectors:[["app-nested-tree"]],inputs:{data:"data",areValuesEditable:"areValuesEditable"},outputs:{submitPressed:"submitPressed"},decls:2,vars:2,consts:[["style","height:100%; overflow: auto;",4,"ngIf"],["class","submit-button-div","fxLayout","row","fxLayoutGap","16px",4,"ngIf"],[2,"height","100%","overflow","auto"],[1,"tree",3,"nodes","options"],["treeNodeTemplate",""],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","64px",2,"width","100%"],["fxLayoutGap","16px",4,"ngIf"],["fxLayoutGap","16px"],[4,"ngIf"],["matInput","",3,"type","placeholder","ngModel","ngModelChange"],["fxLayout","row","fxLayoutGap","16px",1,"submit-button-div"],["mat-flat-button","","color","accent",3,"click"]],template:function(t,i){1&t&&(n.YNc(0,P,4,2,"div",0),n.YNc(1,B,3,0,"div",1)),2&t&&(n.Q6J("ngIf",(null==i.dataSource?null:i.dataSource.length)>0),n.xp6(1),n.Q6J("ngIf",i.changedValues))},directives:[y.O5,A.qr,g.xw,g.Wh,g.SQ,O.KE,w.Nt,E.Fj,E.JJ,E.On,Z.lW],styles:[".submit-button-div[_ngcontent-%COMP%]{position:fixed;bottom:5%;right:5%;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content}.tree[_ngcontent-%COMP%]  .node-content-wrapper-active, .node-content-wrapper.node-content-wrapper-active[_ngcontent-%COMP%]:hover, .node-content-wrapper-active.node-content-wrapper-focused[_ngcontent-%COMP%]{background:transparent!important}.tree[_ngcontent-%COMP%]  .node-content-wrapper-active, .node-content-wrapper-focused[_ngcontent-%COMP%], .node-content-wrapper[_ngcontent-%COMP%]:hover{box-shadow:none!important}.tree[_ngcontent-%COMP%]::ngdeep   .node-content-wrapper-focused[_ngcontent-%COMP%]{background:transparent!important}"]}),m})()},7105:(I,M,s)=>{s.r(M),s.d(M,{PersistentParametersModule:()=>S});var n=s(5987),e=s(7716),u=s(2558),A=s(5939),y=s(5618),g=s(8583),O=s(5418),w=s(1095),E=s(3398);const Z=["tree"];function N(o,f){if(1&o){const a=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"button",5),e.NdJ("click",function(){return e.CHM(a),e.oxw().reloadParams()}),e.TgZ(3,"div",6),e._UZ(4,"i",7),e.TgZ(5,"span",8),e._uU(6,"Reload Params"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"app-nested-tree",9,10),e.NdJ("submitPressed",function(T){return e.CHM(a),e.oxw().submitPressed(T)}),e.qZA(),e.qZA()}if(2&o){const a=e.oxw();e.xp6(7),e.Q6J("data",a.data)}}let h=(()=>{class o{constructor(a){this.middleware=a,this.subscriptions=[],this.data=[]}submitPressed(a){this.middleware.sendSetPersistentParams(a)}ngOnInit(){this.subscriptions.push(this.middleware.PersistentParams.subscribe(a=>{var _;a&&(this.data=a,null===(_=this.tree)||void 0===_||_.setData(a))})),this.middleware.sendRequestPersistentParams()}reloadParams(){this.middleware.sendRequestPersistentParams()}ngOnDestroy(){this.subscriptions.forEach(a=>a.unsubscribe())}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(O.G))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-parameters-tab"]],viewQuery:function(a,_){if(1&a&&e.Gf(Z,5),2&a){let T;e.iGM(T=e.CRH())&&(_.tree=T.first)}},decls:3,vars:1,consts:[[1,"outer-div-padding"],["fxLayout","row wrap","fxLayoutGap.lt-md","7px","fxLayoutGap","16px",2,"height","100%"],["class","page-components unselectable full-width-mobile","style"," min-width: 260px; width: 100%; height:100%;",4,"ngIf"],[1,"page-components","unselectable","full-width-mobile",2,"min-width","260px","width","100%","height","100%"],["fxLayoutAlign","center center",1,"reloadButtonDiv"],["mat-flat-button","","color","accent",3,"click"],["fxLayoutAlign","center center","fxLayoutGap","8px"],["fxFlexAlign","end",1,"bi","bi-arrow-clockwise"],[2,"vertical-align","center"],[3,"data","submitPressed"],["tree",""]],template:function(a,_){1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,N,9,1,"div",2),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Q6J("ngIf",(null==_.data?null:_.data.length)>0))},directives:[y.xw,y.SQ,g.O5,y.Wh,w.lW,y.XD,E.U],styles:[".reloadButtonDiv[_ngcontent-%COMP%]{width:100;position:fixed;bottom:10%;right:5%;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;z-index:100}"]}),o})();var D=s(1356);function v(o,f){if(1&o&&(e.ynx(0),e._UZ(1,"app-notification-bar",6),e.BQk()),2&o){const a=f.$implicit;e.xp6(1),e.Q6J("notificationBar",a)}}const B=[{path:"",component:(()=>{class o{constructor(a){this.notificationBarMiddleware=a,this.notificationBars=[]}ngOnInit(){this.notificationBarMiddleware.notificationBars.subscribe(a=>{this.notificationBars=a})}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(u.Y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-persistent-parameters"]],decls:7,vars:1,consts:[[1,"page-style","persisten-params"],["color","primary","mat-align-tabs","start",2,"height","100%"],["label","Params"],["fxLayout","column",2,"width","100%"],[4,"ngFor","ngForOf"],[2,"overflow","auto"],[2,"width","100%",3,"notificationBar"]],template:function(a,_){1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-tab-group",1),e.TgZ(2,"mat-tab",2),e.TgZ(3,"div",3),e.YNc(4,v,2,1,"ng-container",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"app-parameters-tab"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(4),e.Q6J("ngForOf",_.notificationBars))},directives:[A.SP,A.uX,y.xw,g.sg,h,D.F],styles:[""]}),o})(),data:{animation:"LandingPageAnimation"}},{path:"**",redirectTo:""}];let b=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[n.Bz.forChild(B)],n.Bz]}),o})();var m=s(9958),C=s(3815);const t={type:"get_persistent_params",data:{}},i={type:"config",data:{config:{},request:"set"}};var c=s(3065),d=s(7195);let r=(()=>{class o{constructor(a,_,T){this.store=a,this.websocket=_,this.middleware=T,T.requestPersistentParams.subscribe(L=>{L&&this.requestPersistentParams()}),T.setPersistentParams.subscribe(L=>{L&&this.setPersistentParams(L)})}requestPersistentParams(){this.websocket.sendMessage(t)}setPersistentParams(a){let _=(0,C.cloneDeep)(i);_.data.config=a,this.websocket.sendMessage(_)}}return o.\u0275fac=function(a){return new(a||o)(e.LFG(c.yh),e.LFG(d.i),e.LFG(O.G))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var l=s(2986),p=s(1172);let x=(()=>{class o{constructor(a){this.persistentParamsApiService=a}}return o.\u0275fac=function(a){return new(a||o)(e.LFG(r))},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[O.G,r,p.T],imports:[[g.ez,c.Aw.forFeature(l.O)]]}),o})(),S=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.L,b,x]]}),o})()}}]);