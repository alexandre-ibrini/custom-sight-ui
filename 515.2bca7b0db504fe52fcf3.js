"use strict";(self.webpackChunkros_fe_poc=self.webpackChunkros_fe_poc||[]).push([[515],{56515:($t,C,l)=>{l.r(C),l.d(C,{UtilitiesTabModule:()=>Kt});var d=l(38583),y=l(95987);const N=[{name:"Dock to charging station",parameters:[]},{name:"Start charging manually",parameters:[]},{name:"Undock from charging station",parameters:[]},{name:"Dock to dolly",parameters:[]},{name:"Dock to turntable",parameters:[]},{name:"Go to location",parameters:[{name:"x [m]",type:"number"},{name:"y [m]",type:"number"},{name:"\u03b8 [deg]",type:"number"}]},{name:"Drive relative",parameters:[{name:"x [m]",type:"number"},{name:"y [m]",type:"number"},{name:"\u03b8 [deg]",type:"number"},{name:"Speed",type:"number"}]},{name:"Dolly lift --\x3e drop sequence",parameters:[{name:"Drive reverse distance",type:"text"}]},{name:"Reset state machine ",parameters:[]}];var u=l(3679),U=l(19083),g=l(6040),t=l(37716),c=l(23815);const V={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{charge:!0}}}}},P={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{charge_off:!0}}}}},R={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{lift:!0}}}}},I={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{drop:!0}}}}},B={type:"config",data:{request:"set",config:{"ideal_brain.wago_handler_subgraph.reset_trigger_generator":{reset_trigger_generator:{send_reset_trigger:!0}}}}},J={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{abort:!0}}}}},O={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{retry_mission:!0}}}}},Z={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{drive_relative_position:null}}}}},Q={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{drive_relative_speed:null}}}}},Y={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{drive_to_relative_pose:!0}}}}},x={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{_goto_position:null}}}}},G={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{_goto_hardcoded_pose:!0}}}}},z={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{dolly_lift_drop_sequence_count:null}}}}},E={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{straight_backward_distance:null}}}}},H={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{dolly_lift_drop:!0}}}}},j={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{_dock_to_charger_with_charge:!0}}}}},X={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{straight_backwards_charge_off:!0}}}}},K={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{dock_to_dolly:!0}}}}},W={type:"config",data:{request:"set",config:{ats_emulator:{ats_emulator:{dock_to_turn_table:!0}}}}};var r=l(23065);const A=(0,r.PH)("[Controls] Update Control",(0,r.Ky)()),tt={loading:!1,controls:{control:new Map}},et=(0,r.Lq)(tt,(0,r.on)(A,(i,n)=>{let e=n.key,o=n.value,a=(0,c.cloneDeep)(i);return a.controls.control[e]=o,a})),M=(0,r.Tz)({name:"controls",reducer:et}),it=(0,r.P1)(M.selectControls,i=>i);var ot=l(15257),nt=l(67736);let k=(()=>{class i{constructor(e,o){this.linkService=e,this.store=o}get control(){return this.store.select(it)}setControl(e,o){this.store.dispatch(A({key:e,value:o}))}sendStopChargingCommand(){let e=(0,c.cloneDeep)(P);this.linkService.sendMessage(e),this.setControl("charging_manually",!1)}sendRaiseLiftCommand(){let e=(0,c.cloneDeep)(R);this.linkService.sendMessage(e),this.setControl("lift",!0)}sendDropLiftCommand(){let e=(0,c.cloneDeep)(I);this.linkService.sendMessage(e),this.setControl("lift",!1)}sendResetTriggerCommand(){let e=(0,c.cloneDeep)(B);this.linkService.sendMessage(e),this.setControl("reset_trigger",!0)}sendAbortCockpitMissionCommand(){let e=(0,c.cloneDeep)(J);this.linkService.sendMessage(e),this.setControl("abort_cockpit_mission",!0)}sendDriveRelativeCommand(e,o,a){Z.data.config.ats_emulator.ats_emulator.drive_relative_position=[e,o,a];let s=(0,c.cloneDeep)(Z),p=(0,c.cloneDeep)(Q),Wt=(0,c.cloneDeep)(Y);setTimeout(()=>{this.linkService.sendMessage(s),setTimeout(()=>{this.linkService.sendMessage(p),setTimeout(()=>{this.linkService.sendMessage(Wt)},200)},200)},200),this.setControl("drive_relative",{translationX:e,translationY:o,rotationAngle:a})}sendGoToLocationCommand(e,o,a){x.data.config.ats_emulator.ats_emulator._goto_position=[e,o,a];let s=(0,c.cloneDeep)(x),p=(0,c.cloneDeep)(G);setTimeout(()=>{this.linkService.sendMessage(s),setTimeout(()=>{this.linkService.sendMessage(p)},200)},200),this.setControl("user_defined_location",{translationX:e,translationY:o,rotationAngle:a})}sendDollyLiftDropSequenceCommand(e,o){let a=(0,c.cloneDeep)(z);a.data.config.ats_emulator.ats_emulator.dolly_lift_drop_sequence_count=e;let s=(0,c.cloneDeep)(E);s.data.config.ats_emulator.ats_emulator.straight_backward_distance=o;let p=(0,c.cloneDeep)(H);setTimeout(()=>{this.linkService.sendMessage(a),setTimeout(()=>{this.linkService.sendMessage(s),setTimeout(()=>{this.linkService.sendMessage(p)},200)},200)},200),this.setControl("dolly_lift_drop_sequence",{repeatCount:e,distance:o})}updateStorePredefinedSteps(e,o){this.control.pipe((0,ot.q)(1)).subscribe(a=>{let s;s=a.control.send_predefined_steps?Object.assign({},a.control.send_predefined_steps):new Map,s[e]=o,this.setControl("send_predefined_steps",s)})}sendDockToChargerCommand(){let e=(0,c.cloneDeep)(j);this.linkService.sendMessage(e),this.updateStorePredefinedSteps("_dock_to_charger_with_charge",!0)}sendStartChargingCommand(){let e=(0,c.cloneDeep)(V);this.linkService.sendMessage(e),this.updateStorePredefinedSteps("charging_manually",!0)}sendUndockFromChargerCommand(){let e=(0,c.cloneDeep)(X);this.linkService.sendMessage(e),this.updateStorePredefinedSteps("dock_to_charger",!1)}sendDockToDollyCommand(){let e=(0,c.cloneDeep)(K);this.linkService.sendMessage(e),this.updateStorePredefinedSteps("dock_to_dolly",!0)}sendDockToTurntableCommand(){let e=(0,c.cloneDeep)(W);this.linkService.sendMessage(e),this.updateStorePredefinedSteps("dock_to_turntable",!0)}sendRetryMissionCommand(){let e=(0,c.cloneDeep)(O);this.linkService.sendMessage(e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(nt.X),t.LFG(r.yh))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var at=l(27276),st=l(44577);const L=(0,r.PH)("[VehicleState] Update VehicleState",(0,r.Ky)()),lt=(0,r.PH)("[VehicleState] Update LiftState",(0,r.Ky)()),q=(0,r.PH)("[VehicleState] Update ChargeState",(0,r.Ky)()),ut=(0,r.Lq)({loading:!1,vehicleState:null},(0,r.on)(L,(i,n)=>Object.assign(Object.assign({},i),{vehicleState:n.vehicleState})),(0,r.on)(lt,(i,n)=>{let e=(0,c.cloneDeep)(i);return e.vehicleState.isLoaded=n.liftState,e}),(0,r.on)(q,(i,n)=>{let e=(0,c.cloneDeep)(i);return e.vehicleState.isCharging=n.chargeState,e})),f=(0,r.Tz)({name:"vehicleState",reducer:ut}),dt=(0,r.P1)(f.selectVehicleState,i=>i),pt=(0,r.P1)(f.selectVehicleState,i=>null==i?void 0:i.isCharging),mt=(0,r.P1)(f.selectVehicleState,i=>null==i?void 0:i.isLoaded),ft=(0,r.P1)(f.selectVehicleState,i=>null==i?void 0:i.isBusy),gt=(0,r.P1)(f.selectVehicleState,i=>null==i?void 0:i.isPaused),ht=(0,r.P1)(f.selectVehicleState,i=>null==i?void 0:i.isShuttingDown),_t=(0,r.P1)(f.selectVehicleState,i=>null==i?void 0:i.hasError);var vt=l(93898),St=l(70992);let F=(()=>{class i{constructor(e,o,a){this.store=e,this.channelsMS=o,this.responseMS=a,this.responseMS.VehicleState.subscribe(s=>{s&&this.receiveVehicleState(s.v)}),this.responseMS.liftState.subscribe(s=>{this.receiveLiftState(s.v)}),this.responseMS.chargeState.subscribe(s=>{this.receiveChargeState(s.v)})}get VehicleState(){return this.store.select(dt)}get VehicleStateChargingStatus(){return this.store.select(pt)}get VehicleStateLoadedStatus(){return this.store.select(mt)}get VehicleStateBusyStatus(){return this.store.select(ft)}get VehicleStatePausedStatus(){return this.store.select(gt)}get VehicleStateShuttingDownStatus(){return this.store.select(ht)}get VehicleStateErrorStatus(){return this.store.select(_t)}toggle(e){this.channelsMS.toggleChannel("VehicleState",e)}toggleLiftState(e){this.channelsMS.toggleChannel("LiftState",e)}toggleChargeState(e){this.channelsMS.toggleChannel("ChargeState",e)}receiveLiftState(e){}receiveChargeState(e){this.store.dispatch(q({chargeState:e}))}receiveVehicleState(e){this.store.dispatch(L({vehicleState:e}))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(r.yh),t.LFG(vt.$),t.LFG(St.B))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var m=l(77093),h=l(23322),_=l(11436);const bt=function(i){return{"background-color":i}},Tt=function(i){return[i]};let Ct=(()=>{class i{constructor(){this.currentState=new t.IIB,this.subscriptions=[]}ngOnInit(){}getIconClassFromStatus(e,o){let a="bi ";switch(null==e?void 0:e.toLowerCase()){case"idle":a+="bi-clock-history";break;case"busy":"charge"===(null==o?void 0:o.toLowerCase())?a+="bi-lightning-charge-fill":a+="bi-wrench";break;case"failed":a+="bi-exclamation-lg";break;default:a+="bi-question-lg"}return a}getIconBgColorFromStatus(e){let o="#E4ECF7";switch(null==e?void 0:e.toLowerCase()){case"idle":o="#6e6af4";break;case"busy":o="#ffba7d";break;case"failed":o="#ff7d7d"}return o}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-current-state"]],inputs:{currentState:"currentState",title:"title"},decls:9,vars:9,consts:[["fxLayoutAlign","center center",1,"utilities-card",2,"min-width","280px","min-height","74px","overflow","auto"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlexFill",""],["fxLayout","column",2,"height","100%"],[2,"font-weight","600","font-size","12px","color","#718096"],[2,"font-weight","400","font-size","20px","color","#16192C"],["fxLayoutAlign","center center",2,"height","46px","width","46px","border-radius","50%",3,"ngStyle","matTooltip"],[1,"state-icon","bi",3,"ngClass"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.TgZ(5,"span",4),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t._UZ(8,"i",6),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Oqu(o.title),t.xp6(2),t.Oqu(o.currentState.state),t.xp6(1),t.Q6J("ngStyle",t.VKq(5,bt,o.getIconBgColorFromStatus(null==o.currentState?null:o.currentState.status)))("matTooltip",null==o.currentState||null==o.currentState.status?null:o.currentState.status.toUpperCase()),t.xp6(1),t.Q6J("ngClass",t.VKq(7,Tt,o.getIconClassFromStatus(null==o.currentState?null:o.currentState.status,null==o.currentState?null:o.currentState.state))))},directives:[m.Wh,m.xw,m.s9,d.PC,h.Zl,_.gM,d.mk,h.oO],styles:[".state-icon[_ngcontent-%COMP%]{height:100%;line-height:46px;color:#fff;font-size:22px}"]}),i})();var S=l(72458);function yt(i,n){1&i&&t._UZ(0,"i",4)}function Zt(i,n){1&i&&t._UZ(0,"i",5)}const xt=function(i){return{color:i}};let At=(()=>{class i{constructor(){this.actionTitle=new t.IIB,this.alert=!1}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-utilities-action"]],inputs:{actionTitle:"actionTitle",alert:"alert"},decls:5,vars:6,consts:[[1,"utilities-card",2,"min-width","298px"],[2,"font-size","14px","font-weight","bold","text-align","center","width","100%","display","block",3,"ngStyle"],["style","margin-right: 7px","class","bi bi-asterisk",4,"ngIf"],["style","margin-left: 7px","class","bi bi-chevron-right",4,"ngIf"],[1,"bi","bi-asterisk",2,"margin-right","7px"],[1,"bi","bi-chevron-right",2,"margin-left","7px"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"span",1),t.YNc(2,yt,1,0,"i",2),t._uU(3),t.YNc(4,Zt,1,0,"i",3),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngStyle",t.VKq(4,xt,o.alert?"#FF381D":"inherit")),t.xp6(1),t.Q6J("ngIf",o.alert),t.xp6(1),t.hij(" ",o.actionTitle," "),t.xp6(1),t.Q6J("ngIf",!o.alert))},directives:[d.PC,h.Zl,d.O5],styles:[""]}),i})();var b=l(51095),v=l(98295),T=l(49983),w=l(45396);function Mt(i,n){if(1&i&&(t.TgZ(0,"mat-form-field",9),t._UZ(1,"input",10),t.ALo(2,"transloco"),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Q6J("type",e.displayName)("placeholder",t.lcZ(2,5,e.placeholder))("formControlName",e.id)("min",o.getMinValue(e))("max",o.getMaxValue(e))}}function kt(i,n){if(1&i&&(t._UZ(0,"mat-slide-toggle",11),t.ALo(1,"transloco")),2&i){const e=t.oxw().$implicit;t.Q6J("formControlName",t.lcZ(1,2,e.fieldName))("disabled",!0)}}function Lt(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-label",6),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.YNc(4,Mt,3,7,"mat-form-field",7),t.YNc(5,kt,2,4,"mat-slide-toggle",8),t.BQk()),2&i){const e=n.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,e.fieldName)),t.xp6(2),t.Q6J("ngIf","number"===e.displayName),t.xp6(1),t.Q6J("ngIf","toggle"===e.displayName)}}let qt=(()=>{class i{constructor(){this.title=new t.IIB,this.description=new t.IIB,this.button=new t.IIB,this.form=new t.IIB,this.buttonTrigger=new t.vpe,this.formType=null}ngOnInit(){this.formGroup=new u.cw({}),this.form.forEach(e=>{if(this.formGroup.addControl(e.id,new u.NI(e.fieldState,e.validators)),!e.isNullable){let o=this.formGroup.get(e.id);o.valueChanges.subscribe(a=>{""===a&&o.setValue(e.valueWhenNull)})}})}getMaxValue(e){return"Linear Velocity (m/s)"===(null==e?void 0:e.fieldName)?1:null}getMinValue(e){let o=null;switch(null==e?void 0:e.id){case"Linear Velocity (m/s)":case"dollyLiftDropDistance":case"dollyLiftDropRepeatCount":o=0;break;default:o=null}return o}buttonPressed(){var e,o,a,s,p;this.formGroup.valid&&this.formType&&("driveRelative"===this.formType||"driveUser"===this.formType?this.buttonTrigger.emit({translationX:parseFloat(null===(e=this.formGroup.controls.translationX)||void 0===e?void 0:e.value),translationY:parseFloat(null===(o=this.formGroup.controls.translationY)||void 0===o?void 0:o.value),rotationAngle:parseFloat(null===(a=this.formGroup.controls.rotationAngle)||void 0===a?void 0:a.value)}):"liftDropSequence"===this.formType&&this.buttonTrigger.emit({distance:parseFloat(null===(s=this.formGroup.controls.distance)||void 0===s?void 0:s.value),repeatCount:parseFloat(null===(p=this.formGroup.controls.repeatCount)||void 0===p?void 0:p.value)}))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-utilities-form"]],inputs:{title:"title",description:"description",button:"button",form:"form",formType:"formType"},outputs:{buttonTrigger:"buttonTrigger"},features:[t._Bn([{provide:g.Hn,useValue:{scope:"modules/pages/system-panel/utilities",alias:"utilities"}}])],decls:9,vars:5,consts:[[1,"text-dark-grey","utilities-card","utilities-form",2,"max-width","280px","min-height","650px","position","relative"],[1,"component-title"],[1,"component-description"],["fxLayout","column",2,"width","100%","margin-top","27px",3,"formGroup"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",2,"width","140px","height","45px","margin","auto","border-radius","8px","font-weight","700","margin-top","15px","position","absolute","align-self","center","bottom","30px",3,"click"],[2,"font-size","14px"],["style","font-size: 13px; font-weight: 500;","appearance","outline","color","accent",4,"ngIf"],[3,"formControlName","disabled",4,"ngIf"],["appearance","outline","color","accent",2,"font-size","13px","font-weight","500"],["matInput","",3,"type","placeholder","formControlName","min","max"],[3,"formControlName","disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"span",1),t._uU(2),t.qZA(),t.TgZ(3,"span",2),t._uU(4),t.qZA(),t.TgZ(5,"form",3),t.YNc(6,Lt,6,5,"ng-container",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return o.buttonPressed()}),t._uU(8),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(o.title),t.xp6(2),t.hij(" ",o.description," "),t.xp6(1),t.Q6J("formGroup",o.formGroup),t.xp6(1),t.Q6J("ngForOf",o.form),t.xp6(2),t.hij(" ",o.button," "))},directives:[u._Y,u.JL,m.xw,u.sg,d.sg,b.lW,v.hX,d.O5,v.KE,T.Nt,u.Fj,u.JJ,u.u,w.Rr],pipes:[g.Ot],styles:[".utilities-form[_ngcontent-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-infix{padding:6.5px 0}"]}),i})();var Ft=l(94985),D=l(1769);function wt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"button",11),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().emitButtonTrigger(a)}),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.qZA()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"utilities.forms.manualActions.send")))}function Dt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",12),t.TgZ(1,"mat-form-field",13),t.TgZ(2,"input",14),t.NdJ("ngModelChange",function(a){return t.CHM(e),t.oxw().$implicit.input=a}),t.qZA(),t.qZA(),t.TgZ(3,"div"),t.TgZ(4,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().emitButtonTrigger(a)}),t._uU(5),t.ALo(6,"transloco"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("placeholder",e.inputPlaceholder)("ngModel",e.input),t.xp6(2),t.Q6J("disabled",e.disabled),t.xp6(1),t.Oqu(t.lcZ(6,4,"utilities.forms.manualActions.send"))}}const Nt=function(i){return{width:i}};function Ut(i,n){if(1&i&&(t.ynx(0),t._UZ(1,"mat-divider",4),t.TgZ(2,"div",5),t.ALo(3,"transloco"),t.TgZ(4,"div",6),t.TgZ(5,"span",7),t._uU(6),t.ALo(7,"transloco"),t.qZA(),t.TgZ(8,"span",8),t._uU(9),t.ALo(10,"transloco"),t.qZA(),t.qZA(),t.YNc(11,wt,4,3,"div",9),t.qZA(),t.YNc(12,Dt,7,6,"div",10),t.BQk()),2&i){const e=n.$implicit,o=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(12,Nt,o.checkIfMobile()?"280px":"390px"))("matTooltip",t.lcZ(3,6,e.tooltip)),t.xp6(4),t.Oqu(t.lcZ(7,8,e.name)),t.xp6(3),t.Oqu(t.lcZ(10,10,e.description)),t.xp6(2),t.Q6J("ngIf",!e.inputPlaceholder),t.xp6(1),t.Q6J("ngIf",e.inputPlaceholder)}}let Vt=(()=>{class i{constructor(){this.actions=new t.IIB,this.buttonTrigger=new t.vpe}ngOnInit(){}checkIfMobile(){return Ft.b.checkIfMobile()}emitButtonTrigger(e){this.buttonTrigger.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-manual-actions"]],inputs:{actions:"actions",title:"title",description:"description"},outputs:{buttonTrigger:"buttonTrigger"},decls:6,vars:3,consts:[[1,"manual-actions",2,"max-width","440px","min-height","650px"],[1,"component-title"],[1,"component-description"],[4,"ngFor","ngForOf"],[2,"margin","20px 0"],["fxLayout","row","fxLayoutAlign","space-between center",1,"manual-action-row",2,"margin-bottom","20px",3,"ngStyle","matTooltip"],["fxLayout","column"],[2,"font-size","14px"],[1,"text-dark-grey",2,"font-size","14px"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end",4,"ngIf"],["mat-flat-button","","color","accent",3,"click"],["fxLayout","row","fxLayoutAlign","end"],["appearance","outline","color","accent",1,"grey-input","manual-action-input",2,"font-size","13px","font-weight","500","width","150px"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["mat-flat-button","","color","accent",2,"margin-top","calc(.25em - 1px)","margin-left","12px",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"span",1),t._uU(2),t.qZA(),t.TgZ(3,"span",2),t._uU(4),t.qZA(),t.YNc(5,Ut,13,14,"ng-container",3),t.qZA()),2&e&&(t.xp6(2),t.Oqu(o.title),t.xp6(2),t.hij(" ",o.description," "),t.xp6(1),t.Q6J("ngForOf",o.actions))},directives:[d.sg,D.d,m.xw,m.Wh,d.PC,h.Zl,_.gM,d.O5,b.lW,v.KE,T.Nt,u.Fj,u.JJ,u.On],pipes:[g.Ot],styles:[".manual-actions[_ngcontent-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-infix{padding:6.5px 0}.manual-actions[_ngcontent-%COMP%]  .mat-form-field-appearance-outline.grey-input .mat-form-field-outline{background:#EDF2F7;border-radius:5px;box-shadow:none}.manual-actions[_ngcontent-%COMP%]  .mat-form-field-appearance-outline.grey-input .mat-form-field-outline-end, .manual-actions[_ngcontent-%COMP%]  .mat-form-field-appearance-outline.grey-input .mat-form-field-outline-start{border:none!important}.manual-actions[_ngcontent-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline{border-radius:5px;box-shadow:0 1px 2px #32324714,0 0 1px #32324733}.manual-actions[_ngcontent-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline-end, .manual-actions[_ngcontent-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline-start{border-color:#32324714!important}@media screen and (max-width: 320px){.manual-action-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:218px!important}.manual-action-input[_ngcontent-%COMP%]{width:134px!important}}"]}),i})();function Pt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"app-utilities-action",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().dropLiftButtonPressed()}),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA(),t.qZA()}2&i&&(t.xp6(1),t.Q6J("actionTitle",t.lcZ(2,2,"utilities.actions.dropLift.title"))("matTooltip",t.lcZ(3,4,"utilities.actions.dropLift.tooltip")))}function Rt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"app-utilities-action",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().raiseLiftButtonPressed()}),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.ekj("disabled",e.isBrainBusy()),t.xp6(1),t.Q6J("actionTitle",t.lcZ(2,4,"utilities.actions.raiseLift.title"))("matTooltip",t.lcZ(3,6,"utilities.actions.raiseLift.tooltip"))}}function It(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"app-utilities-action",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().stopChargingButtonPressed()}),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA(),t.qZA()}2&i&&(t.xp6(1),t.Q6J("actionTitle",t.lcZ(2,2,"utilities.actions.stopCharging.title"))("matTooltip",t.lcZ(3,4,"utilities.actions.stopCharging.tooltip")))}function Bt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"app-utilities-action",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().startChargingButtonPressed()}),t.ALo(2,"transloco"),t.ALo(3,"transloco"),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.ekj("disabled",e.isBrainBusy()),t.xp6(1),t.Q6J("actionTitle",t.lcZ(2,4,"utilities.actions.startCharging.title"))("matTooltip",t.lcZ(3,6,"utilities.actions.startCharging.tooltip"))}}const Jt=[{path:"",component:(()=>{class i{constructor(e,o,a,s,p){this.controlsMS=e,this.snackbar=o,this.brainMS=a,this.vehicleStateMS=s,this.translocoService=p,this.liftValue=!1,this.dropValue=!0,this.chargeOffValue=!0,this.chargeValue=!1,this.isMissionFailed=!1,this.subscriptions=[],this.driveForm=[{id:"translationX",displayName:"number",fieldName:"utilities.forms.driveForm.fields.field1.fieldName",placeholder:"utilities.forms.driveForm.fields.field1.placeholder",fieldState:"1",validators:null,isNullable:!1,valueWhenNull:0},{id:"translationY",displayName:"number",fieldName:"utilities.forms.driveForm.fields.field2.fieldName",placeholder:"utilities.forms.driveForm.fields.field1.placeholder",fieldState:"0",validators:null,isNullable:!1,valueWhenNull:0},{id:"rotationAngle",displayName:"number",fieldName:"utilities.forms.driveForm.fields.field3.fieldName",placeholder:"utilities.forms.driveForm.fields.field1.placeholder",fieldState:"0",validators:null,isNullable:!1,valueWhenNull:0}],this.userForm=[{id:"translationX",displayName:"number",fieldName:"utilities.forms.userForm.fields.field1.fieldName",placeholder:"utilities.forms.userForm.fields.field1.placeholder",fieldState:"1",validators:null,isNullable:!1,valueWhenNull:0},{id:"translationY",displayName:"number",fieldName:"utilities.forms.userForm.fields.field2.fieldName",placeholder:"utilities.forms.userForm.fields.field2.placeholder",fieldState:"0",validators:null,isNullable:!1,valueWhenNull:0},{id:"rotationAngle",displayName:"number",fieldName:"utilities.forms.userForm.fields.field3.fieldName",placeholder:"utilities.forms.userForm.fields.field3.placeholder",fieldState:"0",validators:null,isNullable:!1,valueWhenNull:0}],this.dollyLiftDropSequenceForm=[{id:"distance",displayName:"number",fieldName:"utilities.forms.dollyLiftDropForm.fields.field1.fieldName",placeholder:"utilities.forms.dollyLiftDropForm.fields.field1.placeholder",fieldState:"2.4",validators:[u.kI.required,u.kI.min(0)]},{id:"repeatCount",displayName:"number",fieldName:"utilities.forms.dollyLiftDropForm.fields.field2.fieldName",placeholder:"utilities.forms.dollyLiftDropForm.fields.field2.placeholder",fieldState:"1",validators:[u.kI.required,u.kI.min(0)]}],this.manualActions=[{id:"dockToCharge",name:"utilities.forms.manualActions.actions.action1.name",description:"",tooltip:"utilities.forms.manualActions.actions.action1.tooltip"},{id:"startChargingManually",name:"utilities.forms.manualActions.actions.action2.name",description:"",tooltip:"utilities.forms.manualActions.actions.action2.tooltip"},{id:"undockFromCharge",name:"utilities.forms.manualActions.actions.action3.name",description:"",tooltip:"utilities.forms.manualActions.actions.action3.tooltip"},{id:"dockToDolly",name:"utilities.forms.manualActions.actions.action4.name",description:"",tooltip:"utilities.forms.manualActions.actions.action4.tooltip"},{id:"dockToTurntable",name:"utilities.forms.manualActions.actions.action5.name",description:"",tooltip:"utilities.forms.manualActions.actions.action5.tooltip"}],this.commands=N}displayMissionSentSuccessfullySnackbar(){this.translocoService.selectTranslate("snackBar.missionSuccess",{},"modules/pages/safety").subscribe(e=>{this.snackbar.openSnackBar(e,null,{verticalPosition:"top",horizontalPosition:"right"})})}driveRelativeButtonTrigger(e){this.controlsMS.sendDriveRelativeCommand(e.translationX,e.translationY,e.rotationAngle),this.displayMissionSentSuccessfullySnackbar()}goToLocationButtonTrigger(e){this.controlsMS.sendGoToLocationCommand(e.translationX,e.translationY,e.rotationAngle),this.displayMissionSentSuccessfullySnackbar()}dollyLiftDropSequenceRelativeButtonTrigger(e){this.controlsMS.sendDollyLiftDropSequenceCommand(e.repeatCount,e.distance),this.displayMissionSentSuccessfullySnackbar()}sendAction(e){switch(e.id){case"dockToCharge":this.controlsMS.sendDockToChargerCommand();break;case"startChargingManually":this.controlsMS.sendStartChargingCommand();break;case"undockFromCharge":this.controlsMS.sendUndockFromChargerCommand();break;case"dockToDolly":this.controlsMS.sendDockToDollyCommand();break;case"dockToTurntable":this.controlsMS.sendDockToTurntableCommand()}}retryMissionButtonPressed(){this.controlsMS.sendRetryMissionCommand()}raiseLiftButtonPressed(){this.controlsMS.sendRaiseLiftCommand()}dropLiftButtonPressed(){this.controlsMS.sendDropLiftCommand()}startChargingButtonPressed(){this.controlsMS.sendStartChargingCommand()}stopChargingButtonPressed(){this.controlsMS.sendStopChargingCommand()}abortMissionButtonPressed(){this.controlsMS.sendAbortCockpitMissionCommand()}acknowledgeErrorButtonPressed(){this.controlsMS.sendResetTriggerCommand()}isBrainBusy(){var e,o;return"busy"===(null===(o=null===(e=this.currentState)||void 0===e?void 0:e.status)||void 0===o?void 0:o.toLowerCase())}ngOnInit(){this.subscriptions.push(this.vehicleStateMS.VehicleStateChargingStatus.subscribe(e=>{null!=e&&void 0!==e&&this.chargeOffValue!==!e&&this.chargeValue!=e&&(this.chargeOffValue=!e,this.chargeValue=e)}),this.vehicleStateMS.VehicleStateLoadedStatus.subscribe(e=>{null!=e&&void 0!==e&&this.dropValue!==!e&&this.liftValue!=e&&(this.dropValue=!e,this.liftValue=e)}),this.brainMS.brain.subscribe(e=>{var o;e&&(0,U.diff)(this.currentState,e)&&(this.currentState=e);let a="failed"===(null===(o=null==e?void 0:e.status)||void 0===o?void 0:o.toLowerCase());a!==this.isMissionFailed&&(this.isMissionFailed=a)})),this.vehicleStateMS.toggle(!0),this.brainMS.toggleBrain(!0)}ngOnDestroy(){this.brainMS.toggleBrain(!1),this.vehicleStateMS.toggle(!1),this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(k),t.Y36(at.o),t.Y36(st.C),t.Y36(F),t.Y36(g.Vn))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-utilities-tab"]],features:[t._Bn([{provide:g.Hn,useValue:{scope:"modules/pages/system-panel/utilities",alias:"utilities"}}])],decls:49,vars:79,consts:[[1,"outer-div-padding","utilities-tab",2,"margin-bottom","40px"],["fxLayout","column","fxLayoutGap","26px"],["fxLayout","row wrap","fxFlex","30","fxLayoutGap.gt-sm","30px"],[1,"full-width-mobile"],[1,"page-components","unselectable"],[3,"title","currentState","matTooltip"],["fxLayout","column",1,"full-width-mobile"],["class","page-components action-button unselectable ","matRipple","",4,"ngIf"],["class","page-components action-button unselectable ","matRipple","",3,"disabled",4,"ngIf"],["class","page-components action-button unselectable ",4,"ngIf"],["class","page-components action-button unselectable","matRipple","",3,"disabled",4,"ngIf"],["matRipple","",1,"page-components","action-button","unselectable"],[3,"alert","actionTitle","matTooltip","click"],[3,"actionTitle","matTooltip","click"],["fxLayout","row wrap","fxFlex","70","fxLayoutGap.gt-sm","30px"],[1,"page-components","unselectable","full-width-mobile"],[3,"form","title","description","button","formType","matTooltip","buttonTrigger"],[3,"form","title","description","button","formType","buttonTrigger"],[3,"title","description","actions","buttonTrigger"],[1,"page-components","action-button","unselectable"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"app-current-state",5),t.ALo(6,"transloco"),t.ALo(7,"transloco"),t.qZA(),t.qZA(),t.TgZ(8,"div",6),t.YNc(9,Pt,4,6,"div",7),t.YNc(10,Rt,4,8,"div",8),t.YNc(11,It,4,6,"div",9),t.YNc(12,Bt,4,8,"div",10),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"div",11),t.TgZ(15,"app-utilities-action",12),t.NdJ("click",function(){return o.acknowledgeErrorButtonPressed()}),t.ALo(16,"transloco"),t.ALo(17,"transloco"),t.qZA(),t.qZA(),t.TgZ(18,"div",11),t.TgZ(19,"app-utilities-action",12),t.NdJ("click",function(){return o.abortMissionButtonPressed()}),t.ALo(20,"transloco"),t.ALo(21,"transloco"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",6),t.TgZ(23,"div",11),t.TgZ(24,"app-utilities-action",13),t.NdJ("click",function(){return o.retryMissionButtonPressed()}),t.ALo(25,"transloco"),t.ALo(26,"transloco"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",14),t.TgZ(28,"div",15),t.TgZ(29,"app-utilities-form",16),t.NdJ("buttonTrigger",function(s){return o.driveRelativeButtonTrigger(s)}),t.ALo(30,"transloco"),t.ALo(31,"transloco"),t.ALo(32,"transloco"),t.ALo(33,"transloco"),t.qZA(),t.qZA(),t.TgZ(34,"div",15),t.TgZ(35,"app-utilities-form",16),t.NdJ("buttonTrigger",function(s){return o.goToLocationButtonTrigger(s)}),t.ALo(36,"transloco"),t.ALo(37,"transloco"),t.ALo(38,"transloco"),t.ALo(39,"transloco"),t.qZA(),t.qZA(),t.TgZ(40,"div",15),t.TgZ(41,"app-utilities-form",17),t.NdJ("buttonTrigger",function(s){return o.dollyLiftDropSequenceRelativeButtonTrigger(s)}),t.ALo(42,"transloco"),t.ALo(43,"transloco"),t.ALo(44,"transloco"),t.qZA(),t.qZA(),t.TgZ(45,"div",15),t.TgZ(46,"app-manual-actions",18),t.NdJ("buttonTrigger",function(s){return o.sendAction(s)}),t.ALo(47,"transloco"),t.ALo(48,"transloco"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Q6J("title",t.lcZ(6,37,"utilities.state.title"))("currentState",o.currentState)("matTooltip",t.lcZ(7,39,"utilities.state.tooltip")),t.xp6(4),t.Q6J("ngIf",o.liftValue),t.xp6(1),t.Q6J("ngIf",o.dropValue),t.xp6(1),t.Q6J("ngIf",o.chargeValue),t.xp6(1),t.Q6J("ngIf",o.chargeOffValue),t.xp6(3),t.Q6J("alert",!0)("actionTitle",t.lcZ(16,41,"utilities.actions.acknowledgeError.title"))("matTooltip",t.lcZ(17,43,"utilities.actions.acknowledgeError.tooltip")),t.xp6(4),t.Q6J("alert",!0)("actionTitle",t.lcZ(20,45,"utilities.actions.abortMission.title"))("matTooltip",t.lcZ(21,47,"utilities.actions.abortMission.tooltip")),t.xp6(4),t.ekj("disabled",!o.isMissionFailed),t.xp6(1),t.Q6J("actionTitle",t.lcZ(25,49,"utilities.actions.retryMission.title"))("matTooltip",t.lcZ(26,51,"utilities.actions.retryMission.tooltip")),t.xp6(5),t.s9C("title",t.lcZ(30,53,"utilities.forms.driveForm.title")),t.s9C("description",t.lcZ(31,55,"utilities.forms.driveForm.description")),t.s9C("button",t.lcZ(32,57,"utilities.forms.driveForm.button")),t.Q6J("form",o.driveForm)("formType","driveRelative")("matTooltip",t.lcZ(33,59,"utilities.forms.driveForm.tooltip")),t.xp6(6),t.s9C("title",t.lcZ(36,61,"utilities.forms.userForm.title")),t.s9C("description",t.lcZ(37,63,"utilities.forms.userForm.description")),t.s9C("button",t.lcZ(38,65,"utilities.forms.userForm.button")),t.Q6J("form",o.userForm)("formType","driveUser")("matTooltip",t.lcZ(39,67,"utilities.forms.userForm.tooltip")),t.xp6(6),t.s9C("title",t.lcZ(42,69,"utilities.forms.dollyLiftDropForm.title")),t.s9C("description",t.lcZ(43,71,"utilities.forms.dollyLiftDropForm.description")),t.s9C("button",t.lcZ(44,73,"utilities.forms.dollyLiftDropForm.button")),t.Q6J("form",o.dollyLiftDropSequenceForm)("formType","liftDropSequence"),t.xp6(5),t.s9C("title",t.lcZ(47,75,"utilities.forms.manualActions.title")),t.s9C("description",t.lcZ(48,77,"utilities.forms.manualActions.description")),t.Q6J("actions",o.manualActions))},directives:[m.xw,m.SQ,m.yH,Ct,_.gM,d.O5,S.wG,At,qt,Vt],pipes:[g.Ot],styles:[".utilities-tab[_ngcontent-%COMP%]  .mat-focused .mat-form-field-label{color:#000!important}.utilities-tab[_ngcontent-%COMP%]  .mat-form-field-underline{background-color:gray!important}.utilities-tab[_ngcontent-%COMP%]  .mat-form-field-ripple{background-color:#000!important}.utilities-tab[_ngcontent-%COMP%]  .mat-form-field-label{color:gray!important}.min-height[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;padding:15px}.action-button.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;cursor:not-allowed}"]}),i})()},{path:"**",redirectTo:""}];let Ot=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[y.Bz.forChild(Jt)],y.Bz]}),i})();var Qt=l(27909),Yt=l(69904),Gt=l(51276);let zt=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[F],imports:[[d.ez,r.Aw.forFeature(f)]]}),i})(),Et=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ht=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),jt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[Et,Ht,k],imports:[[d.ez,r.Aw.forFeature(M)]]}),i})();const Xt={disabled:!1,animation:{enterDuration:1e3,exitDuration:0}};let Kt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[{provide:S.Y2,useValue:Xt}],imports:[[d.ez,Ot,Qt.o9,u.UX,u.u5,v.lN,T.c,Yt.A,D.t,_.AV,w.rP,S.si,Gt.E,zt,b.ot,jt,g.y4]]}),i})()}}]);