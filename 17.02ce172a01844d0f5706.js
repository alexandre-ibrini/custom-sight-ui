(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Lgia:function(e,t,a){"use strict";a.r(t),a.d(t,"UsersModule",function(){return R});var o=a("tyNb"),i=a("kv2i"),r=a("ZtcW"),n=a("Hzwu"),d=a("5RfU"),l=a("YsNh"),s=a("4W89"),b=a("fXoL"),u=a("l7P3"),g=a("F/gL"),c=a("64jX"),m=a("jzTq");const p=["table"],f=[{path:"",component:(()=>{class e{constructor(e,t,a){this.store=e,this.editUserDialogService=t,this.jwtService=a,this.subscriptions=[],this.columns=[{id:"username",name:"Username",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"firstName",name:"First Name",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"lastName",name:"Last Name",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"email",name:"Email",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"address",name:"Address",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"phoneNumber",name:"Phone Number",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"dateCreated",name:"Date Created",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"dateModified",name:"Date Modified",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"role",name:"Role",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"edit",name:"",button:!0},{id:"delete",name:"",button:!0}],this.buttonTriggers={edit:{buttonName:"Edit",trigger:e=>{let t=this.tableData.find(t=>t.id===e);this.editUserDialogService.openDialog(t,!0,e=>{this.store.dispatch(Object(d.a)({updateUserByIdRequest:{id:e.id,email:e.email,firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber,address:e.address,role:e.role}}))})}},delete:{buttonName:"Delete",trigger:e=>{this.store.dispatch(Object(r.a)({deleteUserRequest:e}))}}},this.tableData=[]}ngOnInit(){this.subscriptions.push(this.store.select(s.a).subscribe(e=>{e&&((e=e.filter(e=>parseInt(e.id)!==this.jwtService.getId())).forEach(e=>{let t=this.tableData.findIndex(t=>t.id===e.id);-1===t?this.tableData.push({id:e.id,username:null==e?void 0:e.username,firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,email:null==e?void 0:e.email,address:null==e?void 0:e.address,phoneNumber:null==e?void 0:e.phoneNumber,dateCreated:null==e?void 0:e.dateCreated.toLocaleDateString(),dateModified:null==e?void 0:e.dateModified.toLocaleDateString(),role:null==e?void 0:e.role,edit:!0}):this.tableData[t]=Object.assign(Object.assign({},e),{dateCreated:null==e?void 0:e.dateCreated.toLocaleDateString(),dateModified:null==e?void 0:e.dateModified.toLocaleDateString()})}),this.tableData.forEach((t,a)=>{-1===e.findIndex(e=>e.id===t.id)&&this.tableData.splice(a,1)}),this.table&&this.table.setTableData(this.tableData))}),this.store.select(l.a).subscribe(e=>{this.store.dispatch(Object(n.a)())})),this.store.dispatch(Object(n.a)())}checkIfMobile(){return i.a.checkIfMobile()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(b.Qb(u.h),b.Qb(g.a),b.Qb(c.a))},e.\u0275cmp=b.Kb({type:e,selectors:[["app-users-page"]],viewQuery:function(e,t){if(1&e&&b.Hc(p,1),2&e){let e;b.tc(e=b.fc())&&(t.table=e.first)}},decls:4,vars:4,consts:[[1,"page-style",2,"overflow-y","auto","height","100%"],[1,"outer-div-padding"],["title","Users Table",3,"columns","ELEMENT_DATA","buttonTriggers","showAddUserButton"],["table",""]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Rb(2,"app-data-table",2,3),b.Vb(),b.Vb()),2&e&&(b.Eb(2),b.nc("columns",t.columns)("ELEMENT_DATA",t.tableData)("buttonTriggers",t.buttonTriggers)("showAddUserButton",!0))},directives:[m.a],styles:['.mat-form-field-appearance-outline .mat-form-field-outline-end,  .mat-form-field-appearance-outline .mat-form-field-outline-start{background-color:#fff}.save-btn-mobile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.save-btn-mobile[_ngcontent-%COMP%]{margin:20px auto}.dark-mode-mobile[_ngcontent-%COMP%], .save-btn-mobile[_ngcontent-%COMP%]{padding:0!important}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;animation:spinner .8s linear infinite}']}),e})(),data:{animation:"LandingPageAnimation"}},{path:"**",redirectTo:""}];let h=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(t){return new(t||e)},imports:[[o.e.forChild(f)],o.e]}),e})();var C=a("+XFo");let R=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(t){return new(t||e)},imports:[[C.a,h]]}),e})()}}]);