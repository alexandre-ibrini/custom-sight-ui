(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{Lgia:function(e,a,t){"use strict";t.r(a),t.d(a,"UsersModule",function(){return M});var i=t("tyNb"),l=t("kv2i"),o=t("Hzwu"),n=t("4W89"),r=t("fXoL"),d=t("l7P3"),s=t("3Pt+"),u=t("0IaG"),b=t("5RfU"),c=t("yYCg"),m=t("64jX"),f=t("XiUz"),p=t("ofXK"),g=t("kmnG"),h=t("qFsG"),v=t("znSr"),x=t("bTqV");function C(e,a){if(1&e&&(r.Wb(0,"div",15),r.Wb(1,"mat-label",8),r.Ec(2),r.Vb(),r.Wb(3,"mat-form-field",9),r.Rb(4,"input",16),r.Vb(),r.Vb()),2&e){const e=a.$implicit,t=r.ic(2);r.nc("fxFlex","address"===e.fieldName?100:50),r.Eb(2),r.Fc(e.displayName),r.Eb(2),r.nc("placeholder",t.findPlaceholder(e.fieldName))("formControlName",e.fieldName)}}const N=function(e){return{"save-btn-mobile":e}};function V(e,a){if(1&e){const e=r.Xb();r.Wb(0,"div",6),r.Wb(1,"div",7),r.Wb(2,"mat-label",8),r.Ec(3,"Username"),r.Vb(),r.Wb(4,"mat-form-field",9),r.Rb(5,"input",10),r.Vb(),r.Vb(),r.Wb(6,"div",7),r.Wb(7,"mat-label",8),r.Ec(8,"Date Created"),r.Vb(),r.Wb(9,"mat-form-field",9),r.Rb(10,"input",10),r.Vb(),r.Vb(),r.Wb(11,"div",7),r.Wb(12,"mat-label",8),r.Ec(13,"Date Modified"),r.Vb(),r.Wb(14,"mat-form-field",9),r.Rb(15,"input",10),r.Vb(),r.Vb(),r.Dc(16,C,5,4,"div",11),r.Wb(17,"div",12),r.Wb(18,"div",13),r.Wb(19,"button",14),r.ec("click",function(){return r.wc(e),r.ic().saveChanges()}),r.Ec(20," Save Changes "),r.Vb(),r.Wb(21,"button",14),r.ec("click",function(){return r.wc(e),r.ic().cancelChanges()}),r.Ec(22," Cancel Changes "),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&e){const e=r.ic();r.Eb(5),r.nc("placeholder",e.data.user.username),r.Eb(5),r.nc("placeholder",e.data.user.dateCreated),r.Eb(5),r.nc("placeholder",e.data.user.dateModified),r.Eb(1),r.nc("ngForOf",e.formFields),r.Eb(1),r.nc("ngClass",r.pc(11,N,e.checkIfMobile())),r.Eb(2),r.Ib("spinner",e.isUpdating),r.nc("disabled",e.isUpdating),r.Eb(2),r.Ib("spinner",e.isUpdating),r.nc("disabled",e.isUpdating)}}let y=(()=>{class e{constructor(e,a,t,i){this.dialogRef=e,this.data=a,this.store=t,this.jwtService=i,this.accountForm=new s.g({}),this.formFields=[{displayName:"First Name",fieldName:"firstName",placeholder:"placeholder",fieldState:"value 1",validators:null},{displayName:"Last name",fieldName:"lastName",placeholder:"placeholder last name",fieldState:"value",validators:null},{fieldName:"email",displayName:"Email",placeholder:"placeholder",fieldState:"value 1",validators:null},{displayName:"Phone Number",fieldName:"phoneNumber",placeholder:"placeholder last name",fieldState:"value",validators:null},{displayName:"Address",fieldName:"address",placeholder:"placeholder address",fieldState:"value address",validators:null},{displayName:"Role",fieldName:"role",placeholder:"placeholder role",fieldState:"value address",validators:null}],this.subscriptions=[]}ngOnInit(){var e;this.subscriptions.push(this.store.select(c.a).subscribe(e=>{this.isUpdating=e,e||this.isRequestSent&&this.close()})),this.isUpdating=!1,this.isRequestSent=!1,this.formFields.forEach(e=>{this.accountForm.addControl(e.fieldName,new s.e(e.fieldState,e.validators))}),this.setFormGroupValueFromUserModel(null===(e=this.data)||void 0===e?void 0:e.user)}saveChanges(){this.store.dispatch(Object(b.a)({updateUserByIdRequest:{id:this.data.user.id,email:this.getFieldValue("email"),firstName:this.getFieldValue("firstName"),lastName:this.getFieldValue("lastName"),phoneNumber:this.getFieldValue("phoneNumber"),address:this.getFieldValue("address"),role:this.getFieldValue("role")}}))}cancelChanges(){this.close()}findPlaceholder(e){return this.formFields.find(a=>a.fieldName===e).placeholder}getFieldValue(e){var a,t;return null===(t=null===(a=this.accountForm)||void 0===a?void 0:a.controls[e])||void 0===t?void 0:t.value}setFormGroupValueFromUserModel(e){this.isRequestSent=!0,this.accountForm.patchValue({email:null==e?void 0:e.email,firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,phoneNumber:null==e?void 0:e.phoneNumber,address:null==e?void 0:e.address,role:null==e?void 0:e.role})}checkIfMobile(){return l.a.checkIfMobile()}ngOnDestroy(){}close(){this.store.dispatch(Object(o.a)()),this.dialogRef.close()}}return e.\u0275fac=function(a){return new(a||e)(r.Qb(u.d),r.Qb(u.a),r.Qb(d.h),r.Qb(m.a))},e.\u0275cmp=r.Kb({type:e,selectors:[["app-edit-user-dialog"]],decls:7,vars:2,consts:[[1,"page-style",2,"overflow-y","auto","height","100%"],["fxLayout","row","fxLayoutAlign","center center",1,"outer-div-padding"],["fxLayout","column","fxFlex","70"],[2,"width","100%",3,"formGroup"],[2,"font-size","18px","font-weight","700","margin-bottom","30px"],["fxLayout","row wrap",4,"ngIf"],["fxLayout","row wrap"],["fxLayout","column","fxFlex.lt-sm","100","fxFlex","33",2,"padding-right","30px"],[2,"color","#425466","font-size","14px"],["fxFlex","","appearance","outline","color","accent",1,"grey-input",2,"font-size","13px"],["matInput","","disabled","",3,"placeholder"],["fxLayout","column","fxFlex.lt-sm","100","style","padding-right: 30px",3,"fxFlex",4,"ngFor","ngForOf"],["fxFlex","100","fxLayout","row","fxLayoutAlign","end end",2,"padding","30px 30px 0 0",3,"ngClass"],["fxLayout","row","fxLayoutGap","20px"],["mat-flat-button","","color","accent",2,"font-size","13px","font-weight","bold",3,"disabled","click"],["fxLayout","column","fxFlex.lt-sm","100",2,"padding-right","30px",3,"fxFlex"],["matInput","",3,"placeholder","formControlName"]],template:function(e,a){1&e&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Wb(3,"form",3),r.Wb(4,"div",4),r.Ec(5," User Information "),r.Vb(),r.Dc(6,V,23,13,"div",5),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&e&&(r.Eb(3),r.nc("formGroup",a.accountForm),r.Eb(3),r.nc("ngIf",a.accountForm))},directives:[f.d,f.c,f.b,s.s,s.n,s.h,p.l,g.e,g.b,h.b,p.k,p.j,v.a,f.e,x.a,s.c,s.m,s.f],styles:['@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;animation:spinner .8s linear infinite}']}),e})(),R=(()=>{class e{constructor(e){this.dialog=e}openDialog(e){this.dialogRef=this.dialog.open(y,{data:{user:e}})}}return e.\u0275fac=function(a){return new(a||e)(r.ac(u.b))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var F=t("jzTq");const w=["table"],E=[{path:"",component:(()=>{class e{constructor(e,a){this.store=e,this.editUserDialogService=a,this.subscriptions=[],this.columns=[{id:"username",name:"Username",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"firstName",name:"First Name",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"lastName",name:"Last Name",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"email",name:"Email",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"address",name:"Address",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"phoneNumber",name:"Phone Number",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"dateCreated",name:"Date Created",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"dateModified",name:"Date Modified",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"role",name:"Role",badge:{badgeCell:!0,badgeColorRule:e=>"#425466",badgeValueRule:e=>e,badgeBackgroundColorRule:e=>"transparent"}},{id:"edit",name:"",button:!0}],this.buttonTriggers={edit:{buttonName:"Edit",trigger:e=>{let a=this.tableData.find(a=>a.id===e);this.editUserDialogService.openDialog(a)}}},this.tableData=[]}ngOnInit(){this.subscriptions.push(this.store.select(n.a).subscribe(e=>{e&&(e.forEach(e=>{let a=this.tableData.findIndex(a=>a.id===e.id);-1===a?this.tableData.push({id:e.id,username:null==e?void 0:e.username,firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,email:null==e?void 0:e.email,address:null==e?void 0:e.address,phoneNumber:null==e?void 0:e.phoneNumber,dateCreated:null==e?void 0:e.dateCreated.toLocaleDateString(),dateModified:null==e?void 0:e.dateModified.toLocaleDateString(),role:null==e?void 0:e.role,edit:!0}):this.tableData[a]=Object.assign(Object.assign({},e),{dateCreated:null==e?void 0:e.dateCreated.toLocaleDateString(),dateModified:null==e?void 0:e.dateModified.toLocaleDateString()})}),this.table&&this.table.setTableData(this.tableData))})),this.store.dispatch(Object(o.a)())}checkIfMobile(){return l.a.checkIfMobile()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(a){return new(a||e)(r.Qb(d.h),r.Qb(R))},e.\u0275cmp=r.Kb({type:e,selectors:[["app-users-page"]],viewQuery:function(e,a){if(1&e&&r.Hc(w,1),2&e){let e;r.tc(e=r.fc())&&(a.table=e.first)}},decls:4,vars:4,consts:[[1,"page-style",2,"overflow-y","auto","height","100%"],[1,"outer-div-padding"],["title","Users Table",3,"columns","ELEMENT_DATA","buttonTriggers","showAddUserButton"],["table",""]],template:function(e,a){1&e&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Rb(2,"app-data-table",2,3),r.Vb(),r.Vb()),2&e&&(r.Eb(2),r.nc("columns",a.columns)("ELEMENT_DATA",a.tableData)("buttonTriggers",a.buttonTriggers)("showAddUserButton",!0))},directives:[F.a],styles:['.mat-form-field-appearance-outline .mat-form-field-outline-end,  .mat-form-field-appearance-outline .mat-form-field-outline-start{background-color:#fff}.save-btn-mobile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.save-btn-mobile[_ngcontent-%COMP%]{margin:20px auto}.dark-mode-mobile[_ngcontent-%COMP%], .save-btn-mobile[_ngcontent-%COMP%]{padding:0!important}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;animation:spinner .8s linear infinite}']}),e})(),data:{animation:"LandingPageAnimation"}},{path:"**",redirectTo:""}];let k=(()=>{class e{}return e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({factory:function(a){return new(a||e)},imports:[[i.e.forChild(E)],i.e]}),e})();var D=t("+XFo");let M=(()=>{class e{}return e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({factory:function(a){return new(a||e)},providers:[R],imports:[[D.a,k,u.c,s.q]]}),e})()}}]);