(self.webpackChunkros_fe_poc=self.webpackChunkros_fe_poc||[]).push([[256],{8437:(z,k,i)=>{"use strict";i.d(k,{C:()=>S,h:()=>Z});var c=i(7716),f=i(5371),e=i(5319),a=i(2759);const A=["joystickContainer"];let S=(()=>{class I{constructor(m){this.el=m,this.move=new c.vpe,this.start=new c.vpe,this.end=new c.vpe,this.dir=new c.vpe,this.dirUp=new c.vpe,this.dirDown=new c.vpe,this.dirLeft=new c.vpe,this.dirRight=new c.vpe,this.plain=new c.vpe,this.plainUp=new c.vpe,this.plainDown=new c.vpe,this.plainLeft=new c.vpe,this.plainRight=new c.vpe,this.touchMoveSubscription=new e.w}ngOnInit(){this.interval=window.setInterval(()=>{this.joystickContainer&&this.joystickContainer.nativeElement.clientWidth&&this.joystickContainer.nativeElement.clientHeight&&(this.options?this.options.zone=this.el.nativeElement:this.options=this.getDefaultOptions(),this.manager=f.create(this.options),this.setupEvents(),window.clearInterval(this.interval))},100)}ngOnDestroy(){window.clearInterval(this.interval),this.manager.destroy(),this.touchMoveSubscription.unsubscribe()}ngAfterViewInit(){this.touchMoveSubscription=(0,a.R)(this.el.nativeElement,"touchmove").subscribe(m=>{m.preventDefault(),m.stopPropagation()})}getDefaultOptions(){return{zone:this.el.nativeElement,mode:"static",position:{left:"50%",top:"50%"},color:"blue"}}emitEvent(m,_){_.emit({event:m.event,data:m.data})}setupEvents(){this.manager.on("move",(m,_)=>{this.emitEvent({event:m,data:_},this.move)}),this.manager.on("start",(m,_)=>{this.emitEvent({event:m,data:_},this.start)}),this.manager.on("end",(m,_)=>{this.emitEvent({event:m,data:_},this.end)}),this.manager.on("dir",(m,_)=>{this.emitEvent({event:m,data:_},this.dir)}),this.manager.on("dir:up",(m,_)=>{this.emitEvent({event:m,data:_},this.dirUp)}),this.manager.on("dir:down",(m,_)=>{this.emitEvent({event:m,data:_},this.dirDown)}),this.manager.on("dir:left",(m,_)=>{this.emitEvent({event:m,data:_},this.dirLeft)}),this.manager.on("dir:right",(m,_)=>{this.emitEvent({event:m,data:_},this.dirRight)}),this.manager.on("plain",(m,_)=>{this.emitEvent({event:m,data:_},this.plain)}),this.manager.on("plain:up",(m,_)=>{this.emitEvent({event:m,data:_},this.plainUp)}),this.manager.on("plain:down",(m,_)=>{this.emitEvent({event:m,data:_},this.plainDown)}),this.manager.on("plain:left",(m,_)=>{this.emitEvent({event:m,data:_},this.plainLeft)}),this.manager.on("plain:right",(m,_)=>{this.emitEvent({event:m,data:_},this.plainRight)})}}return I.\u0275fac=function(m){return new(m||I)(c.Y36(c.SBq))},I.\u0275cmp=c.Xpm({type:I,selectors:[["ngx-joystick"]],viewQuery:function(m,_){if(1&m&&c.Gf(A,5),2&m){let T;c.iGM(T=c.CRH())&&(_.joystickContainer=T.first)}},inputs:{options:"options"},outputs:{move:"move",start:"start",end:"end",dir:"dir",dirUp:"dirUp",dirDown:"dirDown",dirLeft:"dirLeft",dirRight:"dirRight",plain:"plain",plainUp:"plainUp",plainDown:"plainDown",plainLeft:"plainLeft",plainRight:"plainRight"},decls:2,vars:0,consts:[["id","static",2,"width","100%","height","100%"],["joystickContainer",""]],template:function(m,_){1&m&&c._UZ(0,"div",0,1)},encapsulation:2}),I})(),Z=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=c.oAB({type:I}),I.\u0275inj=c.cJS({imports:[[]]}),I})()},5371:z=>{window,z.exports=function(k){var i={};function c(f){if(i[f])return i[f].exports;var v=i[f]={i:f,l:!1,exports:{}};return k[f].call(v.exports,v,v.exports,c),v.l=!0,v.exports}return c.m=k,c.c=i,c.d=function(f,v,e){c.o(f,v)||Object.defineProperty(f,v,{enumerable:!0,get:e})},c.r=function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},c.t=function(f,v){if(1&v&&(f=c(f)),8&v||4&v&&"object"==typeof f&&f&&f.__esModule)return f;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:f}),2&v&&"string"!=typeof f)for(var a in f)c.d(e,a,function(A){return f[A]}.bind(null,a));return e},c.n=function(f){var v=f&&f.__esModule?function(){return f.default}:function(){return f};return c.d(v,"a",v),v},c.o=function(f,v){return Object.prototype.hasOwnProperty.call(f,v)},c.p="",c(c.s=0)}([function(k,i,c){"use strict";c.r(i);var f,v=function(n,t){var s=t.x-n.x,l=t.y-n.y;return Math.sqrt(s*s+l*l)},e=function(n){return n*(Math.PI/180)},A=function(n,t,s){for(var l,p=t.split(/[ ,]+/g),D=0;D<p.length;D+=1)l=p[D],n.addEventListener?n.addEventListener(l,s,!1):n.attachEvent&&n.attachEvent(l,s)},S=function(n,t,s){for(var l,p=t.split(/[ ,]+/g),D=0;D<p.length;D+=1)l=p[D],n.removeEventListener?n.removeEventListener(l,s):n.detachEvent&&n.detachEvent(l,s)},Z=function(n){return n.preventDefault(),n.type.match(/^touch/)?n.changedTouches:n},I=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},w=function(n,t){t.top||t.right||t.bottom||t.left?(n.style.top=t.top,n.style.right=t.right,n.style.bottom=t.bottom,n.style.left=t.left):(n.style.left=t.x+"px",n.style.top=t.y+"px")},m=function(n,t,s){var l=_(n);for(var p in l)if(l.hasOwnProperty(p))if("string"==typeof t)l[p]=t+" "+s;else{for(var D="",E=0,L=t.length;E<L;E+=1)D+=t[E]+" "+s+", ";l[p]=D.slice(0,-2)}return l},_=function(n){var t={};return t[n]="",["webkit","Moz","o"].forEach(function(s){t[s+n.charAt(0).toUpperCase()+n.slice(1)]=""}),t},T=function(n,t){for(var s in t)t.hasOwnProperty(s)&&(n[s]=t[s]);return n},b=function(n,t){if(n.length)for(var s=0,l=n.length;s<l;s+=1)t(n[s]);else t(n)},C="ontouchstart"in window,r=!!window.PointerEvent,y=!!window.MSPointerEvent,x={start:"mousedown",move:"mousemove",end:"mouseup"},g={};function F(){}r?f={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:y?f={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:C?(f={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},g=x):f=x,F.prototype.on=function(n,t){var s,l=n.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var p=0;p<l.length;p+=1)this._handlers_[s=l[p]]=this._handlers_[s]||[],this._handlers_[s].push(t);return this},F.prototype.off=function(n,t){return this._handlers_=this._handlers_||{},void 0===n?this._handlers_={}:void 0===t?this._handlers_[n]=null:this._handlers_[n]&&this._handlers_[n].indexOf(t)>=0&&this._handlers_[n].splice(this._handlers_[n].indexOf(t),1),this},F.prototype.trigger=function(n,t){var s,l=this,p=n.split(/[ ,]+/g);l._handlers_=l._handlers_||{};for(var D=0;D<p.length;D+=1)l._handlers_[s=p[D]]&&l._handlers_[s].length&&l._handlers_[s].forEach(function(E){E.call(l,{type:s,target:l},t)})},F.prototype.config=function(n){this.options=this.defaults||{},n&&(this.options=function(t,s){var l={};for(var p in t)t.hasOwnProperty(p)&&s.hasOwnProperty(p)?l[p]=s[p]:t.hasOwnProperty(p)&&(l[p]=t[p]);return l}(this.options,n))},F.prototype.bindEvt=function(n,t){var s=this;return s._domHandlers_=s._domHandlers_||{},s._domHandlers_[t]=function(){"function"==typeof s["on"+t]?s["on"+t].apply(s,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},A(n,f[t],s._domHandlers_[t]),g[t]&&A(n,g[t],s._domHandlers_[t]),s},F.prototype.unbindEvt=function(n,t){return this._domHandlers_=this._domHandlers_||{},S(n,f[t],this._domHandlers_[t]),g[t]&&S(n,g[t],this._domHandlers_[t]),delete this._domHandlers_[t],this};var J=F;function N(n,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=n,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=N.id,N.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}N.prototype=new J,N.constructor=N,N.id=0,N.prototype.buildEl=function(n){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},N.prototype.stylize=function(){if(this.options.dataOnly)return this;var n=this.options.fadeTime+"ms",t=function(p,D){var E=_("borderRadius");for(var L in E)E.hasOwnProperty(L)&&(E[L]="50%");return E}(),s=m("transition","opacity",n),l={};return l.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},l.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"},l.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"},T(l.el,s),"circle"===this.options.shape&&T(l.back,t),T(l.front,t),this.applyStyles(l),this},N.prototype.applyStyles=function(n){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var s in n[t])this.ui[t].style[s]=n[t][s];return this},N.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},N.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},N.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},N.prototype.show=function(n){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),"function"==typeof n&&n.call(this)},t.options.fadeTime)),t},N.prototype.hide=function(n){var t=this;return t.options.dataOnly||(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){t.ui.el.style.display="dynamic"===t.options.mode?"none":"block","function"==typeof n&&n.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick&&t.setPosition(n,{x:0,y:0})),t},N.prototype.setPosition=function(n,t){var s=this;s.frontPosition={x:t.x,y:t.y};var p={};p.front=m("transition",["top","left"],s.options.fadeTime+"ms");var D={front:{}};D.front={left:s.frontPosition.x+"px",top:s.frontPosition.y+"px"},s.applyStyles(p),s.applyStyles(D),s.restTimeout=setTimeout(function(){"function"==typeof n&&n.call(s),s.restCallback()},s.options.fadeTime)},N.prototype.restCallback=function(){var n={};n.front=m("transition","none",""),this.applyStyles(n),this.trigger("rested",this.instance)},N.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},N.prototype.computeDirection=function(n){var t,s,l,p=n.angle.radian,D=Math.PI/4,E=Math.PI/2;if(p>D&&p<3*D&&!n.lockX?t="up":p>-D&&p<=D&&!n.lockY?t="left":p>3*-D&&p<=-D&&!n.lockX?t="down":n.lockY||(t="right"),n.lockY||(s=p>-E&&p<E?"left":"right"),n.lockX||(l=p>0?"up":"down"),n.force>this.options.threshold){var L,B={};for(L in this.direction)this.direction.hasOwnProperty(L)&&(B[L]=this.direction[L]);var Q={};for(L in this.direction={x:s,y:l,angle:t},n.direction=this.direction,B)B[L]===this.direction[L]&&(Q[L]=!0);if(Q.x&&Q.y&&Q.angle)return n;Q.x&&Q.y||this.trigger("plain",n),Q.x||this.trigger("plain:"+s,n),Q.y||this.trigger("plain:"+l,n),Q.angle||this.trigger("dir dir:"+t,n)}else this.resetDirection();return n};var j=N;function R(n,t){return this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=n,this.id=R.id,R.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1},this.config(t),"static"!==this.options.mode&&"semi"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}R.prototype=new J,R.constructor=R,R.id=0,R.prototype.prepareNipples=function(){var n=this.nipples;n.on=this.on.bind(this),n.off=this.off.bind(this),n.options=this.options,n.destroy=this.destroy.bind(this),n.ids=this.ids,n.id=this.id,n.processOnMove=this.processOnMove.bind(this),n.processOnEnd=this.processOnEnd.bind(this),n.get=function(t){if(void 0===t)return n[0];for(var s=0,l=n.length;s<l;s+=1)if(n[s].identifier===t)return n[s];return!1}},R.prototype.bindings=function(){this.bindEvt(this.options.zone,"start"),this.options.zone.style.touchAction="none",this.options.zone.style.msTouchAction="none"},R.prototype.begin=function(){var n=this.options;if("static"===n.mode){var t=this.createNipple(n.position,this.manager.getIdentifier());t.add(),this.idles.push(t)}},R.prototype.createNipple=function(n,t){var s=I(),l={},p=this.options;if(n.x&&n.y)l={x:n.x-(s.x+this.box.left),y:n.y-(s.y+this.box.top)};else if(n.top||n.right||n.bottom||n.left){var D=document.createElement("DIV");D.style.display="hidden",D.style.top=n.top,D.style.right=n.right,D.style.bottom=n.bottom,D.style.left=n.left,D.style.position="absolute",p.zone.appendChild(D);var E=D.getBoundingClientRect();p.zone.removeChild(D),l=n,n={x:E.left+s.x,y:E.top+s.y}}var L=new j(this,{color:p.color,size:p.size,threshold:p.threshold,fadeTime:p.fadeTime,dataOnly:p.dataOnly,restJoystick:p.restJoystick,restOpacity:p.restOpacity,mode:p.mode,identifier:t,position:n,zone:p.zone,frontPosition:{x:0,y:0},shape:p.shape});return p.dataOnly||(w(L.ui.el,l),w(L.ui.front,L.frontPosition)),this.nipples.push(L),this.trigger("added "+L.identifier+":added",L),this.manager.trigger("added "+L.identifier+":added",L),this.bindNipple(L),L},R.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},R.prototype.bindNipple=function(n){var s=this,l=function(p,D){s.trigger(p.type+" "+D.id+":"+p.type,D)};n.on("destroyed",s.onDestroyed.bind(s)),n.on("shown hidden rested dir plain",l),n.on("dir:up dir:right dir:down dir:left",l),n.on("plain:up plain:right plain:down plain:left",l)},R.prototype.pressureFn=function(n,t,s){var l=this,p=0;clearInterval(l.pressureIntervals[s]),l.pressureIntervals[s]=setInterval(function(){var D=n.force||n.pressure||n.webkitForce||0;D!==p&&(t.trigger("pressure",D),l.trigger("pressure "+t.identifier+":pressure",D),p=D)}.bind(l),100)},R.prototype.onstart=function(n){var t=this,s=t.options,l=n;return n=Z(n),t.updateBox(),b(n,function(p){t.actives.length<s.maxNumberOfNipples?t.processOnStart(p):l.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(D){if(Object.values(l.touches).findIndex(function(L){return L.identifier===D})<0){var E=[n[0]];E.identifier=D,t.processOnEnd(E)}}),t.actives.length<s.maxNumberOfNipples&&t.processOnStart(p))}),t.manager.bindDocument(),!1},R.prototype.processOnStart=function(n){var t,s=this,l=s.options,p=s.manager.getIdentifier(n),D=n.force||n.pressure||n.webkitForce||0,E={x:n.pageX,y:n.pageY},L=s.getOrCreate(p,E);L.identifier!==p&&s.manager.removeIdentifier(L.identifier),L.identifier=p;var B=function(Q){Q.trigger("start",Q),s.trigger("start "+Q.id+":start",Q),Q.show(),D>0&&s.pressureFn(n,Q,Q.identifier),s.processOnMove(n)};if((t=s.idles.indexOf(L))>=0&&s.idles.splice(t,1),s.actives.push(L),s.ids.push(L.identifier),"semi"!==l.mode)B(L);else{if(!(v(E,L.position)<=l.catchDistance))return L.destroy(),void s.processOnStart(n);B(L)}return L},R.prototype.getOrCreate=function(n,t){var s,l=this.options;return/(semi|static)/.test(l.mode)?(s=this.idles[0])?(this.idles.splice(0,1),s):"semi"===l.mode?this.createNipple(t,n):(console.warn("Coudln't find the needed nipple."),!1):s=this.createNipple(t,n)},R.prototype.processOnMove=function(n){var K,t=this.options,s=this.manager.getIdentifier(n),l=this.nipples.get(s);if(K=n,isNaN(K.buttons)?0!==K.pressure:0!==K.buttons){if(!l)return console.error("Found zombie joystick with ID "+s),void this.manager.removeIdentifier(s);if(t.dynamicPage){var p=I();E=l.el.getBoundingClientRect(),l.position={x:p.x+E.left,y:p.y+E.top}}l.identifier=s;var D=l.options.size/2,E={x:n.pageX,y:n.pageY};t.lockX&&(E.y=l.position.y),t.lockY&&(E.x=l.position.x);var L,B,te,ne,$,O,h=v(E,l.position),u=(L=E,B=l.position,function(n){return n*(180/Math.PI)}(Math.atan2(B.y-L.y,B.x-L.x))),o=e(u),d=h/D,M={distance:h,position:E};"circle"===l.options.shape?(h=Math.min(h,D),te=l.position,ne=h,O={x:0,y:0},$=e($=u),O.x=te.x-ne*Math.cos($),O.y=te.y-ne*Math.sin($),E=O):(E=function(K,W,X){return{x:Math.min(Math.max(K.x,W.x-X),W.x+X),y:Math.min(Math.max(K.y,W.y-X),W.y+X)}}(E,l.position,D),h=v(E,l.position));var P=E.x-l.position.x,V=E.y-l.position.y;l.frontPosition={x:P,y:V},t.dataOnly||w(l.ui.front,l.frontPosition);var H={identifier:l.identifier,position:E,force:d,pressure:n.force||n.pressure||n.webkitForce||0,distance:h,angle:{radian:o,degree:u},vector:{x:P/D,y:-V/D},raw:M,instance:l,lockX:t.lockX,lockY:t.lockY};(H=l.computeDirection(H)).angle={radian:e(180-u),degree:180-u},l.trigger("move",H),this.trigger("move "+l.id+":move",H)}else this.processOnEnd(n)},R.prototype.processOnEnd=function(n){var t=this,s=t.options,l=t.manager.getIdentifier(n),p=t.nipples.get(l),D=t.manager.removeIdentifier(p.identifier);p&&(s.dataOnly||p.hide(function(){"dynamic"===s.mode&&(p.trigger("removed",p),t.trigger("removed "+p.id+":removed",p),t.manager.trigger("removed "+p.id+":removed",p),p.destroy())}),clearInterval(t.pressureIntervals[p.identifier]),p.resetDirection(),p.trigger("end",p),t.trigger("end "+p.id+":end",p),t.ids.indexOf(p.identifier)>=0&&t.ids.splice(t.ids.indexOf(p.identifier),1),t.actives.indexOf(p)>=0&&t.actives.splice(t.actives.indexOf(p),1),/(semi|static)/.test(s.mode)?t.idles.push(p):t.nipples.indexOf(p)>=0&&t.nipples.splice(t.nipples.indexOf(p),1),t.manager.unbindDocument(),/(semi|static)/.test(s.mode)&&(t.manager.ids[D.id]=D.identifier))},R.prototype.onDestroyed=function(n,t){this.nipples.indexOf(t)>=0&&this.nipples.splice(this.nipples.indexOf(t),1),this.actives.indexOf(t)>=0&&this.actives.splice(this.actives.indexOf(t),1),this.idles.indexOf(t)>=0&&this.idles.splice(this.idles.indexOf(t),1),this.ids.indexOf(t.identifier)>=0&&this.ids.splice(this.ids.indexOf(t.identifier),1),this.manager.removeIdentifier(t.identifier),this.manager.unbindDocument()},R.prototype.destroy=function(){for(var n in this.unbindEvt(this.options.zone,"start"),this.nipples.forEach(function(t){t.destroy()}),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(n)&&clearInterval(this.pressureIntervals[n]);this.trigger("destroyed",this.nipples),this.manager.unbindDocument(),this.off()};var G=R;function U(n){var t,s=this;return s.ids={},s.index=0,s.collections=[],s.config(n),s.prepareCollections(),A(window,"resize",function(l){clearTimeout(t),t=setTimeout(function(){var p,D=I();s.collections.forEach(function(E){E.forEach(function(L){p=L.el.getBoundingClientRect(),L.position={x:D.x+p.left,y:D.y+p.top}})})},100)}),s.collections}U.prototype=new J,U.constructor=U,U.prototype.prepareCollections=function(){var n=this;n.collections.create=n.create.bind(n),n.collections.on=n.on.bind(n),n.collections.off=n.off.bind(n),n.collections.destroy=n.destroy.bind(n),n.collections.get=function(t){var s;return n.collections.every(function(l){return!(s=l.get(t))}),s}},U.prototype.create=function(n){return this.createCollection(n)},U.prototype.createCollection=function(n){var t=new G(this,n);return this.bindCollection(t),this.collections.push(t),t},U.prototype.bindCollection=function(n){var s=this,l=function(p,D){s.trigger(p.type+" "+D.id+":"+p.type,D)};n.on("destroyed",s.onDestroyed.bind(s)),n.on("shown hidden rested dir plain",l),n.on("dir:up dir:right dir:down dir:left",l),n.on("plain:up plain:right plain:down plain:left",l)},U.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,"move").bindEvt(document,"end"),this.binded=!0)},U.prototype.unbindDocument=function(n){Object.keys(this.ids).length&&!0!==n||(this.unbindEvt(document,"move").unbindEvt(document,"end"),this.binded=!1)},U.prototype.getIdentifier=function(n){var t;return n?void 0===(t=void 0===n.identifier?n.pointerId:n.identifier)&&(t=this.latest||0):t=this.index,void 0===this.ids[t]&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]},U.prototype.removeIdentifier=function(n){var t={};for(var s in this.ids)if(this.ids[s]===n){t.id=s,t.identifier=this.ids[s],delete this.ids[s];break}return t},U.prototype.onmove=function(n){return this.onAny("move",n),!1},U.prototype.onend=function(n){return this.onAny("end",n),!1},U.prototype.oncancel=function(n){return this.onAny("end",n),!1},U.prototype.onAny=function(n,t){var s,l=this,p="processOn"+n.charAt(0).toUpperCase()+n.slice(1);return t=Z(t),b(t,function(D){s=l.getIdentifier(D),b(l.collections,function(E,L,B){B.ids.indexOf(L)>=0&&(B[p](E),E._found_=!0)}.bind(null,D,s)),D._found_||l.removeIdentifier(s)}),!1},U.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach(function(n){n.destroy()}),this.off()},U.prototype.onDestroyed=function(n,t){if(this.collections.indexOf(t)<0)return!1;this.collections.splice(this.collections.indexOf(t),1)};var Y=new U;i.default={create:function(n){return Y.create(n)},factory:Y}}]).default},1647:(z,k,i)=>{"use strict";i.d(k,{h:()=>f});var c=i(7716);let f=(()=>{class v{constructor(){}mapFromViewModelToDtoModel(){}mapFromDtoModelArrayToViewModelArray(a){let A=[];return a.forEach(S=>{A.push(this.mapFromDtoModelToViewModel(S))}),A}mapFromDtoModelToViewModel(a){return{fullPath:a.path,name:a.name,createdDate:new Date(a.createdDate),lastModifiedDate:new Date(a.lastModifiedDate),isDir:a.isDir,children:a.isDir?[]:null}}}return v.\u0275fac=function(a){return new(a||v)},v.\u0275prov=c.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},1013:(z,k,i)=>{"use strict";i.d(k,{T:()=>y});var c=i(1841),f=i(3815),v=i(6215),e=i(5257),a=i(2340),A=i(4365),S=i(7788),Z=i(3065),I=i(8223);const w=(0,Z.P1)(I.N.selectLoading,x=>x),m=(0,Z.P1)(I.N.selectRequestedPath,x=>x),_=(0,Z.P1)(I.N.selectLogs,x=>x);var T=i(7716),b=i(1647),C=i(992),r=i(7736);let y=(()=>{class x{constructor(F,J,N,j,R){this.logsMapperService=F,this.store=J,this.responseMS=N,this.linkService=j,this.http=R,this.newRequest=new v.X(null),this.responseMS.get_logs.subscribe(G=>{var U;G&&this.receiveLogs(null===(U=null==G?void 0:G.data)||void 0===U?void 0:U.logs)}),this.responseMS.get_compressed_files.subscribe(G=>{var U;this.handleCompressedFilesResponse(null===(U=null==G?void 0:G.data)||void 0===U?void 0:U.compressed_files)})}get requestedPath(){return this.store.select(m)}get logs(){return this.store.select(_)}get loading(){return this.store.select(w)}receiveLogs(F){let J=this.logsMapperService.mapFromDtoModelArrayToViewModelArray(F);this.store.dispatch((0,S.iS)({logs:J})),this.store.dispatch((0,S.EX)({loading:!1}))}downloadLogs(F){let J=(0,f.cloneDeep)(A.L);J.data.files=F,this.linkService.sendMessage(J)}handleCompressedFilesResponse(F){let J=new c.WM({Token:localStorage.getItem("access_token"),"Access-Control-Allow-Origin":"*"});this.http.get(a.N.APIEndpoint.slice(0,-1)+F,{headers:J,responseType:"blob"}).pipe((0,e.q)(1)).subscribe(N=>{})}clearLogs(){this.store.dispatch((0,S.Cs)())}requestLogs(F){let J=(0,f.cloneDeep)(A.p);J.data.directory=F,this.linkService.sendMessage(J),this.store.dispatch((0,S.xA)({requestedPath:F})),this.store.dispatch((0,S.EX)({loading:!0}))}}return x.\u0275fac=function(F){return new(F||x)(T.LFG(b.h),T.LFG(Z.yh),T.LFG(C.B),T.LFG(r.X),T.LFG(c.eN))},x.\u0275prov=T.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},4365:(z,k,i)=>{"use strict";i.d(k,{p:()=>c,L:()=>f});const c={type:"get_logs",data:{directory:""}},f={type:"get_compressed_files",data:{files:[],compressed_files:""}}},7788:(z,k,i)=>{"use strict";i.d(k,{iS:()=>f,EX:()=>v,xA:()=>e,Cs:()=>a});var c=i(3065);const f=(0,c.PH)("[Logs] Update Logs",(0,c.Ky)()),v=(0,c.PH)("[Logs] Toggle Logs Loading Status",(0,c.Ky)()),e=(0,c.PH)("[Logs] Update Logs Requested Path",(0,c.Ky)()),a=(0,c.PH)("[Logs] Clear Logs")},8223:(z,k,i)=>{"use strict";i.d(k,{N:()=>I});var c=i(3065),f=i(7788),v=i(3815),e=i(7716);let a=(()=>{class w{constructor(){}static updateLogsTree(_,T,b){var C,r;let y=b?null==b?void 0:b.split("/"):null===(r=null===(C=null==T?void 0:T[0])||void 0===C?void 0:C.fullPath)||void 0===r?void 0:r.split("/");null==y||y.pop(),this.accessChildrenAndAppend(_,T,y,(null==y?void 0:y.length)>0?0:null)}static accessChildrenAndAppend(_,T,b,C){if(null!=C&&C>=0){let r=_.findIndex(y=>y.name===b[C]);-1===r&&(_.push({name:b[C],isDir:!0,fullPath:b.slice(0,C).join("/"),children:[]}),r=_.findIndex(y=>y.name===b[C])),this.accessChildrenAndAppend(_[r].children,T,b,C=b.length-1>C?C+1:null)}else _.push(...T)}}return w.\u0275fac=function(_){return new(_||w)},w.\u0275prov=e.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Z=(0,c.Lq)({loading:!1,logs:[],requestedPath:"/"},(0,c.on)(f.iS,(w,m)=>{let _=(0,v.cloneDeep)(w.logs);return a.updateLogsTree(_,m.logs,_.length>0?null:w.requestedPath),Object.assign(Object.assign({},w),{logs:_})}),(0,c.on)(f.EX,(w,m)=>Object.assign(Object.assign({},w),{loading:m.loading})),(0,c.on)(f.xA,(w,m)=>Object.assign(Object.assign({},w),{requestedPath:m.requestedPath})),(0,c.on)(f.Cs,(w,m)=>Object.assign(Object.assign({},w),{logs:[]}))),I=(0,c.Tz)({name:"logs",reducer:Z})},425:(z,k,i)=>{"use strict";i.d(k,{J:()=>b});var c=i(6215),f=i(3815),v=i(3065),e=i(4699);const a=(0,v.P1)(e.S.selectJoystick,C=>C.isConnected),S=((0,v.P1)(e.S.selectJoystick,C=>C.id),{type:"virtual_gamepad",data:{cmd:"alive","cmd-params":"1623599802958"}}),Z={type:"virtual_gamepad",data:{cmd:"connect","cmd-params":"-1",status:!1}},I={type:"virtual_gamepad",data:{cmd:"vmp-state","cmd-params":'{"axes": [0, 0, 0, 0], "deadman-button": false}'}};var w=i(5385),m=i(7716),_=i(7736),T=i(992);let b=(()=>{class C{constructor(y,x,g){this.store=y,this.linkService=x,this.responseMS=g,this.JoystickData=new c.X(null),this.subscriptions=[],this.canSendData=!1,this.isConnected.subscribe(F=>{this.canSendData=F}),this.responseMS.virtual_gamepad_reply.subscribe(F=>{var J,N,j;if("connect"===(null===(J=null==F?void 0:F.data)||void 0===J?void 0:J.cmd)){let R="-1"!==this.id&&this.id===(null===(N=null==F?void 0:F.data["cmd-data"])||void 0===N?void 0:N.value)&&"-1"!==(null===(j=null==F?void 0:F.data["cmd-data"])||void 0===j?void 0:j.value);this.receiveConnectResponse(R)}})}get isConnected(){return this.store.select(a)}updateId(y){this.store.dispatch((0,w.Q)({id:y})),this.id=y}sendConnect(y){this.updateId(y);let x=(0,f.cloneDeep)(Z);x.data["cmd-params"]=this.id,x.data.status=!0,this.linkService.sendMessage(x)}receiveConnectResponse(y){this.store.dispatch((0,w.s)({isConnected:y}))}updateConnectionStatus(y){this.store.dispatch((0,w.s)({isConnected:y}))}sendVirtualGamepadData(){var y,x,g,F,J,N,j,R,G,U,Y,n,t,s,l;if(!this.canSendData)return;let p=0,D=0;(null===(g=null===(x=null===(y=this.JoystickData)||void 0===y?void 0:y.value)||void 0===x?void 0:x.angle)||void 0===g?void 0:g.RadianAngle)&&(p=Math.sin(null===(N=null===(J=null===(F=this.JoystickData)||void 0===F?void 0:F.value)||void 0===J?void 0:J.angle)||void 0===N?void 0:N.RadianAngle),D=Math.cos(null===(G=null===(R=null===(j=this.JoystickData)||void 0===j?void 0:j.value)||void 0===R?void 0:R.angle)||void 0===G?void 0:G.RadianAngle),(null===(Y=null===(U=this.JoystickData)||void 0===U?void 0:U.value)||void 0===Y?void 0:Y.force)<1&&(p*=null===(t=null===(n=this.JoystickData)||void 0===n?void 0:n.value)||void 0===t?void 0:t.force,D*=null===(l=null===(s=this.JoystickData)||void 0===s?void 0:s.value)||void 0===l?void 0:l.force));const E=(0,f.cloneDeep)(I);(0!==p||0!==D)&&(E.data["cmd-params"]='{"axes":[ 0, '+-p+", "+D+', 0], "deadman-button": true}'),this.linkService.sendMessage(E)}sendAlive(y){if(!this.canSendData)return;const x=(0,f.cloneDeep)(S);x.data["cmd-params"]=y,this.linkService.sendMessage(x)}}return C.\u0275fac=function(y){return new(y||C)(m.LFG(v.yh),m.LFG(_.X),m.LFG(T.B))},C.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},9055:(z,k,i)=>{"use strict";i.d(k,{O:()=>w});var f=i(2516),v=i(3065),e=i(8908);const a=(0,v.P1)(e.v.selectVelocity,m=>m);var A=i(7716),S=i(7736),Z=i(992),I=i(3898);let w=(()=>{class m{constructor(T,b,C,r){this.store=T,this.linkService=b,this.responseMS=C,this.channelsMS=r,this.responseMS.Velocity.subscribe(y=>{y&&this.receiveVelocity(class{static mapFromPlotToVelocityModel(_){return{speed:_.v}}}.mapFromPlotToVelocityModel(y))})}get velocity(){return this.store.select(a)}receiveVelocity(T){this.store.dispatch((0,f.J)({velocity:T}))}toggleVelocity(T){this.channelsMS.toggleChannel("Velocity",T)}}return m.\u0275fac=function(T){return new(T||m)(A.LFG(v.yh),A.LFG(S.X),A.LFG(Z.B),A.LFG(I.$))},m.\u0275prov=A.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},5385:(z,k,i)=>{"use strict";i.d(k,{Q:()=>f,s:()=>v});var c=i(3065);const f=(0,c.PH)("[Joystick] Update Joystick Id",(0,c.Ky)()),v=(0,c.PH)("[Joystick] Update Joystick Connection Status",(0,c.Ky)())},4699:(z,k,i)=>{"use strict";i.d(k,{S:()=>A});var c=i(3065),f=i(5385);const a=(0,c.Lq)({loading:!1,joystick:{}},(0,c.on)(f.Q,(S,Z)=>Object.assign(Object.assign({},S),{joystick:Object.assign(Object.assign({},S.joystick),{id:Z.id})})),(0,c.on)(f.s,(S,Z)=>Object.assign(Object.assign({},S),{joystick:Object.assign(Object.assign({},S.joystick),{isConnected:Z.isConnected})}))),A=(0,c.Tz)({name:"joystick",reducer:a})},2516:(z,k,i)=>{"use strict";i.d(k,{J:()=>f});var c=i(3065);const f=(0,c.PH)("[Velocity] Update Velocity",(0,c.Ky)())},8908:(z,k,i)=>{"use strict";i.d(k,{v:()=>A});var c=i(3065),f=i(2516);const a=(0,c.Lq)({loading:!1,velocity:{}},(0,c.on)(f.J,(S,Z)=>Object.assign(Object.assign({},S),{velocity:Z.velocity}))),A=(0,c.Tz)({name:"velocity",reducer:a})},3364:(z,k,i)=>{"use strict";i.d(k,{V:()=>w});var c=i(3815),f=i(2251),v=i(3065),e=i(2285);const a=(0,v.P1)(e.j.selectSafety,m=>m.safetyStop);var A=i(729);const S={type:"config",data:{request:"set",config:{"robot_interface.str_shield":{str_shield:{shield_off:!0}}}}};var Z=i(7716),I=i(7736);let w=(()=>{class m{constructor(T,b){this.linkService=T,this.store=b,this.store.select(A.ft).subscribe(C=>{null!=C&&this.setSafety(!C)})}get safety(){return this.store.select(a)}setSafety(T){this.store.dispatch((0,f.E)({safetyStop:T}))}sendSafetyStopCommand(T){let b=(0,c.cloneDeep)(S);b.data.config["robot_interface.str_shield"].str_shield.shield_off=!T,this.linkService.sendMessage(b),this.setSafety(!0)}}return m.\u0275fac=function(T){return new(T||m)(Z.LFG(I.X),Z.LFG(v.yh))},m.\u0275prov=Z.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},2251:(z,k,i)=>{"use strict";i.d(k,{E:()=>f});var c=i(3065);const f=(0,c.PH)("[Safety] Update Safety",(0,c.Ky)())},2285:(z,k,i)=>{"use strict";i.d(k,{j:()=>Z});var c=i(3065),f=i(2251),v=i(3815);const S=(0,c.Lq)({loading:!1,safety:{safetyStop:!1}},(0,c.on)(f.E,(I,w)=>{let m=(0,v.cloneDeep)(I);return m.safety.safetyStop=w.safetyStop,m})),Z=(0,c.Tz)({name:"safety",reducer:S})},669:(z,k,i)=>{"use strict";i.d(k,{F:()=>T});var c=i(3815);const f={type:"addUser",data:{userInfo:{email:"",username:"",address:"",dateCreated:null,dateModified:null,firstName:"",password:"",isDeactivated:null,phoneNumber:"",lastName:"",role:"",id:""}}},v={type:"getAllUsers",data:{users:[]}},e={type:"deleteUserById",data:{id:-1}};var a=i(4719),A=i(3065),S=i(8358);const Z=(0,A.P1)(S.B.selectUsers,b=>b);var w=i(7716),m=i(7736),_=i(992);let T=(()=>{class b{constructor(r,y,x){this.linkService=r,this.store=y,this.responseMS=x,this.responseMS.getAllUsers.subscribe(g=>{var F;g&&this.receiveAllUsers(null===(F=null==g?void 0:g.data)||void 0===F?void 0:F.users)}),this.fetchAllUsers()}get users(){return this.store.select(Z)}receiveAllUsers(r){this.store.dispatch((0,a.e)({users:r}))}getUserById(r){return this.store.select((b=>(0,A.P1)(S.B.selectUsers,C=>C.filter(r=>r.id===b)))(r))}updateCurrentUser(r){let y=(0,c.cloneDeep)(f);y.type="updateUserInfo",y.data.userInfo=this.getRequestUserInfoFromUserInfoModel(r),this.linkService.sendMessage(y)}updateUserById(r){let y=(0,c.cloneDeep)(f);y.type="updateUserInfoById",y.data.userInfo=this.getRequestUserInfoFromUserInfoModel(r),this.linkService.sendMessage(y)}getRequestUserInfoFromUserInfoModel(r){let y={username:null,password:null,firstName:null,lastName:null,address:null,phoneNumber:null,dateCreated:null,dateModified:null,email:null,isDeactivated:null,role:null,id:null};return y.username=null==r?void 0:r.username,y.password=null==r?void 0:r.password,y.firstName=null==r?void 0:r.firstName,y.lastName=null==r?void 0:r.lastName,y.address=null==r?void 0:r.address,y.phoneNumber=null==r?void 0:r.phoneNumber,y.dateCreated=null==r?void 0:r.dateCreated,y.dateModified=null==r?void 0:r.dateModified,y.email=null==r?void 0:r.email,y.isDeactivated=null==r?void 0:r.isDeactivated,y.role=null==r?void 0:r.role,y.id=null==r?void 0:r.id,y}addUser(r){let y=(0,c.cloneDeep)(f);y.type="addUser",y.data.userInfo=this.getRequestUserInfoFromUserInfoModel(r),this.linkService.sendMessage(y)}fetchAllUsers(){let r=(0,c.cloneDeep)(v);this.linkService.sendMessage(r)}deleteUserById(r){let y=(0,c.cloneDeep)(e);y.data.id=r,this.linkService.sendMessage(y)}}return b.\u0275fac=function(r){return new(r||b)(w.LFG(m.X),w.LFG(A.yh),w.LFG(_.B))},b.\u0275prov=w.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},4719:(z,k,i)=>{"use strict";i.d(k,{e:()=>f,N:()=>v});var c=i(3065);const f=(0,c.PH)("[Users] Update Users",(0,c.Ky)()),v=(0,c.PH)("[Users] Update User",(0,c.Ky)())},8358:(z,k,i)=>{"use strict";i.d(k,{B:()=>Z});var c=i(3065),f=i(3815),e=i(4719);const S=(0,c.Lq)({loading:!1,users:[]},(0,c.on)(e.e,(I,w)=>{let m=w.users;return Object.assign(Object.assign({},I),{users:m})}),(0,c.on)(e.N,(I,w)=>{var m,_;let T=(0,f.cloneDeep)(I),b=null===(m=null==T?void 0:T.users)||void 0===m?void 0:m.findIndex(C=>{var r;return(null==C?void 0:C.id)===(null===(r=null==w?void 0:w.user)||void 0===r?void 0:r.id)});return b&&-1!==b?T.users[b]=w.user:null===(_=T.users)||void 0===_||_.push(w.user),T})),Z=(0,c.Tz)({name:"users",reducer:S})},4098:(z,k,i)=>{"use strict";i.d(k,{s:()=>e});var c=i(729),f=i(7716),v=i(3065);let e=(()=>{class a{constructor(S){this.store=S}get backendVersions(){return this.store.select(c.T4)}}return a.\u0275fac=function(S){return new(S||a)(f.LFG(v.yh))},a.\u0275prov=f.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},552:(z,k,i)=>{"use strict";i.d(k,{G:()=>Y});var c=i(7728),f=i(3679),v=i(3414);const e=[{name:"Account",link:"/app/account/account"}];var a=i(7716),A=i(6305),S=i(669),Z=i(7493),I=i(7093),w=i(8583),m=i(3322),_=i(7963),T=i(8295),b=i(9983),C=i(1095);function r(n,t){if(1&n&&a._UZ(0,"span",18),2&n){const s=a.oxw(2);a.Q6J("innerHTML",s.username,a.oJD)}}function y(n,t){if(1&n&&(a.TgZ(0,"mat-form-field",19),a._UZ(1,"input",20),a.qZA()),2&n){const s=a.oxw(2);a.xp6(1),a.Q6J("placeholder",s.username)}}function x(n,t){if(1&n&&a._UZ(0,"span",18),2&n){const s=a.oxw().$implicit,l=a.oxw(2);a.Q6J("innerHTML",l.accountForm.controls[s.fieldName].value,a.oJD)}}function g(n,t){if(1&n&&(a.TgZ(0,"mat-form-field",19),a._UZ(1,"input",22),a.TgZ(2,"mat-error"),a._uU(3),a.qZA(),a.qZA()),2&n){const s=a.oxw().$implicit,l=a.oxw(2);a.xp6(1),a.Q6J("placeholder",l.findPlaceholder(s.fieldName))("formControlName",s.fieldName),a.xp6(2),a.Oqu(l.getFieldErrorCode(s.fieldName))}}function F(n,t){if(1&n&&(a.TgZ(0,"div",21),a.TgZ(1,"mat-label",11),a._uU(2),a.qZA(),a.YNc(3,x,1,1,"span",12),a.YNc(4,g,4,3,"mat-form-field",13),a.qZA()),2&n){const s=t.$implicit,l=a.oxw(2);a.Q6J("fxFlex","address"===s.fieldName?100:50),a.xp6(2),a.Oqu(s.displayName),a.xp6(1),a.Q6J("ngIf",!l.editingMode),a.xp6(1),a.Q6J("ngIf",l.editingMode)}}const J=function(n){return{"margin-bottom":n}};function N(n,t){if(1&n){const s=a.EpF();a.TgZ(0,"div",23),a.TgZ(1,"button",24),a.NdJ("click",function(){return a.CHM(s),a.oxw(2).saveChanges()}),a._uU(2," Save Changes "),a.qZA(),a.TgZ(3,"button",25),a.NdJ("click",function(){return a.CHM(s),a.oxw(2).cancelChanges()}),a._uU(4," Cancel Changes "),a.qZA(),a.qZA()}if(2&n){const s=a.oxw(2);a.Q6J("fxLayoutGap",s.checkIfMobile()?"0px":"20px"),a.xp6(1),a.ekj("spinner",s.isUpdating),a.Q6J("disabled",s.isUpdating)("ngStyle",a.VKq(8,J,s.checkIfMobile()?"16px":"0px")),a.xp6(2),a.ekj("spinner",s.isUpdating),a.Q6J("disabled",s.isUpdating)}}function j(n,t){if(1&n){const s=a.EpF();a.TgZ(0,"div",26),a.TgZ(1,"button",27),a.NdJ("click",function(){return a.CHM(s),a.oxw(2).startEditing()}),a._uU(2," Edit "),a.qZA(),a.qZA()}}const R=function(n){return{"save-btn-mobile":n}};function G(n,t){if(1&n&&(a.TgZ(0,"div",9),a.TgZ(1,"div",10),a.TgZ(2,"mat-label",11),a._uU(3,"Username"),a.qZA(),a.YNc(4,r,1,1,"span",12),a.YNc(5,y,2,1,"mat-form-field",13),a.qZA(),a.YNc(6,F,5,4,"div",14),a.TgZ(7,"div",15),a.YNc(8,N,5,10,"div",16),a.YNc(9,j,3,0,"div",17),a.qZA(),a.qZA()),2&n){const s=a.oxw();a.xp6(4),a.Q6J("ngIf",!s.editingMode),a.xp6(1),a.Q6J("ngIf",s.editingMode),a.xp6(1),a.Q6J("ngForOf",s.formFields),a.xp6(1),a.Q6J("ngClass",a.VKq(6,R,s.checkIfMobile())),a.xp6(1),a.Q6J("ngIf",s.editingMode),a.xp6(1),a.Q6J("ngIf",!s.editingMode)}}const U=function(n){return{"dark-mode-mobile":n}};let Y=(()=>{class n{constructor(s,l,p){this.tabsMS=s,this.usersMS=l,this.jwtService=p,this.username="",this.accountForm=new f.cw({}),this.formFields=[{displayName:"First Name",fieldName:"firstName",placeholder:"placeholder",fieldState:"value 1",validators:[f.kI.required]},{displayName:"Last name",fieldName:"lastName",placeholder:"placeholder last name",fieldState:"value",validators:[f.kI.required]},{fieldName:"email",displayName:"Email",placeholder:"placeholder",fieldState:"value 1",validators:[f.kI.required,f.kI.email]},{displayName:"Phone Number",fieldName:"phoneNumber",placeholder:"placeholder last name",fieldState:"value",validators:[f.kI.required,c.b.getPhoneValidator()]},{displayName:"Address",fieldName:"address",placeholder:"placeholder address",fieldState:"value address",validators:[f.kI.required]}],this.subscriptions=[]}ngOnInit(){this.username=this.jwtService.getFullUsername(),this.isUpdating=!1,this.editingMode=!1,this.formFields.forEach(s=>{this.accountForm.addControl(s.fieldName,new f.NI(s.fieldState,s.validators))}),this.setFormGroupValueFromUserModel(this.jwtService.getUserInfoModel())}ngAfterViewInit(){this.tabsMS.updateTabs(e)}saveChanges(){!0===this.editingMode&&(this.toggleEditMode(!1),this.usersMS.updateCurrentUser({email:this.getFieldValue("email"),firstName:this.getFieldValue("firstName"),lastName:this.getFieldValue("lastName"),phoneNumber:this.getFieldValue("phoneNumber"),address:this.getFieldValue("address")}))}toggleEditMode(s){this.editingMode=s}startEditing(){this.toggleEditMode(!0),this.unsavedValues={email:this.getFieldValue("email"),firstName:this.getFieldValue("firstName"),lastName:this.getFieldValue("lastName"),phoneNumber:this.getFieldValue("phoneNumber"),address:this.getFieldValue("address")}}cancelChanges(){this.unsavedValues&&this.setFormGroupValueFromUserModel(this.unsavedValues),this.toggleEditMode(!1)}findPlaceholder(s){var l;return null===(l=this.formFields.find(p=>p.fieldName===s))||void 0===l?void 0:l.placeholder}getFieldValue(s){var l,p;return null===(p=null===(l=this.accountForm)||void 0===l?void 0:l.controls[s])||void 0===p?void 0:p.value}setFormGroupValueFromUserModel(s){this.accountForm.patchValue({email:s.email,firstName:s.firstName,lastName:s.lastName,phoneNumber:s.phoneNumber,address:s.address})}checkIfMobile(){return c.b.checkIfMobile()}getFieldErrorCode(s){return v.L.get(s)}ngOnDestroy(){this.subscriptions.forEach(s=>s.unsubscribe())}}return n.\u0275fac=function(s){return new(s||n)(a.Y36(A.l),a.Y36(S.F),a.Y36(Z.T))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-account-page"]],decls:10,vars:6,consts:[[1,"page-style",2,"overflow-y","auto","height","100%"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"outer-div-padding"],["fxLayout","column","fxFlex","70"],[2,"width","100%",3,"formGroup"],[1,"page-components",2,"font-size","18px","font-weight","700","margin-bottom","16px"],["fxLayout","row wrap","class","page-components",4,"ngIf"],["fxLayout","column","fxFlex.lt-sm","100","fxFlex","50",2,"padding-right","30px",3,"ngClass"],["fxFlex.sm","100",1,"page-components","card-max-360"],["title","Dark mode","slideText","Disabled",3,"disabled"],["fxLayout","row wrap",1,"page-components"],["fxLayout","column","fxFlex.lt-sm","100","fxFlex","100",2,"padding-right","30px"],[2,"color","#425466","font-size","14px"],["style","margin-bottom: 25px;font-size: 13px",3,"innerHTML",4,"ngIf"],["style","font-size: 13px","fxFlex","","class","grey-input","appearance","outline","color","accent",4,"ngIf"],["fxLayout","column","fxFlex.lt-sm","100","style","padding-right: 30px",3,"fxFlex",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutAlign","end end",2,"width","100%",3,"ngClass"],["fxLayout","row wrap",3,"fxLayoutGap",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","20px",4,"ngIf"],[2,"margin-bottom","25px","font-size","13px",3,"innerHTML"],["fxFlex","","appearance","outline","color","accent",1,"grey-input",2,"font-size","13px"],["matInput","","disabled","",3,"placeholder"],["fxLayout","column","fxFlex.lt-sm","100",2,"padding-right","30px",3,"fxFlex"],["matInput","",3,"placeholder","formControlName"],["fxLayout","row wrap",3,"fxLayoutGap"],["mat-flat-button","","color","accent",2,"font-size","13px","font-weight","bold","margin-bottom","16px",3,"disabled","ngStyle","click"],["mat-flat-button","","color","accent",2,"font-size","13px","font-weight","bold",3,"disabled","click"],["fxLayout","row wrap","fxLayoutGap","20px"],["mat-flat-button","","color","accent",2,"font-size","13px","font-weight","bold",3,"click"]],template:function(s,l){1&s&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"form",3),a.TgZ(4,"div",4),a._uU(5," Account Information "),a.qZA(),a.YNc(6,G,10,8,"div",5),a.qZA(),a.TgZ(7,"div",6),a.TgZ(8,"div",7),a._UZ(9,"app-switch-tile",8),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&s&&(a.xp6(3),a.Q6J("formGroup",l.accountForm),a.xp6(3),a.Q6J("ngIf",l.accountForm),a.xp6(1),a.Q6J("ngClass",a.VKq(4,U,l.checkIfMobile())),a.xp6(2),a.Q6J("disabled",!0))},directives:[I.xw,I.Wh,I.yH,f._Y,f.JL,f.sg,w.O5,w.mk,m.oO,_.s,T.hX,w.sg,T.KE,b.Nt,f.Fj,f.JJ,f.u,T.TO,I.SQ,C.lW,w.PC,m.Zl],styles:['.save-btn-mobile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.save-btn-mobile[_ngcontent-%COMP%]{margin:20px auto;padding:0!important}.dark-mode-mobile[_ngcontent-%COMP%]{padding:0!important}@keyframes spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #ffffff;border-top-color:#000;animation:spinner .8s linear infinite}']}),n})()},9824:(z,k,i)=>{"use strict";i.d(k,{b:()=>O});var c=i(9083),f=i(3815);const v=[{name:"Logs",link:"/app/logging/logs"}];var e=i(7716),a=i(6305),A=i(1013),S=i(7093),Z=i(2458),I=i(8583),w=i(8295),m=i(7441);function _(h,u){1&h&&(e.TgZ(0,"span"),e._uU(1,"/"),e.qZA())}function T(h,u){if(1&h){const o=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"span",6),e.NdJ("click",function(){const P=e.CHM(o).index,V=e.oxw();return V.onDirectoryChange(V.fullPathToDir(P),!0)}),e._uU(2),e.qZA(),e.YNc(3,_,2,0,"span",11),e.qZA()}if(2&h){const o=u.$implicit,d=u.index,M=e.oxw();e.xp6(2),e.Oqu(o),e.xp6(1),e.Q6J("ngIf",d!==M.fullPathAsArray.length-1)}}let b=(()=>{class h{constructor(){this.displayMode="list",this.directoryChanged=new e.vpe,this.displayModeChanged=new e.vpe,this.fullPath_=[]}set fullPathFromString(o){this.fullPath_=o?null==o?void 0:o.split("/"):[]}get fullPathAsArray(){return this.fullPath_}fullPathToDir(o){var d;return null!=o?null===(d=this.fullPath_.splice(0,o+1))||void 0===d?void 0:d.join("/"):""}onDisplayModeChange(o){this.displayModeChanged.emit(o)}onDirectoryChange(o,d){var M;let P;null!=o?(P=o,this.fullPathFromString=P):P=(null===(M=this.fullPath_)||void 0===M?void 0:M.length)>0&&!d?this.fullPath_.join("/"):"",this.directoryChanged.emit(P)}backPressed(){var o;let d=(null===(o=this.fullPath_)||void 0===o?void 0:o.length)>1?this.fullPath_.splice(this.fullPath_.length-2,1).join("/"):"";this.directoryChanged.emit(d)}ngOnInit(){}}return h.\u0275fac=function(o){return new(o||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-file-manager-header"]],inputs:{displayMode:"displayMode"},outputs:{directoryChanged:"directoryChanged",displayModeChanged:"displayModeChanged"},decls:19,vars:5,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"fileManager"],["fxLayoutGap","24px","fxLayout","row"],["matRipple","","fxLayoutAlign","center center",1,"bi","bi-chevron-left","backIcon",3,"matRippleCentered","click"],["fxLayoutGap","16px","fxLayout","row wrap",1,"currentDirDiv"],[1,"bi","bi-folder2-open",2,"color","#6E6AF4"],["fxLayout","row wrap"],[1,"pathListNavigationSpan",3,"click"],["fxLayoutGap","5px",4,"ngFor","ngForOf"],[3,"value","valueChange"],[3,"value"],["fxLayoutGap","5px"],[4,"ngIf"]],template:function(o,d){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"i",2),e.NdJ("click",function(){return d.backPressed()}),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"div"),e._UZ(5,"i",4),e.TgZ(6,"span"),e._uU(7," : "),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"span",6),e.NdJ("click",function(){return d.onDirectoryChange("")}),e._uU(10,"/"),e.qZA(),e.YNc(11,T,4,2,"div",7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div"),e.TgZ(13,"mat-form-field"),e.TgZ(14,"mat-select",8),e.NdJ("valueChange",function(P){return d.displayMode=P})("valueChange",function(P){return d.onDisplayModeChange(P)}),e.TgZ(15,"mat-option",9),e._uU(16,"Icons View"),e.qZA(),e.TgZ(17,"mat-option",9),e._uU(18,"List View"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("matRippleCentered",!0),e.xp6(9),e.Q6J("ngForOf",d.fullPathAsArray),e.xp6(3),e.Q6J("value",d.displayMode),e.xp6(1),e.Q6J("value","icons"),e.xp6(2),e.Q6J("value","list"))},directives:[S.xw,S.Wh,S.SQ,Z.wG,I.sg,w.KE,m.gD,Z.ey,I.O5],styles:[".pathListNavigationSpan[_ngcontent-%COMP%]{color:#8492a6;font-size:small;cursor:pointer}.pathListNavigationSpan[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--accent-color)}.fileManager[_ngcontent-%COMP%]  .mat-paginator-page-size .mat-select-trigger{padding:0 8px;line-height:17px;height:17px}.fileManager[_ngcontent-%COMP%]  .mat-select-value-text, .fileManager[_ngcontent-%COMP%]  .mat-select-arrow{color:var(--accent-color)}.backIcon[_ngcontent-%COMP%]{cursor:pointer;color:var(--accent-color)}.currentDirDiv[_ngcontent-%COMP%]{background-color:#edf2f7;padding:5px;border-radius:5px}"]}),h})();var C=i(7746),r=i(3322);let y=(()=>{class h{constructor(){}ngOnInit(){}}return h.\u0275fac=function(o){return new(o||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-folder-icon"]],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","64 64 896 896","focusable","false","fill","currentColor","width","1em","height","1em","data-icon","folder","aria-hidden","true"],["d","M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"]],template:function(o,d){1&o&&(e.O4$(),e.TgZ(0,"svg",0),e._UZ(1,"path",1),e.qZA())},styles:[""]}),h})();var x=i(1436),g=i(3273);function F(h,u){1&h&&e._UZ(0,"app-folder-icon",12)}function J(h,u){1&h&&e._UZ(0,"i",13)}function N(h,u){if(1&h){const o=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(o);const M=e.oxw().$implicit;return e.oxw(3).onDoubleClick(M)}),e.qZA()}}const j=function(h){return{selectedContainer:h}};function R(h,u){if(1&h){const o=e.EpF();e.TgZ(0,"mat-list-item",4),e.NdJ("click",function(){const P=e.CHM(o).$implicit;return e.oxw(3).onSelect(P)})("dblclick",function(){const P=e.CHM(o).$implicit;return e.oxw(3).onDoubleClick(P)}),e.TgZ(1,"div",5),e.TgZ(2,"div",6),e.YNc(3,F,1,0,"app-folder-icon",7),e.YNc(4,J,1,0,"i",8),e.TgZ(5,"div"),e.TgZ(6,"div",9),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"div",9),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e.TgZ(14,"i",10),e.NdJ("click",function(){const P=e.CHM(o).$implicit;return e.oxw(3).onDownloadClicked(P)}),e.qZA(),e.YNc(15,N,1,0,"i",11),e.qZA(),e.qZA(),e.qZA()}if(2&h){const o=u.$implicit,d=e.oxw(3);e.Q6J("ngClass",e.VKq(8,j,d.isSelected(o))),e.xp6(3),e.Q6J("ngIf",o.isDir),e.xp6(1),e.Q6J("ngIf",!o.isDir),e.xp6(4),e.Oqu(o.name),e.xp6(3),e.hij(" ",e.lcZ(12,6,o.lastModifiedDate),""),e.xp6(4),e.Q6J("ngIf",o.isDir)}}function G(h,u){if(1&h&&(e.TgZ(0,"mat-list"),e.YNc(1,R,16,10,"mat-list-item",3),e.qZA()),2&h){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.displayedItems)}}function U(h,u){if(1&h&&e._UZ(0,"i",25),2&h){e.oxw();const o=e.MAs(3);e.Q6J("matMenuTriggerFor",o)}}function Y(h,u){1&h&&e._UZ(0,"app-folder-icon",26)}function n(h,u){1&h&&e._UZ(0,"i",27)}function t(h,u){if(1&h){const o=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){const P=e.CHM(o).$implicit;return e.oxw(3).onSelect(P)})("dblclick",function(){const P=e.CHM(o).$implicit;return e.oxw(3).onDoubleClick(P)}),e.YNc(1,U,1,1,"i",18),e.TgZ(2,"mat-menu",null,19),e.TgZ(4,"button",20),e.NdJ("click",function(){const P=e.CHM(o).$implicit;return e.oxw(3).onDownloadClicked(P)}),e._UZ(5,"i",21),e.TgZ(6,"span"),e._uU(7,"Download"),e.qZA(),e.qZA(),e.qZA(),e.YNc(8,Y,1,0,"app-folder-icon",22),e.YNc(9,n,1,0,"i",23),e.TgZ(10,"div",24),e.TgZ(11,"span"),e._uU(12),e.qZA(),e.qZA(),e.qZA()}if(2&h){const o=u.$implicit,d=e.oxw(3);e.Q6J("ngClass",e.VKq(6,j,d.isSelected(o)))("matTooltip",o.name),e.xp6(1),e.Q6J("ngIf",d.isSelected(o)),e.xp6(7),e.Q6J("ngIf",o.isDir),e.xp6(1),e.Q6J("ngIf",!o.isDir),e.xp6(3),e.Oqu(o.name)}}function s(h,u){if(1&h&&(e.TgZ(0,"div",15),e.YNc(1,t,13,8,"div",16),e.qZA()),2&h){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.displayedItems)}}function l(h,u){if(1&h&&(e.TgZ(0,"div"),e.YNc(1,G,2,1,"mat-list",0),e.YNc(2,s,2,1,"div",2),e.qZA()),2&h){const o=e.oxw();e.xp6(1),e.Q6J("ngIf","list"===o.displayMode),e.xp6(1),e.Q6J("ngIf","icons"===o.displayMode)}}function p(h,u){1&h&&(e.TgZ(0,"div",28),e.TgZ(1,"span",29),e._uU(2,"Directory is empty !"),e.qZA(),e.qZA())}let D=(()=>{class h{constructor(){this.displayMode="list",this.dirItems_=[],this.displayedItems_=[],this.take=5,this.skip_=0,this.selectedItem=null,this.folderDoubleClicked=new e.vpe,this.downloadClicked=new e.vpe}ngOnInit(){}handleKeyDown(o){this.onSelect(null)}get isDirItemsEmpty(){var o;return(null===(o=this.dirItems_)||void 0===o?void 0:o.length)<=0}isSelected(o){var d;return(null===(d=this.selectedItem)||void 0===d?void 0:d.fullPath)===(null==o?void 0:o.fullPath)}onSelect(o){this.selectedItem=o}onDoubleClick(o){this.folderDoubleClicked.emit(o)}onDownloadClicked(o){let d=[];d.push(o),this.downloadClicked.emit(d)}get displayedItems(){return this.displayedItems_}get dirItems(){return this.dirItems_}changeDirItems(o){this.dirItems_=o,(null==o?void 0:o.length)>0&&(this.skip_=0,this.updateDisplayedData())}updateDisplayedData(){var o,d,M,P;this.skip_<=(null===(o=this.dirItems)||void 0===o?void 0:o.length)-1&&(this.take>(null===(d=this.dirItems)||void 0===d?void 0:d.length)-this.skip_&&(this.take=(null===(M=this.dirItems)||void 0===M?void 0:M.length)-this.skip_),this.displayedItems_=null===(P=this.dirItems)||void 0===P?void 0:P.slice(this.skip_,this.skip_+this.take))}paginationChanged(o,d){this.take=d,this.skip_=o*d,this.updateDisplayedData()}}return h.\u0275fac=function(o){return new(o||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-file-manager-content"]],hostBindings:function(o,d){1&o&&e.NdJ("keydown.escape",function(P){return d.handleKeyDown(P)},!1,e.Jf7)},inputs:{displayMode:"displayMode",take:"take"},outputs:{folderDoubleClicked:"folderDoubleClicked",downloadClicked:"downloadClicked"},decls:2,vars:2,consts:[[4,"ngIf"],["fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","100px","fxLayoutAlign"," center  center",4,"ngIf"],["class","itemContainer itemContainerList",3,"ngClass","click","dblclick",4,"ngFor","ngForOf"],[1,"itemContainer","itemContainerList",3,"ngClass","click","dblclick"],["fxLayout","row","fxLayoutGap","16px","fxLayoutAlign","space-between center",2,"width","100%"],["fxLayout","row","fxLayoutGap","16px"],["style","font-size: 48px; color: #8492A6",4,"ngIf"],["class","bi bi-file-bar-graph","style","font-size: 48px; color: #8492A6",4,"ngIf"],["mat-line",""],[1,"bi","bi-download",3,"click"],["class","bi bi-box-arrow-in-right",3,"click",4,"ngIf"],[2,"font-size","48px","color","#8492A6"],[1,"bi","bi-file-bar-graph",2,"font-size","48px","color","#8492A6"],[1,"bi","bi-box-arrow-in-right",3,"click"],["fxLayout","row wrap","fxLayoutGap","100px","fxLayoutAlign"," center  center"],["class","itemContainer itemContainerIcons","fxLayoutAlign","center center","fxLayout","column",3,"ngClass","matTooltip","click","dblclick",4,"ngFor","ngForOf"],["fxLayoutAlign","center center","fxLayout","column",1,"itemContainer","itemContainerIcons",3,"ngClass","matTooltip","click","dblclick"],["class","bi bi-three-dots-vertical","fxFlexAlign","end","style","margin-right: 10px; right: 0; height:0",3,"matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","","fxLayoutGap","16px",3,"click"],[1,"bi","bi-download"],["style","font-size: 80px; color: #8492A6",4,"ngIf"],["class","bi bi-file-bar-graph","style","font-size: 80px; color: #8492A6",4,"ngIf"],[2,"text-overflow","ellipsis !important","width","inherit","overflow","hidden","width","80px"],["fxFlexAlign","end",1,"bi","bi-three-dots-vertical",2,"margin-right","10px","right","0","height","0",3,"matMenuTriggerFor"],[2,"font-size","80px","color","#8492A6"],[1,"bi","bi-file-bar-graph",2,"font-size","80px","color","#8492A6"],["fxLayoutAlign","start center"],[2,"margin","30px"]],template:function(o,d){1&o&&(e.YNc(0,l,3,2,"div",0),e.YNc(1,p,3,0,"div",1)),2&o&&(e.Q6J("ngIf",!d.isDirItemsEmpty),e.xp6(1),e.Q6J("ngIf",d.isDirItemsEmpty))},directives:[I.O5,C.i$,I.sg,C.Tg,I.mk,r.oO,S.xw,S.SQ,S.Wh,Z.X2,y,x.gM,g.VK,g.OP,S.XD,g.p6],pipes:[I.uU],styles:[".itemIcon[_ngcontent-%COMP%]{font-size:300px;margin:10px}.itemContainerList[_ngcontent-%COMP%]{width:100%;height:45px}.itemContainerIcons[_ngcontent-%COMP%]{height:150px;width:150px}.selectedContainer[_ngcontent-%COMP%]{background-color:#e1e8ff;border-radius:16px}.unselectedContainer[_ngcontent-%COMP%]{background-color:#fff}.itemContainer[_ngcontent-%COMP%]{cursor:pointer}.itemContainer[_ngcontent-%COMP%]:hover{transition:background-color .1s ease-in-out;background-color:#e1e8ff;border-radius:16px}"]}),h})();var E=i(9692);const L=["paginator"];let B=(()=>{class h{constructor(){this.pageSize=10,this.length=0,this.pageSizeOptions=[5,10,20],this.pageEventChanged=new e.vpe,this.pageIndex=0}onPageEventChange(o){this.pageEventChanged.emit(o)}ngOnInit(){}}return h.\u0275fac=function(o){return new(o||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-file-manager-footer"]],viewQuery:function(o,d){if(1&o&&e.Gf(L,5),2&o){let M;e.iGM(M=e.CRH())&&(d.paginator=M.first)}},inputs:{pageSize:"pageSize",length:"length",pageSizeOptions:"pageSizeOptions"},outputs:{pageEventChanged:"pageEventChanged"},decls:3,vars:4,consts:[[1,"file-manager-footer-container"],[3,"pageSize","pageIndex","length","pageSizeOptions","page"],["paginator",""]],template:function(o,d){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-paginator",1,2),e.NdJ("page",function(P){return d.onPageEventChange(P)}),e.qZA(),e.qZA()),2&o&&(e.xp6(1),e.Q6J("pageSize",d.pageSize)("pageIndex",d.pageIndex)("length",d.length)("pageSizeOptions",d.pageSizeOptions))},directives:[E.NW],styles:[".file-manager-footer-container[_ngcontent-%COMP%]  .mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-paginator-page-size{margin-left:14px!important;margin-right:auto!important;line-height:56px}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-paginator-range-actions{display:flex;align-items:center}.file-manager-footer-container[_ngcontent-%COMP%]  .mat-paginator-range-label{position:absolute;left:225px}.file-manager-footer-container[_ngcontent-%COMP%]{position:relative}"]}),h})();const Q=["content"],ie=["header"],te=["footer"];let ne=(()=>{class h{constructor(){this.data_=[],this.currentDirData_=[],this.displayMode="list",this.defaultPageSize=10,this.dirChanged=new e.vpe,this.downloadClicked=new e.vpe,this.currentDir="",this.latestPageEvent=null}set data(o){null!=o&&(0,c.diff)(this.data_,o)&&(this.data_=o,this.loadCurrentDirData(this.currentDir))}get data(){return this.data_}get currentDirData(){return this.currentDirData_}onDownloadClicked(o){this.downloadClicked.emit(o)}updateCurrentDir(o,d){var M;d&&(o=d.fullPath),this.currentDir=o,this.loadCurrentDirData(o),0===(null===(M=this.currentDirData_)||void 0===M?void 0:M.length)&&this.refreshCurrentDirData(o),this.header.fullPathFromString=o}loadCurrentDirData(o){let d=o?o.split("/"):[],M=(0,f.cloneDeep)(this.data_);this.accessChildrenAndSetCurrentDirData(M,d,(null==d?void 0:d.length)>0?0:null)}displayModeChanged(o){this.displayMode=o,this.content.changeDiritems(this.currentDirData_)}accessChildrenAndSetCurrentDirData(o,d,M){var P;if(null!=M&&M>=0){let V=o.findIndex(H=>H.name===d[M]);-1===V&&(o.push({name:d[M],isDir:!0,fullPath:d.slice(0,M).join("/"),children:[]}),V=o.findIndex(H=>H.name===d[M])),this.accessChildrenAndSetCurrentDirData(o[V].children,d,M=d.length-1>M?M+1:null)}else this.currentDirData_=o,null===(P=this.content)||void 0===P||P.changeDirItems(o),this.pageEventChanged(this.latestPageEvent)}refreshCurrentDirData(o){this.dirChanged.emit(o)}pageEventChanged(o){var d;(0,c.diff)(this.latestPageEvent,o)&&(this.latestPageEvent=o),o?null===(d=this.content)||void 0===d||d.paginationChanged(null==o?void 0:o.pageIndex,null==o?void 0:o.pageSize):this.content.paginationChanged(0,this.defaultPageSize)}ngOnInit(){}ngAfterViewInit(){this.loadCurrentDirData("")}}return h.\u0275fac=function(o){return new(o||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-file-manager"]],viewQuery:function(o,d){if(1&o&&(e.Gf(Q,5),e.Gf(ie,5),e.Gf(te,5)),2&o){let M;e.iGM(M=e.CRH())&&(d.content=M.first),e.iGM(M=e.CRH())&&(d.header=M.first),e.iGM(M=e.CRH())&&(d.footer=M.first)}},outputs:{dirChanged:"dirChanged",downloadClicked:"downloadClicked"},decls:9,vars:5,consts:[["fxLayout","column",1,"navigatorLayout"],[1,"navigatorHeader"],[3,"displayMode","displayModeChanged","directoryChanged"],["header",""],[1,"navigatorContent"],[3,"displayMode","take","folderDoubleClicked","downloadClicked"],["content",""],[1,"navigatorFooter"],[3,"length","pageSize","pageEventChanged"]],template:function(o,d){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"app-file-manager-header",2,3),e.NdJ("displayModeChanged",function(P){return d.displayModeChanged(P)})("directoryChanged",function(P){return d.updateCurrentDir(P)}),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"app-file-manager-content",5,6),e.NdJ("folderDoubleClicked",function(P){return d.updateCurrentDir(null,P)})("downloadClicked",function(P){return d.onDownloadClicked(P)}),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"app-file-manager-footer",8),e.NdJ("pageEventChanged",function(P){return d.pageEventChanged(P)}),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("displayMode",d.displayMode),e.xp6(3),e.Q6J("displayMode",d.displayMode)("take",d.defaultPageSize),e.xp6(3),e.Q6J("length",d.currentDirData.length)("pageSize",d.defaultPageSize))},directives:[S.xw,b,D,B],styles:[".navigatorLayout[_ngcontent-%COMP%]{height:100%}.navigatorContent[_ngcontent-%COMP%]{height:100%}"]}),h})();const $=["fileManager"];let O=(()=>{class h{constructor(o,d){this.tabsMS=o,this.logsMS=d,this.tableData=[],this.subscriptions=[],this.dataSource=[]}downloadClicked(o){this.logsMS.downloadLogs([o])}nodeClicked(){}fetchNewDirData(o){this.logsMS.requestLogs(o)}onDownloadClicked(o){this.logsMS.downloadLogs(o.map(d=>d.fullPath))}ngOnInit(){this.subscriptions.push(this.logsMS.logs.subscribe(o=>{var d;o&&this.fileManager&&(0,c.diff)(null===(d=this.fileManager)||void 0===d?void 0:d.data,o)&&(this.fileManager.data=(0,f.cloneDeep)(o))})),this.tabsMS.updateTabs(v)}ngAfterViewInit(){this.logsMS.requestLogs("")}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe()),this.logsMS.clearLogs()}}return h.\u0275fac=function(o){return new(o||h)(e.Y36(a.l),e.Y36(A.T))},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-logging"]],viewQuery:function(o,d){if(1&o&&e.Gf($,5),2&o){let M;e.iGM(M=e.CRH())&&(d.fileManager=M.first)}},decls:5,vars:0,consts:[[1,"page-style",2,"overflow-y","auto","height","100%"],[1,"outer-div-padding"],[1,"page-components","unselectable","full-width-mobile",2,"height","100%","overflow","auto"],[3,"dirChanged","downloadClicked"],["fileManager",""]],template:function(o,d){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"app-file-manager",3,4),e.NdJ("dirChanged",function(P){return d.fetchNewDirData(P)})("downloadClicked",function(P){return d.onDownloadClicked(P)}),e.qZA(),e.qZA(),e.qZA(),e.qZA())},directives:[ne],styles:[".table-tab-padding[_ngcontent-%COMP%]{padding:45px 64px}.no-padding[_ngcontent-%COMP%]{padding:0!important}"]}),h})()},8045:(z,k,i)=>{"use strict";i.d(k,{i:()=>$});var c,f=new Uint8Array(16);function v(){if(!c&&!(c="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(f)}const e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,A=function(O){return"string"==typeof O&&e.test(O)};for(var S=[],Z=0;Z<256;++Z)S.push((Z+256).toString(16).substr(1));var m,_,T=0,b=0;const r=function(O,h,u){var o=h&&u||0,d=h||new Array(16),M=(O=O||{}).node||m,P=void 0!==O.clockseq?O.clockseq:_;if(null==M||null==P){var V=O.random||(O.rng||v)();null==M&&(M=m=[1|V[0],V[1],V[2],V[3],V[4],V[5]]),null==P&&(P=_=16383&(V[6]<<8|V[7]))}var H=void 0!==O.msecs?O.msecs:Date.now(),K=void 0!==O.nsecs?O.nsecs:b+1,W=H-T+(K-b)/1e4;if(W<0&&void 0===O.clockseq&&(P=P+1&16383),(W<0||H>T)&&void 0===O.nsecs&&(K=0),K>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");T=H,b=K,_=P;var X=(1e4*(268435455&(H+=122192928e5))+K)%4294967296;d[o++]=X>>>24&255,d[o++]=X>>>16&255,d[o++]=X>>>8&255,d[o++]=255&X;var q=H/4294967296*1e4&268435455;d[o++]=q>>>8&255,d[o++]=255&q,d[o++]=q>>>24&15|16,d[o++]=q>>>16&255,d[o++]=P>>>8|128,d[o++]=255&P;for(var ee=0;ee<6;++ee)d[o+ee]=M[ee];return h||function(O){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=(S[O[h+0]]+S[O[h+1]]+S[O[h+2]]+S[O[h+3]]+"-"+S[O[h+4]]+S[O[h+5]]+"-"+S[O[h+6]]+S[O[h+7]]+"-"+S[O[h+8]]+S[O[h+9]]+"-"+S[O[h+10]]+S[O[h+11]]+S[O[h+12]]+S[O[h+13]]+S[O[h+14]]+S[O[h+15]]).toLowerCase();if(!A(u))throw TypeError("Stringified UUID is invalid");return u}(d)},y=[{name:"Remote",link:"/app/remote/remote"}];var x=i(4985),g=i(7716),F=i(6305),J=i(425),N=i(9055),j=i(7093),R=i(1095),G=i(8583),U=i(3322);const Y={series:[{type:"gauge",center:["50%","50%"],radius:"75%",startAngle:180,endAngle:0,animation:!1,pointer:{show:!1},progress:{show:!0,width:45,itemStyle:{color:"#7772FD"}},axisLine:{lineStyle:{width:45}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},anchor:{show:!1},title:{show:!1},detail:{valueAnimation:!0,fontSize:18,offsetCenter:[0,"-25%"]},data:[{value:0,detail:{show:!0,formatter:O=>O.toFixed(0)}}]}]};var n=i(1769);function t(O,h){1&O&&(g.TgZ(0,"small",8),g._uU(1,"(Disabled)"),g.qZA())}let s=(()=>{class O{constructor(){this.speedGaugeOptions=Y,this.enabled=!0,this.subscriptions=[]}initGauge(u){this.gaugeInstance=u,this.gaugeInstance.setOption(this.speedGaugeOptions)}ngOnInit(){}updateSpeed(u){u&&this.gaugeInstance&&(Y.series[0].data[0].value=u,this.gaugeInstance.setOption(Y,!0))}ngOnDestroy(){this.subscriptions.forEach(u=>u.unsubscribe())}}return O.\u0275fac=function(u){return new(u||O)},O.\u0275cmp=g.Xpm({type:O,selectors:[["app-speed-gauge"]],decls:9,vars:1,consts:[["fxLayout","column"],["fxLayoutAlign","space-between"],[1,"component-title"],["style","color:#718096;",4,"ngIf"],[2,"height","236px"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","11px"],[2,"width","50%"],[2,"background","#E4ECF7"],[2,"color","#718096"]],template:function(u,o){1&u&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"span",2),g._uU(3,"Velocity "),g.qZA(),g.YNc(4,t,2,0,"small",3),g.qZA(),g._UZ(5,"div",4),g.TgZ(6,"div",5),g.TgZ(7,"div",6),g._UZ(8,"mat-divider",7),g.qZA(),g.qZA(),g.qZA()),2&u&&(g.xp6(4),g.Q6J("ngIf",!o.enabled))},directives:[j.xw,j.Wh,G.O5,j.SQ,n.d],styles:[""]}),O})();var l=i(7574),p=i(3637),D=i(6561);function E(O=0,h=p.P){return(!(0,D.k)(O)||O<0)&&(O=0),(!h||"function"!=typeof h.schedule)&&(h=p.P),new l.y(u=>(u.add(h.schedule(L,O,{subscriber:u,counter:0,period:O})),u))}function L(O){const{subscriber:h,counter:u,period:o}=O;h.next(u),this.schedule({subscriber:h,counter:u+1,period:o},o)}var B=i(8437);const Q=["semiJoystick"];let ie=(()=>{class O{constructor(){this.id=new g.IIB,this.status=!1,this.joystickSemiOutputData=new g.vpe,this.joystickEndData=new g.vpe,this.joystickSendDataTrigger=new g.vpe,this.joystickSendAliveTrigger=new g.vpe,this.subscriptions=[],this.aliveInterval=E(500),this.dataInterval=E(100),this.semiOptions={mode:"semi",catchDistance:50,restJoystick:!0,color:"black",shape:"circle",dynamicPage:!1,follow:!0},this.isJoystickVisible=!1,this.canSendData=!1}joystickStart(u){this.isJoystickVisible=!0}onMoveSemi(u){this.semiOutputData&&this.joystickSemiOutputData.emit(u),this.semiOutputData=null==u?void 0:u.data}joystickEnd(u){this.joystickEndData.emit(u)}ngOnInit(){this.subscriptions.push(this.aliveInterval.subscribe(()=>{this.joystickSendAliveTrigger.emit()}),this.dataInterval.subscribe(()=>{this.joystickSendDataTrigger.emit()}))}ngOnDestroy(){this.subscriptions.forEach(u=>u.unsubscribe())}}return O.\u0275fac=function(u){return new(u||O)},O.\u0275cmp=g.Xpm({type:O,selectors:[["app-remote-control-joystick"]],viewQuery:function(u,o){if(1&u&&g.Gf(Q,5),2&u){let d;g.iGM(d=g.CRH())&&(o.semiJoystick=d.first)}},inputs:{id:"id",status:"status"},outputs:{joystickSemiOutputData:"joystickSemiOutputData",joystickEndData:"joystickEndData",joystickSendDataTrigger:"joystickSendDataTrigger",joystickSendAliveTrigger:"joystickSendAliveTrigger"},decls:7,vars:1,consts:[["fxLayout","column","fxFlexFill","",1,"disabled-touch"],["fxLayoutAlign","space-between",2,"width","100%"],[1,"component-title"],["fxFlexFill","",1,"zone"],[3,"options","start","move","end"],["semiJoystick",""]],template:function(u,o){1&u&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"span",2),g._uU(3,"Joystick"),g.qZA(),g.qZA(),g.TgZ(4,"div",3),g.TgZ(5,"ngx-joystick",4,5),g.NdJ("start",function(M){return o.joystickStart(M)})("move",function(M){return o.onMoveSemi(M)})("end",function(M){return o.joystickEnd(M)}),g.qZA(),g.qZA(),g.qZA()),2&u&&(g.xp6(5),g.Q6J("options",o.semiOptions))},directives:[j.xw,j.s9,j.Wh,B.C],styles:[".zone[_ngcontent-%COMP%]{position:relative;background:#FFFFFF!important}.noselect[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.disabled-touch[_ngcontent-%COMP%]{touch-action:none}"]}),O})();const te=["speedGauge"],ne=function(O){return{"velocity-mobile":O}};let $=(()=>{class O{constructor(u,o,d){this.tabsMS=u,this.joystickMS=o,this.velocityMS=d,this.id=r(),this.subscriptions=[],this.isConnected=!1}ngOnInit(){this.subscriptions.push(this.joystickMS.isConnected.subscribe(u=>{this.isConnected!==u&&(this.isConnected=u)}),this.velocityMS.velocity.subscribe(u=>{console.log(u)})),this.tabsMS.updateTabs(y),this.velocityMS.toggleVelocity(!0)}ngAfterViewInit(){this.subscriptions.push(this.velocityMS.velocity.subscribe(u=>{var o;null===(o=this.speedGauge)||void 0===o||o.updateSpeed(null==u?void 0:u.speed)}))}sendJoystickData(){this.joystickMS.sendVirtualGamepadData()}sendJoystickAlive(){this.joystickMS.sendAlive(this.id)}reconnect(){this.joystickMS.sendConnect(this.id)}disconnect(){this.joystickMS.sendConnect("")}onMoveSemi(u){var o,d,M,P,V,H,K,W,X,q,ee;this.joystickMS.JoystickData.next({force:null===(o=null==u?void 0:u.data)||void 0===o?void 0:o.force,angle:{DegreeAngle:null===(M=null===(d=null==u?void 0:u.data)||void 0===d?void 0:d.angle)||void 0===M?void 0:M.degree,RadianAngle:null===(V=null===(P=null==u?void 0:u.data)||void 0===P?void 0:P.angle)||void 0===V?void 0:V.radian},direction:{Angle:null===(K=null===(H=null==u?void 0:u.data)||void 0===H?void 0:H.direction)||void 0===K?void 0:K.angle,X:null===(X=null===(W=null==u?void 0:u.data)||void 0===W?void 0:W.direction)||void 0===X?void 0:X.x,Y:null===(ee=null===(q=null==u?void 0:u.data)||void 0===q?void 0:q.direction)||void 0===ee?void 0:ee.y}})}joystickEnd(u){this.joystickMS.JoystickData.next({force:0,angle:{DegreeAngle:null,RadianAngle:null},direction:{Angle:null,X:null,Y:null}})}checkIfMobile(){return x.b.checkIfMobile()}ngOnDestroy(){this.subscriptions.forEach(u=>u.unsubscribe),this.velocityMS.toggleVelocity(!1)}}return O.\u0275fac=function(u){return new(u||O)(g.Y36(F.l),g.Y36(J.J),g.Y36(N.O))},O.\u0275cmp=g.Xpm({type:O,selectors:[["app-remote-control"]],viewQuery:function(u,o){if(1&u&&g.Gf(te,5),2&u){let d;g.iGM(d=g.CRH())&&(o.speedGauge=d.first)}},decls:11,vars:6,consts:[[1,"page-style","remote-control",2,"overflow","auto"],["fxLayout","column","fxLayoutGap","16px",1,"outer-div-padding",2,"height","100%"],["fxLayoutAlign","start center"],["mat-flat-button","","color","accent",3,"click"],["fxLayout","row wrap","fxLayoutGap","16px",2,"width","100%"],["fxFlex.sm","100",1,"page-components","unselectable","full-width-mobile",2,"min-width","300px",3,"ngClass"],["speedGauge",""],[1,"page-components","unselectable","joystick-parent-div",2,"z-index","10"],[3,"status","id","joystickSendAliveTrigger","joystickSendDataTrigger","joystickSemiOutputData","joystickEndData"]],template:function(u,o){1&u&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"button",3),g.NdJ("click",function(){return o.isConnected?o.disconnect():o.reconnect()}),g._uU(4),g.qZA(),g.qZA(),g.TgZ(5,"div",4),g.TgZ(6,"div",5),g._UZ(7,"app-speed-gauge",null,6),g.qZA(),g.TgZ(9,"div",7),g.TgZ(10,"app-remote-control-joystick",8),g.NdJ("joystickSendAliveTrigger",function(){return o.sendJoystickAlive()})("joystickSendDataTrigger",function(){return o.sendJoystickData()})("joystickSemiOutputData",function(M){return o.onMoveSemi(M)})("joystickEndData",function(M){return o.joystickEnd(M)}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&u&&(g.xp6(4),g.Oqu(o.isConnected?"Disconnect":"Connect"),g.xp6(2),g.Q6J("ngClass",g.VKq(4,ne,o.checkIfMobile())),g.xp6(4),g.Q6J("status",o.isConnected)("id",o.id))},directives:[j.xw,j.SQ,j.Wh,R.lW,j.yH,G.mk,U.oO,s,ie],styles:[".remote-control[_ngcontent-%COMP%]  .mat-tab-body-wrapper{height:100%}.joystick-parent-div[_ngcontent-%COMP%]{min-width:850px!important;min-height:350px!important}.velocity-mobile[_ngcontent-%COMP%]{margin-right:0!important;min-width:200px!important}@media screen and (min-width: 0px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:340px!important}}@media screen and (min-width: 1400px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:600px!important}}@media screen and (min-width: 1600px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:700px!important}}@media screen and (min-width: 1700px){.joystick-parent-div[_ngcontent-%COMP%]{min-width:1000px!important}}@media screen and (max-width: 475px){.joystick-parent-div[_ngcontent-%COMP%]{max-width:300px!important;min-width:200px!important;width:100%}}"]}),O})()},7298:(z,k,i)=>{"use strict";i.d(k,{k:()=>T});const c=[{name:"Safety",link:"/app/safety/safety"}];var f=i(4985),v=i(7716),e=i(6305),a=i(3364),A=i(7276),S=i(7093),Z=i(8583),I=i(7963);function w(b,C){if(1&b){const r=v.EpF();v.TgZ(0,"div",5),v.TgZ(1,"app-switch-tile",6),v.NdJ("slideAction",function(x){return v.CHM(r),v.oxw(2).slideSafetyStopAction(x)}),v.qZA(),v.qZA()}if(2&b){const r=C.$implicit,y=v.oxw(2);v.xp6(1),v.Q6J("title",r.title)("description",r.description)("showActive",!0)("slideText","Active")("slideTextDisabled","Inactive")("info",r.info)("initialValue",y.initialValue)("disabled",r.disabled)}}function m(b,C){if(1&b&&(v.TgZ(0,"div",3),v.YNc(1,w,2,8,"div",4),v.qZA()),2&b){const r=v.oxw();v.xp6(1),v.Q6J("ngForOf",r.safetyControls)}}let _=(()=>{class b{constructor(r,y){this.safetyMS=r,this.snackbar=y,this.safetyControls=[{title:"Safety stop",description:"Toggle device safety stop",slideAction:{trigger:x=>{}},disabled:!1,info:"Deactivate software safety shields. Warning, this means that only the Safety PLC will stop the robot now by engaging instead of having smooth decelarations around obstacles"}]}displayMissionSentSuccessfullySnackbar(){this.snackbar.openSnackBar("Mission Sent Successfully",null,{verticalPosition:"top",horizontalPosition:"right"})}slideSafetyStopAction(r){this.safetyMS.sendSafetyStopCommand(r),this.displayMissionSentSuccessfullySnackbar()}ngOnInit(){this.safetyMS.safety.subscribe(r=>{this.initialValue=r})}}return b.\u0275fac=function(r){return new(r||b)(v.Y36(a.V),v.Y36(A.o))},b.\u0275cmp=v.Xpm({type:b,selectors:[["app-safety-status-tab"]],decls:3,vars:1,consts:[[1,"outer-div-padding"],["fxLayout","column","fxLayoutGap","16px",2,"width","calc(100% - 64px)"],["fxLayoutGap.gt-sm","15px","fxLayout","row wrap","fxLayoutAlign","start center",4,"ngIf"],["fxLayoutGap.gt-sm","15px","fxLayout","row wrap","fxLayoutAlign","start center"],["class","page-components full-width-mobile card-width-320",4,"ngFor","ngForOf"],[1,"page-components","full-width-mobile","card-width-320"],[3,"title","description","showActive","slideText","slideTextDisabled","info","initialValue","disabled","slideAction"]],template:function(r,y){1&r&&(v.TgZ(0,"div",0),v.TgZ(1,"div",1),v.YNc(2,m,2,1,"div",2),v.qZA(),v.qZA()),2&r&&(v.xp6(2),v.Q6J("ngIf",null!=y.initialValue))},directives:[S.xw,S.SQ,Z.O5,S.Wh,Z.sg,I.s],styles:[""]}),b})(),T=(()=>{class b{constructor(r){this.tabsMS=r}ngOnInit(){this.tabsMS.updateTabs(c)}checkIfMobile(){return f.b.checkIfMobile()||f.b.checkIfIpad()}}return b.\u0275fac=function(r){return new(r||b)(v.Y36(e.l))},b.\u0275cmp=v.Xpm({type:b,selectors:[["app-safety"]],decls:2,vars:0,consts:[[1,"safety",2,"width","100%","background-color","#F7FAFC !important"]],template:function(r,y){1&r&&(v.TgZ(0,"div",0),v._UZ(1,"app-safety-status-tab"),v.qZA())},directives:[_],styles:[".safety[_ngcontent-%COMP%]  .mat-tab-body-wrapper{height:100%}"]}),b})()},2353:(z,k,i)=>{"use strict";i.d(k,{P:()=>m});var c=i(3815),f=i(4985);const v=[{name:"Users",link:"/app/users/users"}];var e=i(7716),a=i(6305),A=i(669),S=i(4991),Z=i(7493),I=i(6604);const w=["table"];let m=(()=>{class _{constructor(b,C,r,y){this.tabsMS=b,this.usersMs=C,this.editUserDialogService=r,this.jwtService=y,this.subscriptions=[],this.columns=[{id:"username",name:"Username",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}},{id:"firstName",name:"First Name",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}},{id:"lastName",name:"Last Name",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}},{id:"email",name:"Email",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}},{id:"address",name:"Address",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}},{id:"phoneNumber",name:"Phone Number",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}},{id:"dateCreated",name:"Date Created",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}},{id:"dateModified",name:"Date Modified",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}},{id:"role",name:"Role",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}},{id:"edit",name:"",button:!0},{id:"delete",name:"",button:!0}],this.buttonTriggers={edit:{buttonName:"Edit",trigger:x=>{let g=this.tableData.find(F=>F.id===x);this.editUserDialogService.openDialog(g,!0,F=>{this.usersMs.updateUserById({id:F.id,email:F.email,firstName:F.firstName,lastName:F.lastName,phoneNumber:F.phoneNumber,address:F.address,role:F.role})})}},delete:{buttonName:"Delete",trigger:x=>{this.usersMs.deleteUserById(x),this.usersMs.fetchAllUsers()}}},this.tableData=[]}ngOnInit(){this.subscriptions.push(this.usersMs.users.subscribe(b=>{if(b){let C=(0,c.cloneDeep)(this.tableData);(b=b.filter(r=>parseInt(null==r?void 0:r.id)!==this.jwtService.getId())).forEach(r=>{if(r){let y=C.findIndex(x=>x.id===r.id);-1===y?C.push({id:r.id,username:null==r?void 0:r.username,firstName:null==r?void 0:r.firstName,lastName:null==r?void 0:r.lastName,email:null==r?void 0:r.email,address:null==r?void 0:r.address,phoneNumber:null==r?void 0:r.phoneNumber,dateCreated:new Date(null==r?void 0:r.dateCreated).toLocaleDateString(),dateModified:new Date(null==r?void 0:r.dateModified).toLocaleDateString(),role:null==r?void 0:r.role,edit:!0}):C[y]=Object.assign(Object.assign({},r),{dateCreated:null==r?void 0:r.dateCreated.toLocaleDateString(),dateModified:null==r?void 0:r.dateModified.toLocaleDateString()})}}),C.forEach((r,y)=>{-1===b.findIndex(g=>g.id===r.id)&&C.splice(y,1)}),this.table&&(this.table.setTableData(C),this.tableData=C)}})),this.usersMs.fetchAllUsers(),this.tabsMS.updateTabs(v)}checkIfMobile(){return f.b.checkIfMobile()}ngOnDestroy(){this.subscriptions.forEach(b=>b.unsubscribe())}}return _.\u0275fac=function(b){return new(b||_)(e.Y36(a.l),e.Y36(A.F),e.Y36(S.i),e.Y36(Z.T))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-users-page"]],viewQuery:function(b,C){if(1&b&&e.Gf(w,5),2&b){let r;e.iGM(r=e.CRH())&&(C.table=r.first)}},decls:4,vars:4,consts:[[1,"page-style","users-page",2,"overflow-y","auto","height","100%"],[1,"outer-div-padding"],["title","Users Table",3,"columns","ELEMENT_DATA","buttonTriggers","showAddUserButton"],["table",""]],template:function(b,C){1&b&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"app-data-table",2,3),e.qZA(),e.qZA()),2&b&&(e.xp6(2),e.Q6J("columns",C.columns)("ELEMENT_DATA",C.tableData)("buttonTriggers",C.buttonTriggers)("showAddUserButton",!0))},directives:[I.Q],styles:['.users-page[_ngcontent-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline-start, .users-page[_ngcontent-%COMP%]  .mat-form-field-appearance-outline .mat-form-field-outline-end{background-color:#fff}.save-btn-mobile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.save-btn-mobile[_ngcontent-%COMP%]{margin:20px auto;padding:0!important}.dark-mode-mobile[_ngcontent-%COMP%]{padding:0!important}@keyframes spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #ffffff;border-top-color:#000;animation:spinner .8s linear infinite}']}),_})()},8522:(z,k,i)=>{"use strict";i.d(k,{K:()=>_});const c=JSON.parse('{"A":{"_q":"v2.0.0-1-g6445e76","JP":"","_p":"6445e76394e5ebb2ff503156958dd30bdf8e65ff"}}'),f=[{name:"Versioning",link:"/app/versioning/versioning"}];var v=i(4985),e=i(3815),a=i(7716),A=i(6305),S=i(4098),Z=i(7093),I=i(6604);let w=(()=>{class T{constructor(){this.columns=new a.IIB,this.tableData=new a.IIB}ngOnInit(){}}return T.\u0275fac=function(C){return new(C||T)},T.\u0275cmp=a.Xpm({type:T,selectors:[["app-system-info"]],inputs:{columns:"columns",tableData:"tableData"},decls:3,vars:2,consts:[[1,"system-info"],[2,"width","100%"],["title","Front-End versions",3,"columns","ELEMENT_DATA"]],template:function(C,r){1&C&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._UZ(2,"app-data-table",2),a.qZA(),a.qZA()),2&C&&(a.xp6(2),a.Q6J("columns",r.columns)("ELEMENT_DATA",r.tableData))},directives:[I.Q],styles:[".system-info[_ngcontent-%COMP%]  .mat-tab-body-wrapper{height:100%}"]}),T})();const m=["table"];let _=(()=>{class T{constructor(C,r,y){this.changeDetector=C,this.tabsMS=r,this.versionsMS=y,this.subscriptions=[],this.columns=[{id:"name",name:"Name"},{id:"info",name:"Info",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}}],this.tableData=[],this.treeOptions=[{id:0,name:"Reported properties",active:!0,trigger(){}},{id:1,name:"Desired properties",active:!1,trigger(){}},{id:2,name:"Managed properties",active:!1,trigger(){}},{id:3,name:"Raw",active:!1,trigger(){}}],this.columnsSystemInfo=[{id:"name",name:"Name",bold:!0},{id:"info",name:"Info",badge:{badgeCell:!0,badgeColorRule:x=>"#425466",badgeValueRule:x=>x,badgeBackgroundColorRule:x=>"transparent"}}],this.TREE_DATA=[{name:"Review",children:[{name:"Completed",children:[{name:"Pending Approval",children:[{name:"Unpaid"}]},{name:"Completed",children:[{name:"Rejected"}]},{name:"Approved",children:[{name:"Rejected"}]}]}]}],this.tableDataSystemInfo=[{position:1,name:"Product",info:"IdealApp - Brain"},{position:2,name:"Company",info:"BMW - IdealWorks"},{position:3,name:"Tag",info:c.A._q},{position:4,name:"SHA",info:c.A._p},{position:5,name:"Status",info:""===c.A.JP?"Clean":"Modified"}]}ngOnInit(){this.tabsMS.updateTabs(f)}ngAfterContentChecked(){this.versionsMS.backendVersions.subscribe(C=>{var r;if(C){let y=(0,e.cloneDeep)(this.tableData),x=1;null===(r=Object.keys(C))||void 0===r||r.forEach(g=>{if("__type_name"!==g){const F=y.findIndex(J=>J.name===g);-1===F?(y.push({position:x,name:g,info:C[g]}),x++):y[F].info=C[g]}}),this.table&&(this.table.setTableData(y),this.tableData=y)}}),this.changeDetector.detectChanges()}ngOnDestroy(){this.subscriptions.forEach(C=>C.unsubscribe())}selectOption(C){this.treeOptions.forEach(r=>{r.active=this.treeOptions.indexOf(r)===C})}checkIfMobile(){return v.b.checkIfMobile()}}return T.\u0275fac=function(C){return new(C||T)(a.Y36(a.sBO),a.Y36(A.l),a.Y36(S.s))},T.\u0275cmp=a.Xpm({type:T,selectors:[["app-versioning"]],viewQuery:function(C,r){if(1&C&&a.Gf(m,5),2&C){let y;a.iGM(y=a.CRH())&&(r.table=y.first)}},decls:5,vars:4,consts:[[2,"overflow-y","auto","background-color","#F7FAFC","height","100%"],["fxLayout","column","fxLayoutGap","16px",1,"outer-div-padding",2,"height","100%","min-height","100%"],["title","Back-End versions",3,"columns","ELEMENT_DATA"],["table",""],[3,"columns","tableData"]],template:function(C,r){1&C&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._UZ(2,"app-data-table",2,3),a._UZ(4,"app-system-info",4),a.qZA(),a.qZA()),2&C&&(a.xp6(2),a.Q6J("columns",r.columns)("ELEMENT_DATA",r.tableData),a.xp6(2),a.Q6J("columns",r.columnsSystemInfo)("tableData",r.tableDataSystemInfo))},directives:[Z.xw,Z.SQ,I.Q,w],styles:[""]}),T})()},5256:(z,k,i)=>{"use strict";i.r(k),i.d(k,{ShellModule:()=>n});var c=i(8583),f=i(6983),v=i(552),e=i(9824);const a=[{name:"Params",link:"/app/params/params"}];var A=i(7716),S=i(6305);let Z=(()=>{class t{constructor(l){this.tabsMS=l}ngOnInit(){this.tabsMS.updateTabs(a)}}return t.\u0275fac=function(l){return new(l||t)(A.Y36(S.l))},t.\u0275cmp=A.Xpm({type:t,selectors:[["app-persistent-parameters"]],decls:1,vars:0,template:function(l,p){1&l&&A._UZ(0,"router-outlet")},directives:[f.lC],styles:[""]}),t})();var I=i(8045),w=i(7298);const m=[{name:"Overview",link:"/app/system-panel/overview"},{name:"Controls",link:"/app/system-panel/controls"},{name:"Brake Test",link:"/app/system-panel/device-identity"},{name:"Mission",link:"/app/system-panel/mission"}];let _=(()=>{class t{constructor(l){this.tabsMS=l}ngOnInit(){this.tabsMS.updateTabs(m)}}return t.\u0275fac=function(l){return new(l||t)(A.Y36(S.l))},t.\u0275cmp=A.Xpm({type:t,selectors:[["app-system-panel"]],decls:1,vars:0,template:function(l,p){1&l&&A._UZ(0,"router-outlet")},directives:[f.lC],styles:[""]}),t})();var T=i(2353),b=i(8522);const C=[{name:"Device Identity",link:"/app/onboarding/device-identity",index:0},{name:"Interfaces",link:"/app/onboarding/interfaces",index:1},{name:"ATS Onboarding",link:"/app/onboarding/ats-onboarding",index:2}];var r=i(6094);const x=[{path:"system-panel",component:_,loadChildren:()=>Promise.resolve().then(i.bind(i,1856)).then(t=>t.SystemPannelModule)},{path:"params",component:Z,loadChildren:()=>Promise.all([i.e(592),i.e(472)]).then(i.bind(i,9472)).then(t=>t.PersistentParamsModule)},{path:"logging",component:e.b,loadChildren:()=>i.e(998).then(i.bind(i,1998)).then(t=>t.LoggingModule)},{path:"safety",component:w.k,loadChildren:()=>Promise.all([i.e(592),i.e(640)]).then(i.bind(i,640)).then(t=>t.SafetyModule)},{path:"versioning",component:b.K,loadChildren:()=>Promise.all([i.e(592),i.e(71)]).then(i.bind(i,5071)).then(t=>t.VersioningModule)},{path:"remote",component:I.i,loadChildren:()=>Promise.all([i.e(592),i.e(696)]).then(i.bind(i,3696)).then(t=>t.RemoteControlModule)},{path:"users",component:T.P,loadChildren:()=>i.e(592).then(i.bind(i,7246)).then(t=>t.UsersModule)},{path:"account",component:v.G,loadChildren:()=>Promise.all([i.e(592),i.e(573)]).then(i.bind(i,6573)).then(t=>t.AccountModule)},{path:"onboarding",component:(()=>{class t{constructor(l,p){this.steppersMS=l,this.tabsMS=p}ngOnInit(){this.steppersMS.updateSteppers(C),this.tabsMS.updateTabs([])}ngOnDestroy(){this.steppersMS.updateSteppers([])}}return t.\u0275fac=function(l){return new(l||t)(A.Y36(r.h),A.Y36(S.l))},t.\u0275cmp=A.Xpm({type:t,selectors:[["app-onboarding"]],decls:1,vars:0,template:function(l,p){1&l&&A._UZ(0,"router-outlet")},directives:[f.lC],styles:[""]}),t})(),loadChildren:()=>i.e(639).then(i.bind(i,639)).then(t=>t.OnboardingModule)},{path:"**",redirectTo:"system-panel"}];let g=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=A.oAB({type:t}),t.\u0275inj=A.cJS({imports:[[f.Bz.forChild(x)],f.Bz]}),t})();var F=i(9904),J=i(5841),N=i(3065),j=i(6834);let R=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=A.oAB({type:t}),t.\u0275inj=A.cJS({providers:[J.y],imports:[[c.ez,N.Aw.forFeature(j.$)]]}),t})();var G=i(4217),U=i(1856),Y=i(1276);let n=(()=>{class t{}return t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=A.oAB({type:t}),t.\u0275inj=A.cJS({imports:[[c.ez,g,F.A,U.SystemPannelModule,R,G.j,Y.E]]}),t})()}}]);