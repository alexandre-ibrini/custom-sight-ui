"use strict";(self.webpackChunkideal_app=self.webpackChunkideal_app||[]).push([[12],{1012:(S,m,i)=>{i.r(m),i.d(m,{AccountModule:()=>E});var u=i(5987),l=i(3679),p=i(9021),g=i(7984),x=i(6260),h=i(9162),e=i(7716),v=i(3065),N=i(1530),d=i(5618),r=i(8583),f=i(249),F=i(5991),c=i(8295),b=i(9983),A=i(1095);function Z(o,a){if(1&o&&e._UZ(0,"span",18),2&o){const t=e.oxw(2);e.Q6J("innerHTML",t.username,e.oJD)}}function y(o,a){if(1&o&&(e.TgZ(0,"mat-form-field",19),e._UZ(1,"input",20),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("placeholder",t.username)}}function C(o,a){if(1&o&&e._UZ(0,"span",18),2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.Q6J("innerHTML",n.accountForm.controls[t.fieldName].value,e.oJD)}}function _(o,a){if(1&o&&(e.TgZ(0,"mat-form-field",19),e._UZ(1,"input",22),e.TgZ(2,"mat-error"),e._uU(3),e.qZA(),e.qZA()),2&o){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("placeholder",n.findPlaceholder(t.fieldName))("formControlName",t.fieldName),e.xp6(2),e.Oqu(n.getFieldErrorCode(t.fieldName))}}function M(o,a){if(1&o&&(e.TgZ(0,"div",21),e.TgZ(1,"mat-label",11),e._uU(2),e.qZA(),e.YNc(3,C,1,1,"span",12),e.YNc(4,_,4,3,"mat-form-field",13),e.qZA()),2&o){const t=a.$implicit,n=e.oxw(2);e.Q6J("fxFlex","address"===t.fieldName?100:50),e.xp6(2),e.Oqu(t.displayName),e.xp6(1),e.Q6J("ngIf",!n.editingMode),e.xp6(1),e.Q6J("ngIf",n.editingMode)}}const T=function(o){return{"margin-bottom":o}};function w(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",23),e.TgZ(1,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).saveChanges()}),e._uU(2," Save Changes "),e.qZA(),e.TgZ(3,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).cancelChanges()}),e._uU(4," Cancel Changes "),e.qZA(),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("fxLayoutGap",t.checkIfMobile()?"0px":"20px"),e.xp6(1),e.ekj("spinner",t.isUpdating),e.Q6J("disabled",t.isUpdating)("ngStyle",e.VKq(8,T,t.checkIfMobile()?"16px":"0px")),e.xp6(2),e.ekj("spinner",t.isUpdating),e.Q6J("disabled",t.isUpdating)}}function J(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",26),e.TgZ(1,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).startEditing()}),e._uU(2," Edit "),e.qZA(),e.qZA()}}const L=function(o){return{"save-btn-mobile":o}};function I(o,a){if(1&o&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"mat-label",11),e._uU(3,"Username"),e.qZA(),e.YNc(4,Z,1,1,"span",12),e.YNc(5,y,2,1,"mat-form-field",13),e.qZA(),e.YNc(6,M,5,4,"div",14),e.TgZ(7,"div",15),e.YNc(8,w,5,10,"div",16),e.YNc(9,J,3,0,"div",17),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.editingMode),e.xp6(1),e.Q6J("ngIf",t.editingMode),e.xp6(1),e.Q6J("ngForOf",t.formFields),e.xp6(1),e.Q6J("ngClass",e.VKq(6,L,t.checkIfMobile())),e.xp6(1),e.Q6J("ngIf",t.editingMode),e.xp6(1),e.Q6J("ngIf",!t.editingMode)}}const P=function(o){return{"dark-mode-mobile":o}},U=[{path:"",component:(()=>{class o{constructor(t,n){this.store=t,this.jwtService=n,this.accountForm=new l.cw({}),this.formFields=[{displayName:"First Name",fieldName:"firstName",placeholder:"placeholder",fieldState:"value 1",validators:[l.kI.required]},{displayName:"Last name",fieldName:"lastName",placeholder:"placeholder last name",fieldState:"value",validators:[l.kI.required]},{fieldName:"email",displayName:"Email",placeholder:"placeholder",fieldState:"value 1",validators:[l.kI.required,l.kI.email]},{displayName:"Phone Number",fieldName:"phoneNumber",placeholder:"placeholder last name",fieldState:"value",validators:[l.kI.required,p.b.getPhoneValidator()]},{displayName:"Address",fieldName:"address",placeholder:"placeholder address",fieldState:"value address",validators:[l.kI.required]}],this.subscriptions=[]}ngOnInit(){this.username=this.jwtService.getFullUsername(),this.subscriptions.push(this.store.select(x.ep).subscribe(t=>{this.isUpdating=t,this.toggleEditMode(!1)})),this.isUpdating=!1,this.editingMode=!1,this.formFields.forEach(t=>{this.accountForm.addControl(t.fieldName,new l.NI(t.fieldState,t.validators))}),this.setFormGroupValueFromUserModel(this.jwtService.getUserInfoModel())}saveChanges(){!0===this.editingMode&&this.store.dispatch((0,g.B)({updateUserRequest:{email:this.getFieldValue("email"),firstName:this.getFieldValue("firstName"),lastName:this.getFieldValue("lastName"),phoneNumber:this.getFieldValue("phoneNumber"),address:this.getFieldValue("address")}}))}toggleEditMode(t){this.editingMode=t}startEditing(){this.toggleEditMode(!0),this.unsavedValues={email:this.getFieldValue("email"),firstName:this.getFieldValue("firstName"),lastName:this.getFieldValue("lastName"),phoneNumber:this.getFieldValue("phoneNumber"),address:this.getFieldValue("address")}}cancelChanges(){this.unsavedValues&&this.setFormGroupValueFromUserModel(this.unsavedValues),this.toggleEditMode(!1)}findPlaceholder(t){return this.formFields.find(n=>n.fieldName===t).placeholder}getFieldValue(t){var n,s;return null===(s=null===(n=this.accountForm)||void 0===n?void 0:n.controls[t])||void 0===s?void 0:s.value}setFormGroupValueFromUserModel(t){this.accountForm.patchValue({email:t.email,firstName:t.firstName,lastName:t.lastName,phoneNumber:t.phoneNumber,address:t.address})}checkIfMobile(){return p.b.checkIfMobile()}getFieldErrorCode(t){return h.L.get(t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.yh),e.Y36(N.T))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-page"]],decls:10,vars:6,consts:[[1,"page-style",2,"overflow-y","auto","height","100%"],["fxLayout","row wrap","fxLayoutAlign","center center",1,"outer-div-padding"],["fxLayout","column","fxFlex","70"],[2,"width","100%",3,"formGroup"],[1,"page-components",2,"font-size","18px","font-weight","700","margin-bottom","16px"],["fxLayout","row wrap","class","page-components",4,"ngIf"],["fxLayout","column","fxFlex.lt-sm","100","fxFlex","50",2,"padding-right","30px",3,"ngClass"],["fxFlex.sm","100",1,"page-components","card-max-360"],["title","Dark mode","slideText","Disabled",3,"disabled"],["fxLayout","row wrap",1,"page-components"],["fxLayout","column","fxFlex.lt-sm","100","fxFlex","100",2,"padding-right","30px"],[2,"color","#425466","font-size","14px"],["style","margin-bottom: 25px;font-size: 13px",3,"innerHTML",4,"ngIf"],["style","font-size: 13px","fxFlex","","class","grey-input","appearance","outline","color","accent",4,"ngIf"],["fxLayout","column","fxFlex.lt-sm","100","style","padding-right: 30px",3,"fxFlex",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutAlign","end end",2,"width","100%",3,"ngClass"],["fxLayout","row wrap",3,"fxLayoutGap",4,"ngIf"],["fxLayout","row wrap","fxLayoutGap","20px",4,"ngIf"],[2,"margin-bottom","25px","font-size","13px",3,"innerHTML"],["fxFlex","","appearance","outline","color","accent",1,"grey-input",2,"font-size","13px"],["matInput","","disabled","",3,"placeholder"],["fxLayout","column","fxFlex.lt-sm","100",2,"padding-right","30px",3,"fxFlex"],["matInput","",3,"placeholder","formControlName"],["fxLayout","row wrap",3,"fxLayoutGap"],["mat-flat-button","","color","accent",2,"font-size","13px","font-weight","bold","margin-bottom","16px",3,"disabled","ngStyle","click"],["mat-flat-button","","color","accent",2,"font-size","13px","font-weight","bold",3,"disabled","click"],["fxLayout","row wrap","fxLayoutGap","20px"],["mat-flat-button","","color","accent",2,"font-size","13px","font-weight","bold",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e.TgZ(4,"div",4),e._uU(5," Account Information "),e.qZA(),e.YNc(6,I,10,8,"div",5),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e._UZ(9,"app-switch-tile",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",n.accountForm),e.xp6(3),e.Q6J("ngIf",n.accountForm),e.xp6(1),e.Q6J("ngClass",e.VKq(4,P,n.checkIfMobile())),e.xp6(2),e.Q6J("disabled",!0))},directives:[d.xw,d.Wh,d.yH,l._Y,l.JL,l.sg,r.O5,r.mk,f.oO,F.s,c.hX,r.sg,c.KE,b.Nt,l.Fj,l.JJ,l.u,c.TO,d.SQ,A.lW,r.PC,f.Zl],styles:['.save-btn-mobile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.save-btn-mobile[_ngcontent-%COMP%]{margin:20px auto;padding:0!important}.dark-mode-mobile[_ngcontent-%COMP%]{padding:0!important}@keyframes spinner{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #ffffff;border-top-color:#000;animation:spinner .8s linear infinite}']}),o})()}];let V=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.Bz.forChild(U)],u.Bz]}),o})();var Q=i(500);let E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[V,Q.L]]}),o})()}}]);